/*
 * Copyright (c) 2011, Yahoo! Inc.  All rights reserved.
 * Copyright (c) 2011-2012, Log-Normal, Inc.  All rights reserved.
 * Copyright (c) 2012-2017, SOASTA, Inc. All rights reserved.
 * Copyright (c) 2017, Akamai Technologies, Inc. All rights reserved.
 * Copyrights licensed under the BSD License. See the accompanying LICENSE.txt file for terms.
 */
/* JavaScript MD5 1.0.1 Copyright 2011, Sebastian Tschan. Licensed under the MIT license. */
/* Boomerang Version: 3.1.2 7207e98d72cd98984d1ad36e73b73cc265e7d108 */

window.BOOMR_start=(new Date).getTime();function BOOMR_check_doc_domain(domain){if(window){if(!domain){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(err){BOOMR.isCrossOriginError(err)||BOOMR.addError(err,"BOOMR_check_doc_domain.domainFix")}domain=document.domain}if(domain&&-1!==domain.indexOf(".")&&window.parent){try{window.parent.document;return}catch(err){try{document.domain=domain}catch(err2){return}}try{window.parent.document;return}catch(err){domain=domain.replace(/^[\w\-]+\./,"")}BOOMR_check_doc_domain(domain)}}}BOOMR_check_doc_domain();!function(w){var impl,boomr,d,createCustomEvent,dispatchEvent,visibilityState,visibilityChange,orig_w=w;w.parent!==w&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(w=w.parent);d=w.document;w.BOOMR||(w.BOOMR={});BOOMR=w.BOOMR;if(!BOOMR.version){BOOMR.version="3.1.2";BOOMR.window=w;BOOMR.boomerang_frame=orig_w;BOOMR.plugins||(BOOMR.plugins={});!function(){try{new w.CustomEvent("CustomEvent")!==undefined&&(createCustomEvent=function(e_name,params){return new w.CustomEvent(e_name,params)})}catch(ignore){}try{!createCustomEvent&&d.createEvent&&d.createEvent("CustomEvent")&&(createCustomEvent=function(e_name,params){var evt=d.createEvent("CustomEvent");params=params||{cancelable:!1,bubbles:!1};evt.initCustomEvent(e_name,params.bubbles,params.cancelable,params.detail);return evt})}catch(ignore){}!createCustomEvent&&d.createEventObject&&(createCustomEvent=function(e_name,params){var evt=d.createEventObject();evt.type=evt.propertyName=e_name;evt.detail=params.detail;return evt});createCustomEvent=createCustomEvent||function(){return undefined}}();dispatchEvent=function(e_name,e_data,async){var ev=createCustomEvent(e_name,{detail:e_data});ev&&(async?BOOMR.setImmediate(dispatch):dispatch());function dispatch(){try{d.dispatchEvent&&!BOOMR.browser.isIE8()?d.dispatchEvent(ev):d.fireEvent&&d.fireEvent("onpropertychange",ev)}catch(e){}}};if("undefined"!=typeof d.hidden){visibilityState="visibilityState";visibilityChange="visibilitychange"}else if("undefined"!=typeof d.mozHidden){visibilityState="mozVisibilityState";visibilityChange="mozvisibilitychange"}else if("undefined"!=typeof d.msHidden){visibilityState="msVisibilityState";visibilityChange="msvisibilitychange"}else if("undefined"!=typeof d.webkitHidden){visibilityState="webkitVisibilityState";visibilityChange="webkitvisibilitychange"}impl={beacon_url:"",beacon_url_force_https:!0,beacon_urls_allowed:[],beacon_type:"AUTO",beacon_auth_key:undefined,beacon_auth_token:undefined,beacon_with_credentials:!1,beacon_disable_sendbeacon:!1,site_domain:w.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:undefined,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],beacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],config:[],xhr_init:[],spa_init:[],spa_navigation:[],spa_cancel:[],xhr_send:[],xhr_error:[],error:[],netinfo:[],rage_click:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",beacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},translate_events:{onbeacon:"beacon",onconfig:"config",onerror:"error",onxhrerror:"xhr_error"},unloadEventsCount:0,unloadEventCalled:0,listenerCallbacks:{},vars:{},singleBeaconVars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},localStorageSupported:!1,LOCAL_STORAGE_PREFIX:"_boomr_",nativeOverwrites:[],xb_handler:function(type){return function(ev){var target;(ev=ev||w.event).target?target=ev.target:ev.srcElement&&(target=ev.srcElement);3===target.nodeType&&(target=target.parentNode);target&&target.nodeName&&"OBJECT"===target.nodeName.toUpperCase()&&"application/x-shockwave-flash"===target.type||impl.fireEvent(type,target)}},clearEvents:function(){var eventName;for(eventName in this.events)this.events.hasOwnProperty(eventName)&&(this.events[eventName]=[])},clearListeners:function(){var type;for(type in impl.listenerCallbacks)if(impl.listenerCallbacks.hasOwnProperty(type))for(;impl.listenerCallbacks[type].length;)BOOMR.utils.removeListener(impl.listenerCallbacks[type][0].el,type,impl.listenerCallbacks[type][0].fn);impl.listenerCallbacks={}},fireEvent:function(e_name,data){var i,handler,handlers,handlersLen;e_name=e_name.toLowerCase();this.translate_events[e_name]&&(e_name=this.translate_events[e_name]);if(this.events.hasOwnProperty(e_name)){this.public_events.hasOwnProperty(e_name)&&dispatchEvent(this.public_events[e_name],data);handlers=this.events[e_name];"before_beacon"!==e_name&&"beacon"!==e_name&&BOOMR.real_sendBeacon();handlersLen=handlers.length;for(i=0;i<handlersLen;i++)try{(handler=handlers[i]).fn.call(handler.scope,data,handler.cb_data)}catch(err){BOOMR.addError(err,"fireEvent."+e_name+"<"+i+">")}for(i=0;i<handlersLen;i++)if(handlers[i].once){handlers.splice(i,1);handlersLen--;i--}}},isExitBeacon:function(){return impl.vars["http.initiator"]&&impl.vars["http.initiator"]===BOOMR.constants.BEACON_EXIT_INITIATOR},containsCustomData:function(){return BOOMR.hasVar(BOOMR.constants.BEACON_CUSTOM_DATA)||BOOMR.hasVar(BOOMR.constants.BEACON_CLICK_DATA)},readyCheckPlugins:function(){return!(impl.containsCustomData()||impl.isExitBeacon())},spaNavigation:function(){impl.onloadfired=!0},beaconUrlAllowed:function(url){if(!impl.beacon_urls_allowed||0===impl.beacon_urls_allowed.length)return!0;for(var i=0;i<impl.beacon_urls_allowed.length;i++){if(new RegExp(impl.beacon_urls_allowed[i]).exec(url))return!0}return!1},checkLocalStorageSupport:function(){var name=impl.LOCAL_STORAGE_PREFIX+"clss";impl.localStorageSupported=!1;try{if(!w.JSON||!w.localStorage)return;w.localStorage.setItem(impl.LOCAL_STORAGE_PREFIX+"clss",name);impl.localStorageSupported=w.localStorage.getItem(impl.LOCAL_STORAGE_PREFIX+"clss")===name;w.localStorage.removeItem(name)}catch(ignore){impl.localStorageSupported=!1}},onFrameUnloaded:function(){var i,prop;BOOMR.isUnloaded=!0;for(i=0;i<impl.nativeOverwrites.length;i++)(prop=impl.nativeOverwrites[i]).obj[prop.functionName]=prop.origFn;impl.nativeOverwrites=[]}};boomr={t_start:BOOMR_start,t_end:undefined,url:"",config_url:null,loadedLate:!1,beaconsSent:0,isUnloaded:!1,beaconInQueue:!1,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:0,BEACON_CUSTOM_DATA:"custom_data",BEACON_CLICK_DATA:"click_data",BEACON_EXIT_INITIATOR:"exit"},session:{domain:impl.site_domain,ID:undefined,start:undefined,length:0,enabled:!0},utils:{hasPostMessageSupport:function(){return!(!w.postMessage||"function"!=typeof w.postMessage&&"object"!=typeof w.postMessage)},objectToString:function(o,separator,nest_level){var k,value=[];if(!o||"object"!=typeof o)return o;separator===undefined&&(separator="\n\t");nest_level=nest_level||0;if(BOOMR.utils.isArray(o)){for(k=0;k<o.length;k++)0<nest_level&&null!==o[k]&&"object"==typeof o[k]?value.push(this.objectToString(o[k],separator+("\n\t"===separator?"\t":""),nest_level-1)):"&"===separator?value.push(encodeURIComponent(o[k])):value.push(o[k]);separator=","}else for(k in o)Object.prototype.hasOwnProperty.call(o,k)&&(0<nest_level&&null!==o[k]&&"object"==typeof o[k]?value.push(encodeURIComponent(k)+"="+this.objectToString(o[k],separator+("\n\t"===separator?"\t":""),nest_level-1)):"&"===separator?value.push(encodeURIComponent(k)+"="+encodeURIComponent(o[k])):value.push(k+"="+o[k]));return value.join(separator)},getCookie:function(name){if(!name)return null;name=" "+name+"=";var i,cookies=" "+d.cookie+";";if(0<=(i=cookies.indexOf(name))){i+=name.length;return cookies=cookies.substring(i,cookies.indexOf(";",i)).replace(/^"/,"").replace(/"$/,"")}},setCookie:function(name,subcookies,max_age){var value,nameval,savedval,c,exp;if(!name||!BOOMR.session.domain||void 0===subcookies){BOOMR.addVar("nocookie",1);return!1}if((nameval=name+'="'+(value=this.objectToString(subcookies,"&"))+'"').length<500){c=[nameval,"path=/","domain="+BOOMR.session.domain];if("number"==typeof max_age){(exp=new Date).setTime(exp.getTime()+1e3*max_age);exp=exp.toGMTString();c.push("expires="+exp)}d.cookie=c.join("; ");if(value===(savedval=this.getCookie(name))||void 0===savedval&&"number"==typeof max_age&&max_age<=0)return!0;BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+value+"\n"+savedval)}else BOOMR.warn("Cookie too long: "+nameval.length+" "+nameval);BOOMR.addVar("nocookie",1);return!1},getSubCookies:function(cookie){var cookies_a,i,l,kv,gotcookies=!1,cookies={};if(!cookie)return null;if("string"!=typeof cookie)return null;for(i=0,l=(cookies_a=cookie.split("&")).length;i<l;i++)if((kv=cookies_a[i].split("="))[0]){kv.push("");cookies[decodeURIComponent(kv[0])]=decodeURIComponent(kv[1]);gotcookies=!0}return gotcookies?cookies:null},removeCookie:function(name){return this.setCookie(name,{},-86400)},getLocalStorage:function(name){var value,data;if(!name||!impl.localStorageSupported)return null;try{if(null===(value=w.localStorage.getItem(impl.LOCAL_STORAGE_PREFIX+name)))return undefined;data=w.JSON.parse(value)}catch(e){BOOMR.warn(e);return null}if(!data||"object"!=typeof data.items){this.removeLocalStorage(name);return null}if("number"==typeof data.expires&&BOOMR.now()>=data.expires){this.removeLocalStorage(name);return undefined}return data.items},setLocalStorage:function(name,items,max_age){var data,value,savedval;if(!name||!impl.localStorageSupported||"object"!=typeof items)return!1;data={items:items};"number"==typeof max_age&&(data.expires=BOOMR.now()+1e3*max_age);if((value=w.JSON.stringify(data)).length<5e4){try{w.localStorage.setItem(impl.LOCAL_STORAGE_PREFIX+name,value);if(value===(savedval=w.localStorage.getItem(impl.LOCAL_STORAGE_PREFIX+name)))return!0}catch(ignore){}BOOMR.warn("Saved storage value doesn't match what we tried to set:\n"+value+"\n"+savedval)}else BOOMR.warn("Storage items too large: "+value.length+" "+value);return!1},removeLocalStorage:function(name){if(!name||!impl.localStorageSupported)return!1;try{w.localStorage.removeItem(impl.LOCAL_STORAGE_PREFIX+name);return!0}catch(ignore){}return!1},cleanupURL:function(url,urlLimit){if(!url||BOOMR.utils.isArray(url))return"";impl.strip_query_string&&(url=url.replace(/\?.*/,"?qs-redacted"));if(void 0!==urlLimit&&url&&url.length>urlLimit){var qsStart=url.indexOf("?");url=-1!==qsStart&&qsStart<urlLimit?url.substr(0,qsStart)+"?...":url.substr(0,urlLimit-3)+"..."}return url},hashQueryString:function(url,stripHash){if(!url)return url;if(!url.match){BOOMR.addError("TypeError: Not a string","hashQueryString",typeof url);return""}url.match(/^\/\//)&&(url=location.protocol+url);if(!url.match(/^(https?|file):/)){BOOMR.error("Passed in URL is invalid: "+url);return""}stripHash&&(url=url.replace(/#.*/,""));return BOOMR.utils.MD5?url.replace(/\?([^#]*)/,function(m0,m1){return"?"+(10<m1.length?BOOMR.utils.MD5(m1):m1)}):url},pluginConfig:function(o,config,plugin_name,properties){var i,props=0;if(!config||!config[plugin_name])return!1;for(i=0;i<properties.length;i++)if(config[plugin_name][properties[i]]!==undefined){o[properties[i]]=config[plugin_name][properties[i]];props++}return 0<props},arrayFilter:function(array,predicate){var result=[];if(!(this.isArray(array)||array&&"number"==typeof array.length)||"function"!=typeof predicate)return result;if("function"==typeof array.filter)result=array.filter(predicate);else for(var value,index=-1,length=array.length;++index<length;)predicate(value=array[index],index,array)&&(result[result.length]=value);return result},arrayFind:function(array,predicate){if(!(this.isArray(array)||array&&"number"==typeof array.length)||"function"!=typeof predicate)return undefined;if("function"==typeof array.find)return array.find(predicate);for(var value,index=-1,length=array.length;++index<length;)if(predicate(value=array[index],index,array))return value;return undefined},isMutationObserverSupported:function(){return!(w&&w.navigator&&w.navigator.userAgent&&w.navigator.userAgent.match(/Trident.*rv[ :]*11\./))&&w&&w.MutationObserver&&"function"==typeof w.MutationObserver},addObserver:function(el,config,timeout,callback,callback_data,callback_ctx){var MO,zs,o={observer:null,timer:null};if(!this.isMutationObserverSupported()||!callback||!el)return null;function done(mutations){var run_again=!1;if(o.timer){clearTimeout(o.timer);o.timer=null}callback&&((run_again=callback.call(callback_ctx,mutations,callback_data))||(callback=null));if(!run_again&&o.observer){o.observer.disconnect();o.observer=null}"number"==typeof run_again&&0<run_again&&(o.timer=setTimeout(done,run_again))}MO=w.MutationObserver;w.Zone&&"function"==typeof w.Zone.__symbol__&&(zs=w.Zone.__symbol__("MutationObserver"))&&"string"==typeof zs&&w.hasOwnProperty(zs)&&"function"==typeof w[zs]&&(MO=w[zs]);o.observer=new MO(done);timeout&&(o.timer=setTimeout(done,o.timeout));o.observer.observe(el,config);return o},addListener:function(el,type,fn,passiveOrOpts){var opts=!1;if(el.addEventListener){"object"==typeof passiveOrOpts?opts=passiveOrOpts:"boolean"==typeof passiveOrOpts&&passiveOrOpts&&BOOMR.browser.supportsPassive()&&(opts={capture:!1,passive:!0});el.addEventListener(type,fn,opts)}else el.attachEvent&&el.attachEvent("on"+type,fn);impl.listenerCallbacks[type]=impl.listenerCallbacks[type]||[];impl.listenerCallbacks[type].push({el:el,fn:fn})},removeListener:function(el,type,fn){el.removeEventListener?el.removeEventListener(type,fn,!1):el.detachEvent&&el.detachEvent("on"+type,fn);if(impl.listenerCallbacks.hasOwnProperty(type))for(var i=0;i<impl.listenerCallbacks[type].length;i++)if(fn===impl.listenerCallbacks[type][i].fn&&el===impl.listenerCallbacks[type][i].el){impl.listenerCallbacks[type].splice(i,1);return}},isArray:function(ary){return"[object Array]"===Object.prototype.toString.call(ary)},inArray:function(val,ary){var i;if(void 0===val||void 0===ary||!ary.length)return!1;for(i=0;i<ary.length;i++)if(ary[i]===val)return!0;return!1},getQueryParamValue:function(param,url){var l,params,i,kv;if(!param)return null;"string"==typeof url?(l=BOOMR.window.document.createElement("a")).href=url:l="object"==typeof url&&"string"==typeof url.search?url:BOOMR.window.location;params=l.search.slice(1).split(/&/);for(i=0;i<params.length;i++)if(params[i]&&(kv=params[i].split("=")).length&&kv[0]===param)return 1<kv.length?decodeURIComponent(kv.splice(1).join("=").replace(/\+/g," ")):"";return null},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*Math.random()|0;return("x"===c?r:3&r|8).toString(16)})},generateId:function(chars){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,chars||40).replace(/x/g,function(c){return"0"===(c=(Math.random()||.01).toString(36))?"0":c.substr(2,1)})},serializeForUrl:function(value){return window.JSON?JSON.stringify(value):""},getMyURL:function(){var stack,BOOMR_script=document.currentScript||document.getElementById("boomr-if-as")||document.getElementById("boomr-scr-as");if(BOOMR_script)return BOOMR_script.src;for(var scripts=document.getElementsByTagName("script"),i=scripts.length;i--;)if("interactive"===scripts[i].readyState)return scripts[i].src;try{throw new Error}catch(e){if("stack"in e&&(stack=this.arrayFilter(e.stack.split(/\n/),function(l){return l.match(/https?:\/\//)}))&&stack.length)return stack[0].replace(/.*(https?:\/\/.+?)(:\d+)+\D*$/m,"$1")}return""},scroll:function(){var supportPageOffset=w.pageXOffset!==undefined,isCSS1Compat="CSS1Compat"===(w.document.compatMode||""),ret={x:0,y:0};if(supportPageOffset)if("function"==typeof w.pageXOffset){ret.x=w.pageXOffset();ret.y=w.pageYOffset()}else{ret.x=w.pageXOffset;ret.y=w.pageYOffset}else if(isCSS1Compat){ret.x=w.document.documentElement.scrollLeft;ret.y=w.document.documentElement.scrollTop}else{ret.x=w.document.body.scrollLeft;ret.y=w.document.body.scrollTop}"number"==typeof ret.sx&&(ret.sx=Math.round(ret.sx));"number"==typeof ret.sy&&(ret.sy=Math.round(ret.sy));return ret},windowHeight:function(){return w.innerHeight||w.document.documentElement.clientHeight||w.document.body.clientHeight},windowWidth:function(){return w.innerWidth||w.document.documentElement.clientWidth||w.document.body.clientWidth},isNative:function(fn){return!!fn&&fn.toString&&!fn.hasOwnProperty("toString")&&/\[native code\]/.test(String(fn))},overwriteNative:function(obj,functionName,newFn){if(obj&&newFn){BOOMR.boomerang_frame!==BOOMR.window&&impl.nativeOverwrites.push({obj:obj,functionName:functionName,origFn:obj[functionName]});obj[functionName]=newFn}},isInteger:function(data){return(Number.isInteger||function(value){return"number"==typeof value&&isFinite(value)&&Math.floor(value)===value})(data)}},browser:{results:{},supportsPassive:function(){if("undefined"==typeof BOOMR.browser.results.supportsPassive){BOOMR.browser.results.supportsPassive=!1;if(!Object.defineProperty)return!1;try{var opts=Object.defineProperty({},"passive",{get:function(){BOOMR.browser.results.supportsPassive=!0}});window.addEventListener("test",null,opts)}catch(e){}}return BOOMR.browser.results.supportsPassive},isIE8:function(){return!document.getElementsByClassName}},init:function(config){BOOMR.shouldOverrideConfig&&(config=BOOMR.overrideConfig(config));var i,k,properties=["autorun","beacon_auth_key","beacon_auth_token","beacon_with_credentials","beacon_disable_sendbeacon","beacon_url","beacon_url_force_https","beacon_type","site_domain","strip_query_string","user_ip","enableSpaIe8"];BOOMR_check_doc_domain();(config=config||{}).log!==undefined&&(this.log=config.log);this.log||(this.log=function(){});this.pageId||(this.pageId=BOOMR.utils.generateId(8));if(config.primary&&impl.handlers_attached)return this;"string"==typeof config.site_domain&&(this.session.domain=config.site_domain);BOOMR.session.enabled&&"undefined"==typeof BOOMR.session.ID&&(BOOMR.session.ID=BOOMR.utils.generateUUID());"undefined"!=typeof config.autorun&&(impl.autorun=config.autorun);for(k in this.plugins)if(this.plugins.hasOwnProperty(k)){if(config[k]&&config[k].hasOwnProperty("enabled")&&!1===config[k].enabled){impl.disabled_plugins[k]=1;"function"==typeof this.plugins[k].disable&&this.plugins[k].disable();continue}if(impl.disabled_plugins[k]){if(!config[k]||!config[k].hasOwnProperty("enabled")||!0!==config[k].enabled)continue;"function"==typeof this.plugins[k].enable&&this.plugins[k].enable();delete impl.disabled_plugins[k]}if("function"==typeof this.plugins[k].init)try{this.plugins[k].init(config)}catch(err){BOOMR.addError(err,k+".init")}}for(i=0;i<properties.length;i++)config[properties[i]]!==undefined&&(impl[properties[i]]=config[properties[i]]);if(!impl.handlers_attached&&!config.wait||impl.handlers_attached&&impl.waiting_for_config){if(!impl.onloadfired&&(impl.autorun===undefined||!1!==impl.autorun)){BOOMR.hasBrowserOnloadFired()&&(BOOMR.loadedLate=!0);BOOMR.attach_page_ready(BOOMR.page_ready_autorun)}impl.waiting_for_config=!1}if(impl.handlers_attached)return this;config.wait&&(impl.waiting_for_config=!0);BOOMR.attach_page_ready(function(){BOOMR.t_onload||(BOOMR.t_onload=BOOMR.now())});BOOMR.utils.addListener(w,"DOMContentLoaded",function(){impl.fireEvent("dom_loaded")});BOOMR.fireEvent("config",config);BOOMR.subscribe("config",function(beaconConfig){beaconConfig.beacon_url&&(impl.beacon_url=beaconConfig.beacon_url)});BOOMR.subscribe("spa_navigation",impl.spaNavigation,null,impl);!function(){var forms,iterator;if(visibilityChange!==undefined){BOOMR.utils.addListener(d,visibilityChange,function(){impl.fireEvent("visibility_changed")});impl.lastVisibilityState=BOOMR.visibilityState();BOOMR.subscribe("visibility_changed",function(){var visState=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[visState]=BOOMR.now();if("prerender"===impl.lastVisibilityState&&"prerender"!==visState){BOOMR.addVar("vis.pre","1");impl.fireEvent("prerender_to_visible")}impl.lastVisibilityState=visState})}BOOMR.utils.addListener(d,"mouseup",impl.xb_handler("click"));forms=d.getElementsByTagName("form");for(iterator=0;iterator<forms.length;iterator++)BOOMR.utils.addListener(forms[iterator],"submit",impl.xb_handler("form_submit"));w.onpagehide||null===w.onpagehide||BOOMR.utils.addListener(w,"unload",function(){BOOMR.window=w=null});BOOMR.boomerang_frame!==BOOMR.window&&BOOMR.utils.addListener(BOOMR.boomerang_frame,"unload",impl.onFrameUnloaded)}();impl.handlers_attached=!0;return this},attach_page_ready:function(cb){BOOMR.hasBrowserOnloadFired()?this.setImmediate(cb,null,null,BOOMR):w.onpagehide||null===w.onpagehide?BOOMR.utils.addListener(w,"pageshow",cb):BOOMR.utils.addListener(w,"load",cb)},page_ready_autorun:function(ev){impl.autorun&&BOOMR.page_ready(ev,!0)},page_ready:function(ev,auto){var tm_page_ready;if(!auto&&"number"==typeof ev){tm_page_ready=ev;ev=null}ev=(ev=ev||w.event)||{name:"load"};if(auto){if("number"==typeof w.BOOMR_page_ready){ev.timing=ev.timing||{};ev.timing.loadEventEnd=w.BOOMR_page_ready;BOOMR.addVar("pr",1,!0)}}else{ev.timing=ev.timing||{};tm_page_ready?ev.timing.loadEventEnd=tm_page_ready:"number"==typeof w.BOOMR_page_ready?ev.timing.loadEventEnd=w.BOOMR_page_ready:ev.timing.loadEventEnd=BOOMR.now();BOOMR.addVar("pr",1,!0)}if(impl.onloadfired)return this;impl.fireEvent("page_ready",ev);impl.onloadfired=!0;return this},hasBrowserOnloadFired:function(){var p=BOOMR.getPerformance();return d.readyState&&"complete"===d.readyState||p&&p.timing&&0<p.timing.loadEventStart||0<w.BOOMR_onload},onloadFired:function(){return impl.onloadfired},setImmediate:function(fn,data,cb_data,cb_scope){var cb=function(){fn.call(cb_scope||null,data,cb_data||{},void 0);cb=null};w.requestIdleCallback?w.requestIdleCallback(cb,{timeout:1e3}):w.setImmediate?w.setImmediate(cb):setTimeout(cb,10)},now:Date.now||function(){return(new Date).getTime()},getPerformance:function(){try{if(BOOMR.window)return"performance"in BOOMR.window&&BOOMR.window.performance?BOOMR.window.performance:BOOMR.window.msPerformance||BOOMR.window.webkitPerformance||BOOMR.window.mozPerformance}catch(ignore){}},hrNow:function(){var now,navigationStart,p=BOOMR.getPerformance();if(p&&p.now)now=p.now();else{navigationStart=BOOMR.plugins.RT&&BOOMR.plugins.RT.navigationStart&&BOOMR.plugins.RT.navigationStart()||BOOMR.t_lstart||BOOMR.t_start;now=BOOMR.now()-navigationStart}return now},visibilityState:visibilityState===undefined?function(){return"visible"}:function(){return d[visibilityState]},lastVisibilityEvent:{},registerEvent:function(e_name){if(impl.events.hasOwnProperty(e_name))return this;impl.events[e_name]=[];return this},disable:function(){impl.clearEvents();impl.clearListeners()},fireEvent:function(e_name,data){return impl.fireEvent(e_name,data)},subscribe:function(e_name,fn,cb_data,cb_scope,once){var i,handler,ev;e_name=e_name.toLowerCase();impl.translate_events[e_name]&&(e_name=impl.translate_events[e_name]);impl.events.hasOwnProperty(e_name)||(impl.events[e_name]=[]);ev=impl.events[e_name];for(i=0;i<ev.length;i++)if((handler=ev[i])&&handler.fn===fn&&handler.cb_data===cb_data&&handler.scope===cb_scope)return this;ev.push({fn:fn,cb_data:cb_data||{},scope:cb_scope||null,once:once||!1});"page_ready"===e_name&&impl.onloadfired&&impl.autorun&&this.setImmediate(fn,null,cb_data,cb_scope);if("page_unload"===e_name||"before_unload"===e_name){impl.unloadEventsCount++;!function(){ev.length;var unload_handler=function(evt){fn&&fn.call(cb_scope,evt||w.event,cb_data);if(++impl.unloadEventCalled===impl.unloadEventsCount){BOOMR.addVar("http.initiator",BOOMR.constants.BEACON_EXIT_INITIATOR);BOOMR.plugins.Clicks&&BOOMR.plugins.Clicks.send_on_spa();BOOMR.real_sendBeacon()}};"page_unload"===e_name&&(w.onpagehide||null===w.onpagehide?BOOMR.utils.addListener(w,"pagehide",unload_handler):BOOMR.utils.addListener(w,"unload",unload_handler));BOOMR.utils.addListener(w,"beforeunload",unload_handler)}()}return this},addError:function BOOMR_addError(err,src,extra){var str,E=BOOMR.plugins.Errors;BOOMR.error("Boomerang caught error: "+err+", src: "+src+", extra: "+extra);if(E&&E.is_supported())if("string"==typeof err)E.send({message:err,extra:extra,functionName:src,noStack:!0},E.VIA_APP,E.SOURCE_BOOMERANG);else{"string"==typeof src&&(err.functionName=src);void 0!==extra&&(err.extra=extra);E.send(err,E.VIA_APP,E.SOURCE_BOOMERANG)}else{if("string"!=typeof err){(str=String(err)).match(/^\[object/)&&(str=err.name+": "+(err.description||err.message).replace(/\r\n$/,""));err=str}src!==undefined&&(err="["+src+":"+BOOMR.now()+"] "+err);extra&&(err+=":: "+extra);impl.errors[err]?impl.errors[err]++:impl.errors[err]=1}},isCrossOriginError:function(err){return"SecurityError"===err.name||"TypeError"===err.name&&"Permission denied"===err.message||"Error"===err.name&&err.message&&err.message.match(/^(Permission|Access is) denied/)||-2146828218===err.number},addVar:function(name,value,singleBeacon){if("string"==typeof name)impl.vars[name]=value;else if("object"==typeof name){var k,o=name;for(k in o)o.hasOwnProperty(k)&&(impl.vars[k]=o[k])}singleBeacon&&(impl.singleBeaconVars[name]=1);return this},appendVar:function(name,value){var existing=BOOMR.getVar(name)||"";existing&&(existing+=",");BOOMR.addVar(name,existing+value);return this},removeVar:function(arg0){var i,params;if(!arguments.length)return this;params=1===arguments.length&&BOOMR.utils.isArray(arg0)?arg0:arguments;for(i=0;i<params.length;i++)impl.vars.hasOwnProperty(params[i])&&delete impl.vars[params[i]];return this},hasVar:function(name){return impl.vars.hasOwnProperty(name)},getVar:function(name){return impl.vars[name]},setVarPriority:function(name,pri){if("number"!=typeof pri||1!==Math.abs(pri))return this;impl.varPriority[pri][name]=1;return this},setReferrer:function(r){impl.r=r},requestStart:function(name){var t_start=BOOMR.now();BOOMR.plugins.RT.startTimer("xhr_"+name,t_start);return{loaded:function(data){BOOMR.responseEnd(name,t_start,data)}}},readyToSend:function(){var plugin;for(plugin in this.plugins)if(this.plugins.hasOwnProperty(plugin)){if(impl.disabled_plugins[plugin])continue;if("function"==typeof this.plugins[plugin].readyToSend&&!1===this.plugins[plugin].readyToSend())return!1}return!0},responseEnd:function(name,t_start,data,t_end){t_start="number"==typeof t_start?t_start:BOOMR.now();t_end="number"==typeof t_end?t_end:BOOMR.now();if(BOOMR.readyToSend())if(BOOMR.hasSentPageLoadBeacon()||BOOMR.utils.inArray(name.initiator,BOOMR.constants.BEACON_TYPE_SPAS))if(impl.beaconInQueue)BOOMR.subscribe("beacon",function(){BOOMR.responseEnd(name,t_start,data,t_end)},null,BOOMR,!0);else{impl.beaconInQueue=!0;if("object"==typeof name){if(!name.url)return;impl.fireEvent("xhr_load",name)}else{BOOMR.real_sendBeacon();BOOMR.addVar("xhr.pg",name);BOOMR.plugins.RT.startTimer("xhr_"+name,t_start);impl.fireEvent("xhr_load",{name:"xhr_"+name,data:data,timing:{loadEventEnd:t_end}})}}else BOOMR.subscribe("page_load_beacon",function(){BOOMR.responseEnd(name,t_start,data,t_end)},null,BOOMR,!0);else setTimeout(function(){BOOMR.responseEnd(name,t_start,data,t_end)},1e3)},uninstrumentXHR:function(){},instrumentXHR:function(){},uninstrumentFetch:function(){},instrumentFetch:function(){},sendBeacon:function(beacon_url_override){beacon_url_override&&(impl.beacon_url_override=beacon_url_override);if(!impl.beaconQueued){impl.beaconQueued=!0;BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)}return!0},sendBeaconWhenReady:function(params,callback,that){if(impl.beaconInQueue)BOOMR.subscribe("beacon",function(){BOOMR.sendBeaconWhenReady(params,callback,that)},null,BOOMR,!0);else{impl.beaconInQueue=!0;for(var paramName in params)params.hasOwnProperty(paramName)&&BOOMR.addVar(paramName,params[paramName],!0);"function"==typeof callback&&void 0!==that&&callback.apply(that);BOOMR.sendBeacon()}},real_sendBeacon:function(){var k,errors=[],varsSent={};if(!impl.beaconQueued)return!1;impl.beaconQueued=!1;if(impl.readyCheckPlugins())for(k in this.plugins)if(this.plugins.hasOwnProperty(k)){if(impl.disabled_plugins[k])continue;if(!this.plugins[k].is_complete(impl.vars))return!1}if(!(window&&window.Image&&window.navigator&&BOOMR.window))return!1;var isSPA=BOOMR.utils.inArray(impl.vars["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS),isPageLoad="undefined"==typeof impl.vars["http.initiator"]||isSPA;impl.vars.pgu||(impl.vars.pgu=isSPA?d.URL:d.URL.replace(/#.*/,""));impl.vars.pgu=BOOMR.utils.cleanupURL(impl.vars.pgu);impl.vars.u&&!isSPA||(impl.vars.u=impl.vars.pgu);impl.vars.pgu===impl.vars.u&&delete impl.vars.pgu;impl.r?impl.vars.r=BOOMR.utils.cleanupURL(impl.r):delete impl.vars.r;impl.vars.v=BOOMR.version;BOOMR.snippetVersion&&(impl.vars.sv=BOOMR.snippetVersion);impl.vars.sm=BOOMR.snippetMethod||"i";if(BOOMR.session.enabled){impl.vars["rt.si"]=BOOMR.session.ID+"-"+Math.round(BOOMR.session.start/1e3).toString(36);impl.vars["rt.ss"]=BOOMR.session.start;impl.vars["rt.sl"]=BOOMR.session.length}if(BOOMR.visibilityState()){impl.vars["vis.st"]=BOOMR.visibilityState();BOOMR.lastVisibilityEvent.visible&&(impl.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible);BOOMR.lastVisibilityEvent.hidden&&(impl.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)}impl.vars["ua.plt"]=navigator.platform;impl.vars["ua.vnd"]=navigator.vendor;this.pageId&&(impl.vars.pid=this.pageId);impl.vars.n=++this.beaconsSent;w!==window&&(impl.vars["if"]="");for(k in impl.errors)impl.errors.hasOwnProperty(k)&&errors.push(k+(1<impl.errors[k]?" (*"+impl.errors[k]+")":""));0<errors.length&&(impl.vars.errors=errors.join("\n"));impl.errors={};impl.fireEvent("before_beacon",impl.vars);for(k in impl.vars)impl.vars.hasOwnProperty(k)&&(varsSent[k]=impl.vars[k]);if(impl.enableSpaIe8&&!impl.hasSentPageLoadBeacon&&isPageLoad&&BOOMR.plugins.AutoXHR&&BOOMR.plugins.AutoXHR.IE8){var resource=BOOMR.plugins.AutoXHR.getResource();if(resource&&resource.initiator){BOOMR.plugins.AutoXHR.removeResource();varsSent["http.initiator"]=resource.initiator}}BOOMR.removeVar(["qt","pgu"]);for(var singleVarName in impl.singleBeaconVars)impl.singleBeaconVars.hasOwnProperty(singleVarName)&&BOOMR.removeVar(singleVarName);impl.singleBeaconVars={};if(!impl.hasSentPageLoadBeacon&&isPageLoad){impl.hasSentPageLoadBeacon=!0;BOOMR.setImmediate(function(){impl.fireEvent("page_load_beacon",varsSent)})}if(BOOMR.session.rate_limited)return!1;impl.beaconInQueue=!1;BOOMR.plugins.excludeUserAgent&&!BOOMR.allowedUserAgent||BOOMR.sendBeaconData(varsSent);return!0},sendBeaconData:function(data){var urlLast,paramsJoined,url,img,xhr,urlFirst=[],useImg=!0;impl.beacon_url=impl.beacon_url_override||impl.beacon_url;if(!impl.beacon_url)return!1;if(!impl.beaconUrlAllowed(impl.beacon_url))return!1;if(0===data.length)return!1;impl.fireEvent("beacon",data);urlFirst=this.getVarsOfPriority(data,-1);urlLast=this.getVarsOfPriority(data,1);paramsJoined=urlFirst.concat(this.getVarsOfPriority(data,0),urlLast).join("&");impl.beacon_url_force_https&&impl.beacon_url.match(/^\/\//)&&(impl.beacon_url="https:"+impl.beacon_url);url=impl.beacon_url+(-1<impl.beacon_url.indexOf("?")?"&":"?")+paramsJoined;if("GET"===impl.beacon_type){useImg=!0;url.length>BOOMR.constants.MAX_GET_LENGTH&&(window.console&&(console.warn||console.log)||function(){})("Boomerang: Warning: Beacon may not be sent via GET due to payload size > 2000 bytes")}else("POST"===impl.beacon_type||url.length>BOOMR.constants.MAX_GET_LENGTH)&&(useImg=!1);if(w&&w.navigator&&"function"==typeof w.navigator.sendBeacon&&BOOMR.utils.isNative(w.navigator.sendBeacon)&&"function"==typeof w.Blob&&"GET"!==impl.beacon_type&&"undefined"==typeof impl.beacon_auth_token&&!impl.beacon_disable_sendbeacon){var blobData=new w.Blob([paramsJoined+"&sb=1"],{type:"application/x-www-form-urlencoded"});if(w.navigator.sendBeacon(impl.beacon_url,blobData))return!0}BOOMR.orig_XMLHttpRequest||w&&w.XMLHttpRequest||(useImg=!0);if(useImg){try{img=new Image}catch(e){return!1}img.src=url}else{xhr=new(BOOMR.window.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest);try{this.sendXhrPostBeacon(xhr,paramsJoined)}catch(e){xhr=new BOOMR.boomerang_frame.XMLHttpRequest;this.sendXhrPostBeacon(xhr,paramsJoined)}}return!0},hasSentPageLoadBeacon:function(){return impl.hasSentPageLoadBeacon},sendXhrPostBeacon:function(xhr,paramsJoined){xhr.open("POST",impl.beacon_url);xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhr.send(paramsJoined)},getVarsOfPriority:function(vars,pri){var name,url=[],iterVars=0!==pri?impl.varPriority[pri]:vars;for(name in iterVars)if(iterVars.hasOwnProperty(name)&&vars.hasOwnProperty(name)){url.push(this.getUriEncodedVar(name,"undefined"==typeof vars[name]?"":vars[name]));0!==pri&&delete vars[name]}return url},getUriEncodedVar:function(name,value){value!==undefined&&null!==value||(value="");"object"==typeof value&&(value=BOOMR.utils.serializeForUrl(value));return encodeURIComponent(name)+"="+encodeURIComponent(value)},getResourceTiming:function(url,sort,filter){var entries,p=BOOMR.getPerformance();try{if(p&&"function"==typeof p.getEntriesByName){if(!(entries=p.getEntriesByName(url))||!entries.length)return;if(!("function"!=typeof filter||(entries=BOOMR.utils.arrayFilter(entries,filter))&&entries.length))return;1<entries.length&&"function"==typeof sort&&entries.sort(sort);return entries[entries.length-1]}}catch(e){BOOMR.warn("getResourceTiming:"+e)}},sendCustomData:function(customData){BOOMR.addVar(BOOMR.constants.BEACON_CUSTOM_DATA,JSON.stringify(customData),!0);if(BOOMR.hasSentPageLoadBeacon()){BOOMR.hasVar("http.initiator")?impl.vars["http.initiator"]="data":BOOMR.addVar("http.initiator","data");BOOMR.sendBeacon()}}};if(BOOMR.url){var a=BOOMR.window.document.createElement("a");a.href=BOOMR.url;boomr.url=a.href}else boomr.url=boomr.utils.getMyURL();delete window.BOOMR_start;if("number"==typeof BOOMR_lstart){boomr.t_lstart=BOOMR_lstart;delete window.BOOMR_lstart}else"number"==typeof BOOMR.window.BOOMR_lstart&&(boomr.t_lstart=BOOMR.window.BOOMR_lstart);"number"==typeof BOOMR.window.BOOMR_onload&&(boomr.t_onload=BOOMR.window.BOOMR_onload);!function(){var make_logger;"object"==typeof console&&console.log!==undefined?boomr.log=function(m,l,s){console.log("("+BOOMR.now()+") {"+BOOMR.pageId+"}: "+s+": ["+l+"] "+m)}:boomr.log=function(){};make_logger=function(l){return function(m,s){this.log(m,l,"boomerang"+(s?"."+s:""));return this}};boomr.debug=make_logger("debug");boomr.info=make_logger("info");boomr.warn=make_logger("warn");boomr.error=make_logger("error")}();try{var p=boomr.getPerformance();p&&"function"==typeof p.now&&/\[native code\]/.test(String(p.now))&&p.timing&&p.timing.navigationStart&&(boomr.now=function(){return Math.round(p.now()+p.timing.navigationStart)})}catch(ignore){}impl.checkLocalStorageSupport();!function(){var ident;for(ident in boomr)boomr.hasOwnProperty(ident)&&(BOOMR[ident]=boomr[ident]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={});BOOMR.xhr_body_excludes||(BOOMR.xhr_body_excludes=[])}();dispatchEvent("onBoomerangLoaded",{BOOMR:BOOMR},!0)}}(window);!function(){"use strict";window.ErrorStackParser=function ErrorStackParser(){"use strict";var FIREFOX_SAFARI_STACK_REGEXP=/(^|@)\S+\:\d+/,CHROME_IE_STACK_REGEXP=/^\s*at .*(\S+\:\d+|\(native\))/m,SAFARI_NATIVE_CODE_REGEXP=/^(eval@)?(\[native code\])?$/;function _map(array,fn,thisArg){if(typeof Array.prototype.map==="function"){return array.map(fn,thisArg)}else{var output=new Array(array.length);for(var i=0;i<array.length;i++){output[i]=fn.call(thisArg,array[i])}return output}}function _filter(array,fn,thisArg){if(typeof Array.prototype.filter==="function"){return array.filter(fn,thisArg)}else{var output=[];for(var i=0;i<array.length;i++){if(fn.call(thisArg,array[i])){output.push(array[i])}}return output}}return{parse:function ErrorStackParser$$parse(error){if(typeof error.stacktrace!=="undefined"||typeof error["opera#sourceloc"]!=="undefined"){return this.parseOpera(error)}else if(error.stack&&error.stack.match(CHROME_IE_STACK_REGEXP)){return this.parseV8OrIE(error)}else if(error.stack){return this.parseFFOrSafari(error)}else{throw new Error("Cannot parse given Error object")}},extractLocation:function ErrorStackParser$$extractLocation(urlLike){if(urlLike.indexOf(":")===-1){return[urlLike]}var locationParts=urlLike.replace(/[\(\)\s]/g,"").split(":");var lastNumber=locationParts.pop();var possibleNumber=locationParts[locationParts.length-1];if(!isNaN(parseFloat(possibleNumber))&&isFinite(possibleNumber)){var lineNumber=locationParts.pop();return[locationParts.join(":"),lineNumber,lastNumber]}else{return[locationParts.join(":"),lastNumber,undefined]}},parseV8OrIE:function ErrorStackParser$$parseV8OrIE(error){var filtered=_filter(error.stack.split("\n"),function(line){return!!line.match(CHROME_IE_STACK_REGEXP)},this);return _map(filtered,function(line){if(line.indexOf("(eval ")>-1){line=line.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,"")}var tokens=line.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1);var locationParts=this.extractLocation(tokens.pop());var functionName=tokens.join(" ")||undefined;var fileName=locationParts[0]==="eval"?undefined:locationParts[0];return{functionName:functionName,fileName:fileName,lineNumber:locationParts[1],columnNumber:locationParts[2],source:line}},this)},parseFFOrSafari:function ErrorStackParser$$parseFFOrSafari(error){var filtered=_filter(error.stack.split("\n"),function(line){return!line.match(SAFARI_NATIVE_CODE_REGEXP)},this);return _map(filtered,function(line){if(line.indexOf(" > eval")>-1){line=line.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")}if(line.indexOf("@")===-1&&line.indexOf(":")===-1){return{functionName:line}}else{var tokens=line.split("@");var locationParts=this.extractLocation(tokens.pop());var functionName=tokens.join("@")||undefined;return{functionName:functionName,fileName:locationParts[0],lineNumber:locationParts[1],columnNumber:locationParts[2],source:line}}},this)},parseOpera:function ErrorStackParser$$parseOpera(e){if(!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length){return this.parseOpera9(e)}else if(!e.stack){return this.parseOpera10(e)}else{return this.parseOpera11(e)}},parseOpera9:function ErrorStackParser$$parseOpera9(e){var lineRE=/Line (\d+).*script (?:in )?(\S+)/i;var lines=e.message.split("\n");var result=[];for(var i=2,len=lines.length;i<len;i+=2){var match=lineRE.exec(lines[i]);if(match){result.push({fileName:match[2],lineNumber:match[1],source:lines[i]})}}return result},parseOpera10:function ErrorStackParser$$parseOpera10(e){var lineRE=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var lines=e.stacktrace.split("\n");var result=[];for(var i=0,len=lines.length;i<len;i+=2){var match=lineRE.exec(lines[i]);if(match){result.push({functionName:match[3]||undefined,fileName:match[2],lineNumber:match[1],source:lines[i]})}}return result},parseOpera11:function ErrorStackParser$$parseOpera11(error){var filtered=_filter(error.stack.split("\n"),function(line){return!!line.match(FIREFOX_SAFARI_STACK_REGEXP)&&!line.match(/^Error created at/)},this);return _map(filtered,function(line){var tokens=line.split("@");var locationParts=this.extractLocation(tokens.pop());var functionCall=tokens.shift()||"";var functionName=functionCall.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||undefined;var argsRaw;if(functionCall.match(/\(([^\)]*)\)/)){argsRaw=functionCall.replace(/^[^\(]+\(([^\)]*)\)$/,"$1")}var args=argsRaw===undefined||argsRaw==="[arguments not available]"?undefined:argsRaw.split(",");return{functionName:functionName,args:args,fileName:locationParts[0],lineNumber:locationParts[1],columnNumber:locationParts[2],source:line}},this)}}}()}(function ErrorStackParser(){"use strict";var FIREFOX_SAFARI_STACK_REGEXP=/(^|@)\S+\:\d+/,CHROME_IE_STACK_REGEXP=/^\s*at .*(\S+\:\d+|\(native\))/m,SAFARI_NATIVE_CODE_REGEXP=/^(eval@)?(\[native code\])?$/;function _map(array,fn,thisArg){if(typeof Array.prototype.map==="function"){return array.map(fn,thisArg)}else{var output=new Array(array.length);for(var i=0;i<array.length;i++){output[i]=fn.call(thisArg,array[i])}return output}}function _filter(array,fn,thisArg){if(typeof Array.prototype.filter==="function"){return array.filter(fn,thisArg)}else{var output=[];for(var i=0;i<array.length;i++){if(fn.call(thisArg,array[i])){output.push(array[i])}}return output}}return{parse:function ErrorStackParser$$parse(error){if(typeof error.stacktrace!=="undefined"||typeof error["opera#sourceloc"]!=="undefined"){return this.parseOpera(error)}else if(error.stack&&error.stack.match(CHROME_IE_STACK_REGEXP)){return this.parseV8OrIE(error)}else if(error.stack){return this.parseFFOrSafari(error)}else{throw new Error("Cannot parse given Error object")}},extractLocation:function ErrorStackParser$$extractLocation(urlLike){if(urlLike.indexOf(":")===-1){return[urlLike]}var locationParts=urlLike.replace(/[\(\)\s]/g,"").split(":");var lastNumber=locationParts.pop();var possibleNumber=locationParts[locationParts.length-1];if(!isNaN(parseFloat(possibleNumber))&&isFinite(possibleNumber)){var lineNumber=locationParts.pop();return[locationParts.join(":"),lineNumber,lastNumber]}else{return[locationParts.join(":"),lastNumber,undefined]}},parseV8OrIE:function ErrorStackParser$$parseV8OrIE(error){var filtered=_filter(error.stack.split("\n"),function(line){return!!line.match(CHROME_IE_STACK_REGEXP)},this);return _map(filtered,function(line){if(line.indexOf("(eval ")>-1){line=line.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,"")}var tokens=line.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1);var locationParts=this.extractLocation(tokens.pop());var functionName=tokens.join(" ")||undefined;var fileName=locationParts[0]==="eval"?undefined:locationParts[0];return{functionName:functionName,fileName:fileName,lineNumber:locationParts[1],columnNumber:locationParts[2],source:line}},this)},parseFFOrSafari:function ErrorStackParser$$parseFFOrSafari(error){var filtered=_filter(error.stack.split("\n"),function(line){return!line.match(SAFARI_NATIVE_CODE_REGEXP)},this);return _map(filtered,function(line){if(line.indexOf(" > eval")>-1){line=line.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")}if(line.indexOf("@")===-1&&line.indexOf(":")===-1){return{functionName:line}}else{var tokens=line.split("@");var locationParts=this.extractLocation(tokens.pop());var functionName=tokens.join("@")||undefined;return{functionName:functionName,fileName:locationParts[0],lineNumber:locationParts[1],columnNumber:locationParts[2],source:line}}},this)},parseOpera:function ErrorStackParser$$parseOpera(e){if(!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length){return this.parseOpera9(e)}else if(!e.stack){return this.parseOpera10(e)}else{return this.parseOpera11(e)}},parseOpera9:function ErrorStackParser$$parseOpera9(e){var lineRE=/Line (\d+).*script (?:in )?(\S+)/i;var lines=e.message.split("\n");var result=[];for(var i=2,len=lines.length;i<len;i+=2){var match=lineRE.exec(lines[i]);if(match){result.push({fileName:match[2],lineNumber:match[1],source:lines[i]})}}return result},parseOpera10:function ErrorStackParser$$parseOpera10(e){var lineRE=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var lines=e.stacktrace.split("\n");var result=[];for(var i=0,len=lines.length;i<len;i+=2){var match=lineRE.exec(lines[i]);if(match){result.push({functionName:match[3]||undefined,fileName:match[2],lineNumber:match[1],source:lines[i]})}}return result},parseOpera11:function ErrorStackParser$$parseOpera11(error){var filtered=_filter(error.stack.split("\n"),function(line){return!!line.match(FIREFOX_SAFARI_STACK_REGEXP)&&!line.match(/^Error created at/)},this);return _map(filtered,function(line){var tokens=line.split("@");var locationParts=this.extractLocation(tokens.pop());var functionCall=tokens.shift()||"";var functionName=functionCall.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||undefined;var argsRaw;if(functionCall.match(/\(([^\)]*)\)/)){argsRaw=functionCall.replace(/^[^\(]+\(([^\)]*)\)$/,"$1")}var args=argsRaw===undefined||argsRaw==="[arguments not available]"?undefined:argsRaw.split(",");return{functionName:functionName,args:args,fileName:locationParts[0],lineNumber:locationParts[1],columnNumber:locationParts[2],source:line}},this)}}});!function(){var impl;if(!BOOMR.plugins.Errors){var STACK_FUNCTIONS_REMOVE=["BOOMR_addError","createStackForSend","BOOMR.window.console.error","BOOMR.plugins.Errors.init","BOOMR.window.onerror","BOOMR_plugins_errors_"],STACK_FUNCTIONS_REMOVE_IF_FILENAME_MATCH=["Object.send","b.send","wrap","Anonymous function"],STACK_FILENAME_MATCH=["/boomerang"];BoomerangError.prototype.equals=function(other){return"object"==typeof other&&(this.code===other.code&&(this.message===other.message&&(this.functionName===other.functionName&&(this.fileName===other.fileName&&(this.lineNumber===other.lineNumber&&(this.columnNumber===other.columnNumber&&(this.stack===other.stack&&(this.type===other.type&&this.source===other.source))))))))};BoomerangError.fromError=function(error,via,source){var frame,frames,i,j,k,skipThis,thisFrame,thisFn,forceUpdate=!1,now=BOOMR.now();if(!error)return null;if(error.stack){5e3<error.stack.length&&(error.stack=error.stack.substr(0,5e3));if((frames=ErrorStackParser.parse(error))&&frames.length){if(error.generatedStack){if(4<=frames.length&&frames[1].functionName&&-1!==frames[1].functionName.indexOf("createStackForSend")){frames=frames.slice(3);forceUpdate=!0}if(3<=frames.length&&frames[0].functionName&&-1!==frames[0].functionName.indexOf("createStackForSend")){frames=frames[1].fileName===frames[2].fileName?frames.slice(3):frames.slice(2);forceUpdate=!0}if(1<=frames.length&&frames[0].functionName&&-1!==frames[0].functionName.indexOf("BOOMR_plugins_errors")){frames=frames.slice(1);forceUpdate=!0}}for(i=0;i<frames.length;i++){skipThis=!1;if(thisFn=(thisFrame=frames[i]).functionName){for(j=0;j<STACK_FUNCTIONS_REMOVE.length;j++)if(-1!==thisFn.indexOf(STACK_FUNCTIONS_REMOVE[j])){frames.splice(i,1);i--;skipThis=forceUpdate=!0;break}if(!skipThis&&thisFrame.fileName)for(j=0;j<STACK_FILENAME_MATCH.length;j++)if(-1!==thisFrame.fileName.indexOf(STACK_FILENAME_MATCH[j]))for(k=0;k<STACK_FUNCTIONS_REMOVE_IF_FILENAME_MATCH.length;k++)if(-1!==thisFn.indexOf(STACK_FUNCTIONS_REMOVE_IF_FILENAME_MATCH[k])){frames.splice(i,1);i--;skipThis=forceUpdate=!0;break}}}if(frames.length){frame=frames[0];!forceUpdate&&"undefined"!=typeof error.lineNumber||(error.lineNumber=frame.lineNumber);!forceUpdate&&"undefined"!=typeof error.columnNumber||(error.columnNumber=frame.columnNumber);!forceUpdate&&"undefined"!=typeof error.functionName||(error.functionName=frame.functionName);!forceUpdate&&"undefined"!=typeof error.fileName||(error.fileName=frame.fileName)}error.stack&&(error.stack=error.stack.replace(/\s\s+/g," "))}}else(error.functionName||error.fileName||error.lineNumber||error.columnNumber)&&(frames=[{lineNumber:error.lineNumber,columnNumber:error.columnNumber,fileName:error.fileName,functionName:error.functionName}]);"string"==typeof error.message&&-1!==error.message.indexOf("ReferenceError:")&&"Error"===error.name&&(error.name="ReferenceError");return new BoomerangError({code:error.code?error.code:undefined,message:error.message?error.message:undefined,functionName:error.functionName?error.functionName:undefined,fileName:error.fileName?error.fileName:undefined,lineNumber:error.lineNumber?error.lineNumber:undefined,columnNumber:error.columnNumber?error.columnNumber:undefined,stack:error.stack?error.stack:undefined,type:error.name?error.name:undefined,source:source,via:via,frames:frames,extra:error.extra?error.extra:undefined,timestamp:error.timestamp?error.timestamp:now})};impl={onError:undefined,monitorGlobal:!0,monitorNetwork:!0,monitorConsole:!0,monitorEvents:!0,monitorTimeout:!0,monitorRejections:!1,monitorReporting:!1,sendAfterOnload:!1,maxErrors:10,sendInterval:1e3,sendIntervalDuringLoad:2500,sendIntervalId:-1,maxEvents:10,imageErrors:!0,isDuringLoad:!0,initialized:!1,autorun:!0,errors:[],q:[],events:[],reportingObserver:undefined,send:function(error,via,source){var now=BOOMR.now();if(error&&!0!==error.reported){error.reported=!0;via=via||BOOMR.plugins.Errors.VIA_APP;source=source||BOOMR.plugins.Errors.SOURCE_APP;if(error.stack||error.noStack){error.timestamp=error.timestamp||now;impl.addError(error,via,source)}else!function createStackForSend(){try{throw Error(error)}catch(ex){(error=ex).generatedStack=!0;error.timestamp=error.timestamp||now;impl.addError(error,via,source)}}()}},addError:function(error,via,source){var onErrorResult,err,dup,now=BOOMR.now();if(impl.isDuringLoad||impl.sendAfterOnload){if(impl.onError){try{onErrorResult=impl.onError(error)}catch(exc){onErrorResult=!1}if(!onErrorResult)return}if(!(impl.errors.length>=impl.maxErrors)){err=BoomerangError.fromError(error,via,source);dup=impl.mergeDuplicateErrors(impl.errors,err,!1);BOOMR.fireEvent("error",dup||err);impl.mergeDuplicateErrors(impl.q,err,!0);if((BOOMR.hasSentPageLoadBeacon()||!impl.autorun)&&-1===impl.sendIntervalId){if(dup)return;impl.sendIntervalId=setTimeout(function(){impl.sendIntervalId=-1;0!==impl.q.length&&BOOMR.sendBeaconWhenReady({"rt.start":"manual","http.initiator":"error",api:1,"rt.tstart":now,"rt.end":now},function(){impl.addErrorsToBeacon()},this)},impl.isDuringLoad?impl.sendIntervalDuringLoad:impl.sendInterval)}}}},findDuplicateError:function(errors,err){if(!BOOMR.utils.isArray(errors)||void 0===err)return undefined;for(var i=0;i<errors.length;i++)if(errors[i].equals(err))return errors[i];return undefined},mergeDuplicateErrors:function(errors,err,bumpCount){if(!BOOMR.utils.isArray(errors)||void 0===err)return undefined;var dup=impl.findDuplicateError(errors,err);if(dup){bumpCount&&(dup.count+=err.count);return dup}errors.push(err);return undefined},onBeacon:function(){BOOMR.removeVar("err");BOOMR.removeVar("api");BOOMR.removeVar("http.initiator")},pageReady:function(){impl.isDuringLoad=!1},getErrors:function(){return 0!==impl.errors.length&&impl.errors},getErrorsForUrl:function(errors){errors=impl.compressErrors(errors);return BOOMR.utils.serializeForUrl(errors)},addErrorsToBeacon:function(){if(impl.q.length){var err=this.getErrorsForUrl(impl.q);err&&BOOMR.addVar("err",err);impl.q=[]}},beforeBeacon:function(){impl.addErrorsToBeacon()},wrapFn:function(functionName,that,useCallingObject,callbackIndex,via){var rEL,origFn=that[functionName];if("function"==typeof origFn){"addEventListener"===functionName&&(rEL=that.removeEventListener);BOOMR.utils.overwriteNative(that,functionName,function BOOMR_plugins_errors_wrapped_function(){try{var args=Array.prototype.slice.call(arguments),callbackFn=args[callbackIndex],targetObj=useCallingObject?this===window?BOOMR.window:this:that,wrappedFn=impl.wrap(callbackFn,targetObj,via);args[callbackIndex]=wrappedFn;if("addEventListener"===functionName){if(!impl.trackFn(targetObj,args[0],callbackFn,args[2],wrappedFn))return;rEL&&rEL.apply(targetObj,arguments)}return origFn.apply(targetObj,args)}catch(e){impl.send(e,via);throw e}})}},trackFn:function(target,type,listener,useCapture,wrapped){if(!target)return!1;if(-1!==impl.trackedFnIdx(target,type,listener,useCapture))return!1;target._bmrEvents||(target._bmrEvents=[]);useCapture=!0===(useCapture&&useCapture.capture||useCapture);target._bmrEvents.push([type,listener,useCapture,wrapped]);return!0},trackedFnIdx:function(target,type,listener,useCapture){var i,f;if(target){target._bmrEvents||(target._bmrEvents=[]);useCapture=!0===(useCapture&&useCapture.capture||useCapture);for(i=0;i<target._bmrEvents.length;i++)if((f=target._bmrEvents[i])[0]===type&&f[1]===listener&&f[2]===useCapture)return i;return-1}},wrapRemoveEventListener:function(that){var idx,wrappedFn,fn="removeEventListener",origFn=that[fn];"function"==typeof origFn&&BOOMR.utils.overwriteNative(that,fn,function BOOMR_plugins_errors_wrapped_removeEventListener(type,listener,useCapture){var targetObj=this===window?BOOMR.window:this;if(-1!==(idx=impl.trackedFnIdx(targetObj,type,listener,useCapture))){wrappedFn=targetObj._bmrEvents[idx][3];origFn.call(targetObj,type,wrappedFn,useCapture);targetObj._bmrEvents.splice(idx,1)}else origFn.call(targetObj,type,listener,useCapture)})},wrap:function(fn,that,via){if("function"!=typeof fn)return fn;via=via||BOOMR.plugins.Errors.VIA_APP;BOOMR_check_doc_domain();return function BOOMR_plugins_errors_wrap(){try{return fn.apply(that,arguments)}catch(e){if(-2146823277===e.number&&(via===BOOMR.plugins.Errors.VIA_EVENTHANDLER||via===BOOMR.plugins.Errors.VIA_TIMEOUT))return;BOOMR.isUnloaded||impl.send(e,via);throw e}}},test:function(){var fn,that;if(0===arguments.length)return undefined;if("function"!=typeof(fn=arguments[0]))return undefined;that=1<arguments.length?arguments[1]:BOOMR.window;var args=Array.prototype.slice.call(arguments,2);return impl.wrap(fn,that).apply(that,args)},normalizeToString:function(obj){var thrownObject,message="";if(void 0===obj)message="undefined";else if(null===obj)message="null";else if("number"==typeof obj&&isNaN(obj))message="NaN";else if(""===obj)message="(empty string)";else if(0===obj)message="0";else if(obj)if("function"==typeof obj)message="(function)";else if(!obj||"number"!=typeof obj&&"string"!=typeof obj)if(obj&&obj instanceof Error)message=obj.toString();else if(obj&&obj instanceof Array){message+="[";for(var i=0;i<obj.length;i++)","!==(message+=impl.normalizeToString(obj[i]))[message.length-1]&&i!==obj.length-1&&(message+=",");message+="]"}else if(obj&&"object"==typeof obj){try{thrownObject={message:"Invalid ErrorType Thrown",extra:JSON.stringify(obj)}}catch(ex){thrownObject={message:"",extra:"Boomerang had a issue parsing error message see extra - "+ex}}message=thrownObject.message+" "+thrownObject.extra}else message=obj&&"function"==typeof obj.toString?obj.toString():"(unknown)";else message=obj.toString();else message="false";return message},compressErrors:function(errors){for(var j,err,frame,evt,minFrame,minEvent,obj,timestamp=0,o=BOOMR.window.location.origin,i=0;i<errors.length;i++){obj={};1!==(err=errors[i]).count&&(obj.n=err.count);if("number"==typeof err.timestamp){timestamp=err.timestamp;obj.d=err.timestamp.toString(36)}if(err.frames.length){obj.f=[];for(j=0;j<err.frames.length;j++){(frame=err.frames[j]).lineNumber&&(frame.lineNumber=parseInt(frame.lineNumber,10));frame.columnNumber&&(frame.columnNumber=parseInt(frame.columnNumber,10));minFrame={l:frame.lineNumber,c:frame.columnNumber};"string"==typeof frame.fileName&&(-1!==frame.fileName.indexOf(o)?minFrame.wo=frame.fileName.replace(o,""):minFrame.w=frame.fileName);"string"==typeof frame.functionName&&(minFrame.f=frame.functionName);obj.f.push(minFrame)}}if(err.events.length){obj.e=[];for(j=0;j<err.events.length;j++){minEvent={t:(evt=err.events[j]).type,d:timestamp?timestamp-evt.timestamp:evt.timestamp};if(evt.type===BOOMR.plugins.Errors.EVENT_CLICK){evt.id&&(minEvent.i=evt.id);evt.name&&(minEvent.n=evt.name);evt.tagName&&(minEvent.g=evt.tagName)}else if(evt.type===BOOMR.plugins.Errors.EVENT_NETWORK){evt.url&&(minEvent.u=evt.url);evt.method&&(minEvent.m=evt.method);evt.result&&(minEvent.r=evt.result)}else if(evt.type===BOOMR.plugins.Errors.EVENT_LOG){evt.severity&&(minEvent.s=evt.severity);evt.message&&(minEvent.m=evt.message)}obj.e.push(minEvent)}}err.source!==BOOMR.plugins.Errors.SOURCE_APP&&(obj.s=err.source);"undefined"!=typeof err.via&&err.via!==BOOMR.plugins.Errors.VIA_APP&&(obj.v=err.via);"undefined"!=typeof err.type&&"Error"!==err.type&&(obj.t=err.type);err.code&&(obj.c=err.code);err.message&&(obj.m=err.message);err.extra&&(obj.x=err.extra);errors[i]=obj}return errors}};var E=BOOMR.plugins.Errors={init:function(config){var report,msg;BOOMR.utils.pluginConfig(impl,config,"Errors",["onError","monitorGlobal","monitorNetwork","monitorConsole","monitorEvents","monitorTimeout","monitorReporting","monitorRejections","sendAfterOnload","sendInterval","maxErrors","imageErrors"]);if(impl.initialized)return this;config&&"undefined"!=typeof config.autorun&&(impl.autorun=config.autorun);impl.initialized=!0;BOOMR.subscribe("before_beacon",impl.beforeBeacon,null,impl);BOOMR.subscribe("beacon",impl.onBeacon,null,impl);BOOMR.subscribe("page_ready",impl.pageReady,null,impl);BOOMR.registerEvent("error");if(impl.monitorGlobal)try{(!BOOMR.globalOnError||BOOMR.window.onerror&&!BOOMR.window.onerror._bmr)&&(BOOMR.globalOnError=BOOMR.window.onerror);BOOMR.utils.overwriteNative(BOOMR.window,"onerror",function BOOMR_plugins_errors_onerror(message,fileName,lineNumber,columnNumber,error){void 0===error&&"object"==typeof message&&"object"==typeof message.error&&null!==message.error&&(error=message.error);null!=error?impl.send(error,E.VIA_GLOBAL_EXCEPTION_HANDLER):impl.send({message:message,fileName:fileName,lineNumber:lineNumber,columnNumber:columnNumber,noStack:!0},E.VIA_GLOBAL_EXCEPTION_HANDLER);return"function"==typeof BOOMR.globalOnError&&BOOMR.globalOnError.apply(BOOMR.window,arguments)});impl.imageErrors&&!document.attachEvent&&document.addEventListener("error",function errorHandler(event){var target=event.target,tag=target.tagName.toLowerCase();"img"!==tag&&"script"!==tag||BOOMR.window.onerror(tag+" not found "+target.src,target.src,0,0,null)},!0);if(BOOMR.globalErrors){for(var i=0;i<BOOMR.globalErrors.length;i++)impl.send(BOOMR.globalErrors[i],E.VIA_GLOBAL_EXCEPTION_HANDLER);delete window.BOOMR.globalErrors}}catch(e){}impl.monitorNetwork&&BOOMR.subscribe("xhr_error",function BOOMR_plugins_errors_onxhrerror(resource){var xhrJson,extra,msg="",stackTrace="";if(resource.xhrMessage!==undefined&&""!==resource.xhrMessage&&null!==resource.xhrMessage)try{msg=(xhrJson=JSON.parse(resource.xhrMessage)).Message&&xhrJson.ExceptionMessage?xhrJson.Message+" - "+xhrJson.ExceptionMessage+"|"+resource.url:JSON.stringify(xhrJson)+"|"+resource.url;stackTrace=xhrJson.StackTrace}catch(e){msg=resource.xhrMessage;stackTrace=""}resource.body&&(msg="Request Body:"+resource.body+" - "+msg);resource.responseUrl&&((extra=extra||{response:{url:undefined}}).response.url=resource.responseUrl);"undefined"!=typeof resource.headers&&((extra=extra||{response:{headers:undefined}}).response.headers=resource.headers);impl.send({code:resource.status,message:msg||resource.url,stack:stackTrace,noStack:!0,extra:extra},E.VIA_NETWORK)});impl.monitorRejections&&BOOMR.window.PromiseRejectionEvent&&BOOMR.utils.addListener(BOOMR.window,"unhandledrejection",function BOOMR_plugins_errors_onrejection(event){var stack,message="Unhandled Promise Rejection";if(event&&event.reason){if("string"==typeof event.reason)message=event.reason;else{"string"==typeof event.reason.stack&&(stack=event.reason.stack);message="undefined"==typeof event.reason.message?impl.normalizeToString(event.reason):impl.normalizeToString(event.reason.message)}impl.send({message:message,stack:stack,noStack:!stack},E.VIA_REJECTION)}},!0);if(impl.monitorConsole){BOOMR.window.console||(BOOMR.window.console={});BOOMR.globalConsole=BOOMR.window.console.error;try{BOOMR.utils.overwriteNative(BOOMR.window.console,"error",function BOOMR_plugins_errors_console_error(){var args=Array.prototype.slice.call(arguments);1===args.length?impl.send(impl.normalizeToString(args[0]),E.VIA_CONSOLE):impl.send(impl.normalizeToString(args),E.VIA_CONSOLE);"function"==typeof BOOMR.globalConsole&&("function"==typeof BOOMR.globalConsole.apply?BOOMR.globalConsole.apply(this,args):BOOMR.globalConsole(args[0],args[1],args[2]))})}catch(h){}}if(impl.monitorEvents)if(BOOMR.window.EventTarget){impl.wrapFn("addEventListener",BOOMR.window.EventTarget.prototype,!0,1,E.VIA_EVENTHANDLER);impl.wrapRemoveEventListener(BOOMR.window.EventTarget.prototype)}else{if(BOOMR.window){impl.wrapFn("addEventListener",BOOMR.window,!1,1,E.VIA_EVENTHANDLER);impl.wrapRemoveEventListener(BOOMR.window)}if(BOOMR.window.Node&&!BOOMR.browser.isIE8()){impl.wrapFn("addEventListener",BOOMR.window.Node.prototype,!0,1,E.VIA_EVENTHANDLER);impl.wrapRemoveEventListener(BOOMR.window.Node.prototype)}if(BOOMR.window.XMLHttpRequest){impl.wrapFn("addEventListener",BOOMR.window.XMLHttpRequest.prototype,!0,1,E.VIA_EVENTHANDLER);impl.wrapRemoveEventListener(BOOMR.window.XMLHttpRequest.prototype)}}if(impl.monitorTimeout){impl.wrapFn("setTimeout",BOOMR.window,!1,0,E.VIA_TIMEOUT);impl.wrapFn("setInterval",BOOMR.window,!1,0,E.VIA_TIMEOUT)}if(impl.monitorReporting&&BOOMR.window.ReportingObserver){impl.reportingObserver=new BOOMR.window.ReportingObserver(function(reports,observer){if(BOOMR.utils.isArray(reports))for(i=0;i<reports.length;i++){report=reports[i];(msg=report&&report.body&&(report.body.message||report.body.reason))&&impl.send({message:msg,fileName:report.body.sourceFile||report.url,lineNumber:report.body.lineNumber,columnNumber:report.body.columnNumber,noStack:!0},E.VIA_REPORTING_API)}},{buffered:!0});impl.reportingObserver.observe()}return this},is_complete:function(){return!0},is_supported:function(){return impl.initialized},SOURCE_APP:1,SOURCE_BOOMERANG:2,VIA_APP:1,VIA_GLOBAL_EXCEPTION_HANDLER:2,VIA_NETWORK:3,VIA_CONSOLE:4,VIA_EVENTHANDLER:5,VIA_TIMEOUT:6,VIA_REJECTION:7,VIA_REPORTING_API:8,EVENT_CLICK:1,EVENT_NETWORK:2,EVENT_LOG:3,send:impl.send,wrap:impl.wrap,test:impl.test,BoomerangError:BoomerangError}}function BoomerangError(config){"number"==typeof(config=config||{}).count||"string"==typeof config.count?this.count=parseInt(config.count,10):this.count=1;"number"==typeof config.timestamp?this.timestamp=config.timestamp:this.timestamp=BOOMR.now();"number"!=typeof config.code&&"string"!=typeof config.code||(this.code=parseInt(config.code,10));"string"==typeof config.message&&(this.message=config.message);"string"==typeof config.functionName&&(this.functionName=config.functionName);"string"==typeof config.fileName&&(this.fileName=config.fileName);"number"!=typeof config.lineNumber&&"string"!=typeof config.lineNumber||(this.lineNumber=parseInt(config.lineNumber,10));"number"!=typeof config.columnNumber&&"string"!=typeof config.columnNumber||(this.columnNumber=parseInt(config.columnNumber,10));"string"==typeof config.stack&&(this.stack=config.stack);"string"==typeof config.type&&(this.type=config.type);"undefined"!=typeof config.extra&&(this.extra=config.extra);this.source="number"==typeof config.source||"string"==typeof config.source?parseInt(config.source,10):BOOMR.plugins.Errors.SOURCE_APP;"number"!=typeof config.via&&"string"!=typeof config.via||(this.via=parseInt(config.via,10));BOOMR.utils.isArray(config.frames)?this.frames=config.frames:this.frames=[];BOOMR.utils.isArray(config.events)?this.events=config.events:this.events=[]}}();!function(){var w,d,handler,a,impl,readyStateMap=["uninitialized","open","responseStart","domInteractive","responseEnd"],DEFAULT_XHR_EXCLUDES={"ing-district.clicktale.net":!0,"conductor.clicktale.net":!0,"ec.walkme.com":!0,"gbxgateway-dev.dell.com":!0,"gbxgateway.dell.com":!0};if(!BOOMR.plugins.AutoXHR&&(w=BOOMR.window)&&w.XMLHttpRequest&&(new w.XMLHttpRequest).addEventListener){MutationHandler.stop=function(){MutationHandler.pause();MutationHandler.observer=null};MutationHandler.pause=function(){if(MutationHandler.observer&&MutationHandler.observer.observer&&!MutationHandler.isPaused){MutationHandler.isPaused=!0;MutationHandler.observer.observer.disconnect()}};MutationHandler.resume=function(){if(MutationHandler.observer&&MutationHandler.observer.observer&&MutationHandler.isPaused){MutationHandler.isPaused=!1;MutationHandler.observer.observer.observe(d,MutationHandler.observer.config)}};MutationHandler.start=function(){if(!MutationHandler.observer){var config={childList:!0,attributes:!0,subtree:!0,attributeFilter:["src","href"]};if(MutationHandler.observer=BOOMR.utils.addObserver(d,config,null,handler.mutation_cb,null,handler)){MutationHandler.observer.config=config;BOOMR.subscribe("page_unload",MutationHandler.stop,null,MutationHandler)}}};MutationHandler.prototype.addEvent=function(resource){for(var last_ev,last_ev_index,ev={type:resource.initiator,resource:resource,nodes_to_wait:0,total_nodes:0,resources:[],aborted:!1,complete:!1},index=this.pending_events.length,self=this,i=index-1;0<=i;i--)if(this.pending_events[i]&&!this.pending_events[i].complete){last_ev=this.pending_events[i];last_ev_index=i;break}if(last_ev)if("click"===last_ev.type){if(0===last_ev.nodes_to_wait||!last_ev.resource.url){this.pending_events[last_ev_index]=undefined;this.watch--}}else if("xhr"===last_ev.type){if("click"===ev.type)return null;if("xhr"===ev.type){handler.add_event_resource(resource);return null}}else if(BOOMR.utils.inArray(last_ev.type,BOOMR.constants.BEACON_TYPE_SPAS)){if("xhr"===ev.type){handler.add_event_resource(resource);return null}if(BOOMR.utils.inArray(ev.type,BOOMR.constants.BEACON_TYPE_SPAS)){last_ev.resource.timing.loadEventEnd=BOOMR.now();last_ev.aborted=!0;this.sendEvent(last_ev_index)}}if("click"===ev.type){if(!MutationHandler.observer)return null;this.setTimeout(impl.xhrIdleTimeout,index)}else if("xhr"===ev.type){ev.nodes_to_wait++;ev.total_nodes++;ev.ignoreMO=!0}else if(BOOMR.utils.inArray(ev.type,BOOMR.constants.BEACON_TYPE_SPAS)){MutationHandler.start();if(resource.wait){ev.nodes_to_wait++;ev.total_nodes++;resource.waitComplete=function(){self.load_finished(index);resource.waitComplete=undefined}}else this.setTimeout(impl.spaIdleTimeout,index)}this.watch++;this.pending_events.push(ev);return resource.index=index};MutationHandler.prototype.sendEvent=function(index){var ev=this.pending_events[index],self=this,now=BOOMR.now();if(ev&&!ev.complete){this.clearTimeout(index);if(BOOMR.readyToSend()){ev.complete=!0;this.watch--;ev.resource.resources=ev.resources;BOOMR.utils.inArray(ev.type,BOOMR.constants.BEACON_TYPE_SPAS)&&(ev.resource.url=d.URL);if("spa"===ev.type&&0===ev.total_nodes&&ev.resource.url===self.lastSpaLocation){BOOMR.fireEvent("spa_cancel");this.pending_events[index]=undefined;return}if(BOOMR.utils.inArray(ev.type,BOOMR.constants.BEACON_TYPE_SPAS)){self.lastSpaLocation=ev.resource.url;ev.forced||0!==ev.total_nodes||(ev.resource.timing.loadEventEnd=now-impl.spaIdleTimeout)}this.sendResource(ev.resource,index)}else setTimeout(function(){self.sendEvent(index)},500)}};MutationHandler.prototype.sendResource=function(resource,eventIndex){var self=this,ev=self.pending_events[eventIndex],startTime=resource.timing?resource.timing.requestStart:undefined,sendResponseEnd=function(markEnd,endTimestamp){markEnd&&(resource.timing.loadEventEnd=endTimestamp||BOOMR.now());BOOMR.real_sendBeacon();resource.onComplete&&resource.onComplete(resource);if(BOOMR.plugins.ResourceTiming&&BOOMR.plugins.ResourceTiming.is_enabled()&&resource.timing&&resource.timing.requestStart){var r=BOOMR.plugins.ResourceTiming.getCompressedResourceTiming(resource.timing.requestStart,resource.timing.loadEventEnd);BOOMR.plugins.ResourceTiming.addToBeacon(r)}if(BOOMR.utils.inArray(resource.initiator,BOOMR.constants.BEACON_TYPE_SPAS)){self.calculateSpaTimings(resource);if("number"==typeof eventIndex&&self.pending_events[eventIndex].aborted){BOOMR.addVar("pgu",d.URL);BOOMR.addVar("rt.quit","");BOOMR.addVar("rt.abld","");impl.addedVars.push("pgu","rt.quit","rt.abld")}}BOOMR.responseEnd(resource,startTime,resource);"number"==typeof eventIndex&&(self.pending_events[eventIndex]=undefined)};"spa_hard"!==resource.initiator||ev&&ev.aborted||BOOMR.hasBrowserOnloadFired()?sendResponseEnd(!1):BOOMR.utils.addListener(w,"load",function(){var loadTimestamp=BOOMR.now();BOOMR.setImmediate(function(){sendResponseEnd(!0,loadTimestamp)})})};MutationHandler.prototype.calculateSpaTimings=function(resource){var p=BOOMR.getPerformance();if(p&&p.timing)if("spa_hard"===resource.initiator){resource.timing.responseEnd=p.timing.responseStart;resource.timing.fetchStart=p.timing.navigationStart}else{if(!BOOMR.plugins.ResourceTiming||!BOOMR.plugins.ResourceTiming.is_supported())return;var resources=BOOMR.plugins.ResourceTiming.getFilteredResourceTiming(resource.timing.requestStart,resource.timing.loadEventEnd,impl.spaBackEndResources).entries,totalTime=Math.round(resource.timing.loadEventEnd-resource.timing.requestStart);if(!resources||!resources.length){resource.timers={t_resp:0,t_page:totalTime,t_done:totalTime};return}for(var maxResponseEnd=resource.timing.loadEventEnd-p.timing.navigationStart,i=0;i<resources.length;i++)if(resources[i].responseStart>maxResponseEnd){resources[i].responseStart=maxResponseEnd;resources[i].responseEnd=maxResponseEnd}else resources[i].responseEnd>maxResponseEnd&&(resources[i].responseEnd=maxResponseEnd);var backEndTime=Math.round(BOOMR.plugins.ResourceTiming.calculateResourceTimingUnion(resources)),frontEndTime=totalTime-backEndTime;if(backEndTime<0||totalTime<0||frontEndTime<0){BOOMR.addError("Incorrect SPA time calculation");return}resource.timers={t_resp:backEndTime,t_page:frontEndTime,t_done:totalTime}}};MutationHandler.prototype.setTimeout=function(timeout,index){var self=this;if(timeout){this.clearTimeout(index);this.timer=setTimeout(function(){self.timedout(index)},timeout)}};MutationHandler.prototype.timedout=function(index){var ev;this.clearTimeout(index);if((ev=this.pending_events[index])&&0===ev.nodes_to_wait){if("click"===ev.type&&(0===ev.total_nodes||!ev.resource.url)){this.watch--;this.pending_events[index]=undefined}this.sendEvent(index)}};MutationHandler.prototype.clearTimeout=function(index){if(this.timer&&index===this.pending_events.length-1){clearTimeout(this.timer);this.timer=null}};MutationHandler.prototype.load_cb=function(ev,resourceNum){var index,now=BOOMR.now(),target=ev.target||ev.srcElement;if(target&&target._bmr){index=target._bmr.idx;resourceNum=void 0!==resourceNum?resourceNum:target._bmr.res||0;if(!target._bmr.end[resourceNum]){target._bmr.end[resourceNum]=now;this.load_finished(index,now)}}};MutationHandler.prototype.monitorMO=function(index){var current_event=this.pending_events[index];current_event&&delete current_event.ignoreMO};MutationHandler.prototype.load_finished=function(index,loadEventEnd){var current_event=this.pending_events[index];if(current_event){current_event.nodes_to_wait--;if(0===current_event.nodes_to_wait){current_event.resource.timing.loadEventEnd=loadEventEnd||BOOMR.now();index===this.pending_events.length-1?BOOMR.utils.inArray(current_event.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(impl.spaIdleTimeout,index):this.setTimeout(impl.xhrIdleTimeout,index):this.sendEvent(index)}}};MutationHandler.prototype.wait_for_node=function(node,index){var current_event,els,i,l,url,resourceNum,domHeight,domWidth,listener,self=this,interesting=!1,exisitingNodeSrcUrlChanged=!1;if(node&&node.nodeName&&(node.nodeName.toUpperCase().match(/^(IMG|IFRAME|IMAGE)$/)||"LINK"===node.nodeName.toUpperCase()&&node.rel&&node.rel.match(/\bstylesheet\b/i))){node._bmr&&"number"==typeof node._bmr.res&&node._bmr.end[node._bmr.res]&&(exisitingNodeSrcUrlChanged=!0);if(!(url=node.src||"function"==typeof node.getAttribute&&node.getAttribute("xlink:href")||node.href)||url.match(/^(about:|javascript:|data:)/i))return!1;node._bmr&&node._bmr.url!==url&&(exisitingNodeSrcUrlChanged=!0);if("IMG"===node.nodeName){if(node.naturalWidth&&!exisitingNodeSrcUrlChanged)return!1;if("function"==typeof node.getAttribute&&""===node.getAttribute("src"))return!1}if("IFRAME"===node.nodeName&&exisitingNodeSrcUrlChanged)return!1;if("function"==typeof node.getAttribute){domHeight=parseInt(node.getAttribute("height"),10);domWidth=parseInt(node.getAttribute("width"),10)}isNaN(domHeight)&&(domHeight=!node.style||"0"!==node.style.height&&"0px"!==node.style.height&&"1px"!==node.style.height?undefined:0);isNaN(domWidth)&&(domWidth=!node.style||"0"!==node.style.width&&"0px"!==node.style.width&&"1px"!==node.style.width?undefined:0);if(!isNaN(domHeight)&&domHeight<=1&&!isNaN(domWidth)&&domWidth<=1)return!1;if(node.style&&"none"===node.style.display)return!1;if(node.style&&"hidden"===node.style.visibility)return!1;if(!(current_event=this.pending_events[index]))return!1;resourceNum=current_event.resources.length;node._bmr||(node._bmr={end:{}});current_event.urls||(current_event.urls={});if(current_event.urls[url])return!1;if(!current_event.resource.url){a.href=url;if(impl.excludeFilter(a))return!1;current_event.resource.url=a.href}node._bmr.res=resourceNum;node._bmr.idx=index;delete node._bmr.end[resourceNum];node._bmr.url=url;listener=function(ev){self.load_cb(ev,resourceNum);node.removeEventListener("load",listener);node.removeEventListener("error",listener)};node.addEventListener("load",listener);node.addEventListener("error",listener);current_event.nodes_to_wait++;this.clearTimeout(index);current_event.total_nodes++;current_event.resources.push(node);current_event.urls[url]=1;interesting=!0}else node.nodeType===Node.ELEMENT_NODE&&["IMAGE","IMG"].forEach(function(tagName){if((els=node.getElementsByTagName(tagName))&&els.length)for(i=0,l=els.length;i<l;i++)interesting|=this.wait_for_node(els[i],index)},this);return interesting};MutationHandler.prototype.add_event_resource=function(resource){var current_event,index=this.pending_events.length-1;if(index<0)return-1;if(!(current_event=this.pending_events[index]))return-1;if(!resource)return-1;current_event.nodes_to_wait++;current_event.total_nodes++;resource.index=index;resource.node=!0;return index};MutationHandler.prototype.mutation_cb=function(mutations){var self,index,evt;if(!this.watch)return!0;if((index=(self=this).pending_events.length-1)<0||!this.pending_events[index])return!0;if((evt=this.pending_events[index]).ignoreMO)return!0;"undefined"==typeof evt.interesting&&(evt.interesting=!1);if(mutations&&mutations.length){evt.resource.timing.domComplete=BOOMR.now();mutations.forEach(function(mutation){var i,l,node;if("attributes"===mutation.type)evt.interesting|=self.wait_for_node(mutation.target,index);else if("childList"===mutation.type){l=mutation.addedNodes.length;for(i=0;i<l;i++)evt.interesting|=self.wait_for_node(mutation.addedNodes[i],index);l=mutation.removedNodes.length;for(i=0;i<l;i++)"IFRAME"===(node=mutation.removedNodes[i]).nodeName&&node._bmr&&self.load_cb({target:node,type:"removed"})}})}if(!evt.interesting&&!evt.timeoutExtended){this.setTimeout(1e3,index);evt.timeoutExtended=!0}return!0};MutationHandler.prototype.queue_is_empty=function(){return 0===this.nodesWaitingFor()};MutationHandler.prototype.nodesWaitingFor=function(index){var ev;if(0===this.pending_events.length)return 0;void 0===index&&(index=this.pending_events.length-1);return(ev=this.pending_events[index])?ev.nodes_to_wait:0};MutationHandler.prototype.completeEvent=function(index){var ev,now=BOOMR.now();if(0!==this.pending_events.length){void 0===index&&(index=this.pending_events.length-1);if(ev=this.pending_events[index]){ev.resource.timing.loadEventEnd=now;ev.forced=!0;this.sendEvent(index)}}};handler=new MutationHandler;impl={spaBackEndResources:["xmlhttprequest","script","fetch"],alwaysSendXhr:!1,excludeFilters:[],initialized:!1,addedVars:[],captureXhrRequestResponse:!1,singlePageApp:!1,autoXhrEnabled:!1,monitorFetch:!1,fetchBodyUsedWait:200,spaIdleTimeout:1e3,xhrIdleTimeout:50,excludeFilter:function(anchor){var idx,ctx;if(!anchor||!anchor.href)return!1;for(idx=0;idx<impl.excludeFilters.length;idx++)if("function"==typeof impl.excludeFilters[idx].cb){ctx=impl.excludeFilters[idx].ctx;impl.excludeFilters[idx].name;try{if(impl.excludeFilters[idx].cb.call(ctx,anchor))return!0}catch(exception){BOOMR.addError(exception,"BOOMR.plugins.AutoXHR.impl.excludeFilter()")}}return!1},clear:function(){if(impl.addedVars&&0<impl.addedVars.length){BOOMR.removeVar(impl.addedVars);impl.addedVars=[]}},loadFinished:function(resource,now){var entry,navSt,entryStartTime,entryResponseEnd,p;now=now||BOOMR.now();if(!resource.timing.loadEventEnd){resource.status&&BOOMR.fireEvent("xhr_error",resource);resource.timing.loadEventEnd=now;if((p=BOOMR.getPerformance())&&p.timing){navSt=p.timing.navigationStart;if(entry=BOOMR.getResourceTiming(resource.url,function(rt1,rt2){return rt1.responseEnd-rt2.responseEnd},function(rt){return Math.ceil(navSt+rt.startTime+2)>=resource.timing.requestStart&&0!==rt.responseEnd})){entryStartTime=Math.floor(navSt+entry.startTime);if((entryResponseEnd=Math.floor(navSt+entry.responseEnd))<=BOOMR.now()){resource.timing.responseEnd=entryResponseEnd;resource.timing.loadEventEnd<entryResponseEnd&&(resource.timing.loadEventEnd=entryResponseEnd);resource.timing.requestStart=entryStartTime;resource.timing.fetchStart=entryStartTime;0!==entry.responseStart&&(resource.timing.responseStart=Math.floor(navSt+entry.responseStart));resource.restiming=entry}}}resource.node&&function matchesAlwaysSendXhr(url,alwaysSendXhr){var i,rule;if(alwaysSendXhr&&url){if("boolean"==typeof alwaysSendXhr)return!0===alwaysSendXhr;if("function"==typeof alwaysSendXhr)try{return!0===alwaysSendXhr(url)}catch(e){return}if(BOOMR.utils.isArray(alwaysSendXhr))for(i=0;i<alwaysSendXhr.length;i++){if("string"==typeof(rule=alwaysSendXhr[i])&&rule===url)return 1;if(rule instanceof RegExp&&rule.test(url))return 1}}}(resource.url,impl.alwaysSendXhr)&&handler.sendResource(resource);if(0<=resource.index){handler.monitorMO(resource.index);handler.load_finished(resource.index,resource.timing.responseEnd)}}}};BOOMR.plugins.AutoXHR={is_complete:function(){return!0},init:function(config){var idx;d=w.document;if(w&&d){a=d.createElement("A");BOOMR.utils.pluginConfig(impl,config,"AutoXHR",["spaBackEndResources","alwaysSendXhr","monitorFetch","fetchBodyUsedWait","spaIdleTimeout","xhrIdleTimeout"]);BOOMR.instrumentXHR=instrumentXHR;BOOMR.uninstrumentXHR=uninstrumentXHR;BOOMR.instrumentFetch=instrumentFetch;BOOMR.uninstrumentFetch=uninstrumentFetch;if(!impl.initialized){this.addExcludeFilter(shouldExcludeXhr,null,"shouldExcludeXhr");impl.initialized=!0}if(config&&config.AutoXHR&&config.AutoXHR.excludeFilters&&0<config.AutoXHR.excludeFilters.length)for(idx=0;idx<config.AutoXHR.excludeFilters.length;idx++)impl.excludeFilters.push(config.AutoXHR.excludeFilters[idx]);impl.autoXhrEnabled=config.instrument_xhr;if(BOOMR.plugins.SPA&&BOOMR.plugins.SPA.supported_frameworks)for(var supported=BOOMR.plugins.SPA.supported_frameworks(),i=0;i<supported.length;i++){var spa=supported[i];if(config[spa]&&config[spa].enabled){impl.singlePageApp=!0;break}}if(impl.alwaysSendXhr&&impl.autoXhrEnabled&&BOOMR.xhr&&"function"==typeof BOOMR.xhr.stop){var sendXhrs=function(resources){if(resources.length)for(i=0;i<resources.length;i++)sendResource(resources[i]);else sendResource(resources)},resources=BOOMR.xhr.stop(sendXhrs);resources&&resources.length&&BOOMR.setImmediate(sendXhrs,resources)}if(impl.singlePageApp){impl.alwaysSendXhr||(impl.autoXhrEnabled=!1);if(impl.autoXhrEnabled){BOOMR.instrumentXHR();BOOMR.instrumentFetch()}}else if(impl.autoXhrEnabled){BOOMR.instrumentXHR();BOOMR.instrumentFetch()}else if(!1===impl.autoXhrEnabled){BOOMR.uninstrumentXHR();BOOMR.uninstrumentFetch()}BOOMR.registerEvent("xhr_error");BOOMR.subscribe("beacon",impl.clear,null,impl)}},getMutationHandler:function(){return handler},getPathname:getPathName,enableAutoXhr:function(){if(!impl.autoXhrEnabled){BOOMR.instrumentXHR();BOOMR.instrumentFetch()}impl.autoXhrEnabled=!0},addExcludeFilter:function(cb,ctx,name){impl.excludeFilters.push({cb:cb,ctx:ctx,name:name})},setXhrRequestResponseCapturing:function(enabled){impl.captureXhrRequestResponse=enabled}}}function getPathName(anchor){if(!anchor)return null;anchor.href;var pathName=anchor.pathname;"/"!==pathName.charAt(0)&&(pathName="/"+pathName);return pathName}function shouldExcludeXhr(anchor){var urlIdx;if(anchor.href){if(anchor.href.match(/^(about:|javascript:|data:)/i))return!0;if("function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&(0===(urlIdx=anchor.href.indexOf(BOOMR.getBeaconURL()))||5===urlIdx||6===urlIdx))return!0}return BOOMR.xhr_excludes.hasOwnProperty(anchor.href)||BOOMR.xhr_excludes.hasOwnProperty(anchor.hostname)||BOOMR.xhr_excludes.hasOwnProperty(getPathName(anchor))||DEFAULT_XHR_EXCLUDES.hasOwnProperty(anchor.href)||DEFAULT_XHR_EXCLUDES.hasOwnProperty(anchor.hostname)||DEFAULT_XHR_EXCLUDES.hasOwnProperty(getPathName(anchor))}function setHeadersForTheResource(resource,xmlOrfetchResponse){if(resource&&xmlOrfetchResponse)if(xmlOrfetchResponse.getAllResponseHeaders&&xmlOrfetchResponse.readyState>=XMLHttpRequest.HEADERS_RECEIVED){var headers=xmlOrfetchResponse.getAllResponseHeaders();if("undefined"!==headers&&"string"==typeof headers){var rawHeaders=headers.trim().split(/[\r\n]+/),xmlHeaderMap={};rawHeaders.forEach(function(line){var parts=line.split(": "),header=parts.shift(),value=parts.join(": ");xmlHeaderMap[header]=value});resource.headers=xmlHeaderMap}}else if(xmlOrfetchResponse.headers&&xmlOrfetchResponse.headers.get){var fetchHeaderMap={};xmlOrfetchResponse.headers.forEach(function(value,key){fetchHeaderMap[key=key]=value});resource.headers=fetchHeaderMap}}function shouldExcludeXhrBody(url){if(BOOMR.xhr_body_excludes)for(var i=0;i<BOOMR.xhr_body_excludes.length;i++)if(-1!==url.indexOf(BOOMR.xhr_body_excludes[i]))return 1}function MutationHandler(){this.watch=0;this.timer=null;this.pending_events=[];this.lastSpaLocation=null}function instrumentFetch(){if(impl.monitorFetch&&"function"==typeof w.fetch&&"function"==typeof w.Request&&"function"==typeof w.Response&&"function"==typeof w.Promise&&"function"==typeof window.fetch&&!w.fetch.polyfill&&(!BOOMR.proxy_fetch||BOOMR.proxy_fetch!==w.fetch))if(BOOMR.proxy_fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch===w.fetch)w.fetch=BOOMR.proxy_fetch;else{BOOMR.orig_fetch=w.orig_fetch||w.fetch;BOOMR.proxy_fetch=function(input,init){var url,method,payload,resource={timing:{},initiator:"xhr"};if("object"==typeof input&&input instanceof w.Request){url=input.url;method=init&&init.method||input.method||"GET";impl.captureXhrRequestResponse&&(payload=init&&init.body||input.body||undefined)}else{url=input;method=init&&init.method||"GET";impl.captureXhrRequestResponse&&(payload=init&&init.body||undefined)}a.href=url;if(impl.excludeFilter(a))return BOOMR.orig_fetch.apply(w,arguments);BOOMR.fireEvent("xhr_init","fetch");resource.url=a.href;resource.method=method;resource.type="fetch";payload&&!shouldExcludeXhrBody(url)&&(resource.requestPayload=payload);BOOMR.fireEvent("xhr_send",{resource:resource});handler.addEvent(resource);try{resource.timing.requestStart=BOOMR.now();var promise=BOOMR.orig_fetch.apply(this,arguments),wrapCallback=function(_promise,_fn,_resource){function done(){var now;setHeadersForTheResource(_resource,_resource.fetchResponse);if(_resource.fetchResponse&&!_resource.fetchResponse.bodyUsed&&impl.fetchBodyUsedWait){now=BOOMR.now();_resource.responseBodyNotUsed=!0;setTimeout(function(){impl.loadFinished(_resource,now)},impl.fetchBodyUsedWait)}else impl.loadFinished(_resource)}return function(){var p,np=_promise._bmrNextP;try{p=_fn.apply(this===window?w:this,arguments);for(;np&&!np._bmrHasOnFulfilled;)np=np._bmrNextP;np||(p instanceof w.Promise?p.then=wrapThen(p,p.then,_resource):done());return p}catch(e){for(;np&&!np._bmrHasOnRejected;)np=np._bmrNextP;np||done();throw e}}},wrapThen=function(_promise,_then,_resource){return _promise._bmrNextP?_then:function(){var args=Array.prototype.slice.call(arguments);if(0<args.length){if("function"==typeof args[0]){args[0]=wrapCallback(_promise,args[0],_resource);_promise._bmrHasOnFulfilled=!0}if(1<args.length&&"function"==typeof args[1]){args[1]=wrapCallback(_promise,args[1],_resource);_promise._bmrHasOnRejected=!0}}var p=_then.apply(_promise,args);(_promise._bmrNextP=p).then=wrapThen(p,p.then,_resource);return p}};promise.then=wrapThen(promise,promise.then,resource);return promise.then(function(response){var ct,parseJson=!1,parseXML=!1;response.redirected&&(resource.responseUrl=response.url);(response.status<200||400<=response.status)&&(resource.status=response.status);resource.fetchResponse=response;0<=resource.index&&handler.monitorMO(resource.index);if(impl.captureXhrRequestResponse&&"function"==typeof response.clone){if(ct=response.headers.get("content-type")){parseJson=-1!==ct.indexOf("json");parseXML=-1!==ct.indexOf("xml")}resource.response={};try{response.clone().text().then(function(text){resource.response.text=text;resource.response.raw=text;parseXML&&"function"==typeof w.DOMParser&&(resource.response.xml=(new w.DOMParser).parseFromString(text,"text/xml"))}).then(null,function(reason){})}catch(e){}if(parseJson)try{response.clone().json().then(function(json){resource.response.json=json}).then(null,function(reason){})}catch(e){}}return response},function(reason){!reason||"AbortError"!==reason.name&&20!==reason.code?resource.status=-998:resource.status=-999;throw reason})}catch(e){resource.status=-997;impl.loadFinished(resource);throw e}};BOOMR.utils.overwriteNative(w,"fetch",BOOMR.proxy_fetch)}}function uninstrumentFetch(){"function"==typeof w.fetch&&BOOMR.orig_fetch&&BOOMR.orig_fetch!==w.fetch&&(w.fetch=BOOMR.orig_fetch)}function instrumentXHR(){if(!BOOMR.proxy_XMLHttpRequest||BOOMR.proxy_XMLHttpRequest!==w.XMLHttpRequest)if(BOOMR.proxy_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest===w.XMLHttpRequest){w.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest;MutationHandler.start()}else{BOOMR.orig_XMLHttpRequest=w.orig_XMLHttpRequest||w.XMLHttpRequest;MutationHandler.start();!function instrumentClick(){BOOMR.subscribe("click",function(){if(!impl.singlePageApp){var resource={timing:{},initiator:"click"};if(BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==w.XMLHttpRequest){resource.timing.requestStart=BOOMR.now();handler.addEvent(resource)}}})}();BOOMR.proxy_XMLHttpRequest=function(){var resource={timing:{},initiator:"xhr"},opened=!1,excluded=!1,req=new BOOMR.orig_XMLHttpRequest,orig_open=req.open,orig_send=req.send;req.open=function(method,url,async){a.href=url;if(impl.excludeFilter(a)){excluded=!0;return orig_open.apply(req,arguments)}excluded=!1;async===undefined&&(async=!0);BOOMR.fireEvent("xhr_init","xhr");function addListener(ename,stat){var addEventListenerFn=req.addEventListener;w.Zone&&"function"==typeof addEventListenerFn.__zone_symbol__OriginalDelegate&&(addEventListenerFn=addEventListenerFn.__zone_symbol__OriginalDelegate);addEventListenerFn.bind(req)(ename,function(){if("readystatechange"===ename){resource.timing[readyStateMap[req.readyState]]=BOOMR.now();if(4===req.readyState&&0!==req.status){setHeadersForTheResource(resource,req);req.responseURL!==resource.url&&(resource.responseUrl=req.responseURL);(req.status<200||400<=req.status)&&(resource.status=req.status);if(impl.captureXhrRequestResponse){resource.response={text:""===req.responseType||"text"===req.responseType?req.responseText:null,xml:""===req.responseType||"document"===req.responseType?req.responseXML:null,raw:req.response,json:req.responseJSON};if(req.response&&req.response.constructor&&req.response.constructor===BOOMR.boomerang_frame.Object&&BOOMR.boomerang_frame.Object!==w.Object)try{req.response.constructor=w.Object}catch(e){}}impl.loadFinished(resource)}else if(0===req.readyState&&"number"==typeof resource.timing.open){req.responseURL!==resource.url&&(resource.responseUrl=req.responseURL);resource.status=-999;impl.loadFinished(resource)}}else{req.responseURL!==resource.url&&(resource.responseUrl=req.responseURL);"load"===ename?0!==req.status&&(req.status<200||400<=req.status)&&(resource.status=req.status):resource.status=stat===undefined?req.status:stat;impl.loadFinished(resource)}},!1)}if(!opened){async&&addListener("readystatechange");addListener("load");addListener("timeout",-1001);addListener("error",-998);addListener("abort",-999)}resource.url=a.href;resource.method=method;resource.type="xhr";delete resource.status;async||(resource.synchronous=!0);opened=!0;try{return orig_open.apply(req,arguments)}catch(e){resource.status=-997;impl.loadFinished(resource);throw e}};req.send=function(data){if(excluded)return orig_send.apply(req,arguments);impl.captureXhrRequestResponse&&!shouldExcludeXhrBody(resource.url)&&(req.resource.requestPayload=data);BOOMR.fireEvent("xhr_send",req);handler.addEvent(resource);resource.timing.requestStart=BOOMR.now();return"undefined"==typeof resource.status||-997!==resource.status?orig_send.apply(req,arguments):void 0};req.resource=resource;return req};BOOMR.proxy_XMLHttpRequest.UNSENT=0;BOOMR.proxy_XMLHttpRequest.OPENED=1;BOOMR.proxy_XMLHttpRequest.HEADERS_RECEIVED=2;BOOMR.proxy_XMLHttpRequest.LOADING=3;BOOMR.proxy_XMLHttpRequest.DONE=4;BOOMR.proxy_XMLHttpRequest.prototype=BOOMR.orig_XMLHttpRequest.prototype;BOOMR.utils.overwriteNative(w,"XMLHttpRequest",BOOMR.proxy_XMLHttpRequest)}}function uninstrumentXHR(){BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==w.XMLHttpRequest&&(w.XMLHttpRequest=BOOMR.orig_XMLHttpRequest)}function sendResource(resource){resource.initiator="xhr";BOOMR.responseEnd(resource)}}();!function(){if(!BOOMR.plugins.Continuity){var COMPRESS_MODE_SMALL_NUMBERS=0,COMPRESS_MODE_LARGE_NUMBERS=1,COMPRESS_MODE_PERCENT=2,BASE64_NUMBER="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",LARGE_NUMBER_WRAP=".",listenerOpts={passive:!0,capture:!0},p=BOOMR.getPerformance(),externalMetrics={},epoch=p&&p.timing&&p.timing.navigationStart?p.timing.navigationStart:BOOMR.now(),Timeline=function(startTime){var bucketsVisited,data={},dataOptions={},dataLog=[],tti=0,visuallyReady=0,heroImagesReady=0,idleIntervals=0;BOOMR.fpsLog&&BOOMR.fpsLog.length&&(startTime=BOOMR.fpsLog[0]+epoch);function getTimeBucket(){return Math.floor((BOOMR.now()-startTime)/100)}function determineVisuallyReady(){var latestTs=0;if(impl.ttiWaitForFrameworkReady){if(!impl.frameworkReady)return;latestTs=impl.frameworkReady}if(BOOMR.plugins.PaintTiming&&BOOMR.plugins.PaintTiming.is_supported()&&p&&p.timeOrigin){var fp=BOOMR.plugins.PaintTiming.getTimingFor("largest-contentful-paint");(fp=(fp=fp||BOOMR.plugins.PaintTiming.getTimingFor("first-contentful-paint"))||BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(latestTs=Math.max(latestTs,Math.round(fp+p.timeOrigin)))}else if(p&&p.timing&&p.timing.msFirstPaint)latestTs=Math.max(latestTs,p.timing.msFirstPaint);else if(BOOMR.window&&BOOMR.window.chrome&&"function"==typeof BOOMR.window.chrome.loadTimes){var loadTimes=BOOMR.window.chrome.loadTimes();loadTimes&&loadTimes.firstPaintTime&&(latestTs=Math.max(latestTs,1e3*loadTimes.firstPaintTime))}p&&p.timing&&p.timing.domContentLoadedEventEnd&&(latestTs=Math.max(latestTs,p.timing.domContentLoadedEventEnd));impl.ttiWaitForHeroImages&&(heroImagesReady=function determineImageLoadTime(selector){var combinedSelector,elements,i,j,src,entries,latestTs=0;if(!BOOMR.window||!BOOMR.window.document||"function"!=typeof BOOMR.window.document.querySelectorAll)return 0;if(!p||"function"!=typeof p.getEntriesByType)return 0;combinedSelector=selector+", "+selector+" * img, "+selector+" * image";if((elements=BOOMR.window.document.querySelectorAll(combinedSelector))&&elements.length)for(i=0;i<elements.length;i++)if((src=elements[i].currentSrc||elements[i].src||"function"==typeof elements[i].getAttribute&&elements[i].getAttribute("xlink:href"))&&(entries=p.getEntriesByName(src))&&entries.length)for(j=0;j<entries.length;j++)latestTs=Math.max(latestTs,entries[j].responseEnd);return latestTs?Math.floor(latestTs+epoch):0}(impl.ttiWaitForHeroImages))&&(latestTs=Math.max(latestTs,heroImagesReady));return latestTs}function getCompressedBucketLogFor(type,since){return function compressBucketLog(type,backfill,dataSet,sinceBucket,endBucket){var i,dupes,valStr,nextVal,wroteSomething,out="",val=0;if(!dataSet||!BOOMR.utils.Compression)return"";if(0===dataSet.length)return"";if(backfill){"undefined"==typeof dataSet[sinceBucket]&&(dataSet[sinceBucket]=0);for(i=sinceBucket+1;i<=endBucket;i++)"undefined"==typeof dataSet[i]&&(dataSet[i]=dataSet[i-1])}for(i=sinceBucket;i<=endBucket;i++){val="number"!=typeof dataSet[i]||isNaN(dataSet[i])?0:dataSet[i];type===COMPRESS_MODE_SMALL_NUMBERS?valStr=val<=63?BASE64_NUMBER.charAt(val):LARGE_NUMBER_WRAP+val.toString(36)+LARGE_NUMBER_WRAP:type===COMPRESS_MODE_LARGE_NUMBERS?valStr=val.toString(36):type===COMPRESS_MODE_PERCENT&&(valStr=val<99?val<=9?"0"+Math.max(val,0):val:"__");if(i+3<=endBucket&&(dataSet[i+1]===val||0===val&&dataSet[i+1]===undefined)&&(dataSet[i+2]===val||0===val&&dataSet[i+2]===undefined)&&(dataSet[i+3]===val||0===val&&dataSet[i+3]===undefined)){dupes=1;for(;i<endBucket&&(dataSet[i+1]===val||0===val&&dataSet[i+1]===undefined);){dupes++;i++}nextVal="*"+dupes.toString(36)+"*"+valStr}else nextVal=valStr;if(0!==val||i!==endBucket){type===COMPRESS_MODE_LARGE_NUMBERS&&wroteSomething&&(out+=",");wroteSomething=!0;out+=nextVal}}return wroteSomething?type.toString()+out:""}(dataOptions[type].compressMode,dataOptions[type].backfillLast,data[type],0!==since?Math.floor((since-startTime)/100):0,getTimeBucket())}externalMetrics.timeToInteractive=function(){if(tti)return tti-epoch};externalMetrics.timeToVisuallyReady=function(){if(visuallyReady)return visuallyReady-epoch};externalMetrics.timeToHeroImagesReady=function(){if(impl.ttiWaitForHeroImages&&heroImagesReady)return heroImagesReady-epoch};externalMetrics.timeToFrameworkReady=function(){if(impl.ttiWaitForFrameworkReady&&impl.frameworkReady)return impl.frameworkReady-epoch};externalMetrics.log=function(){return dataLog};return{register:function register(type,compressMode,backfillLast){data[type]||(data[type]=[]);dataOptions[type]={compressMode:compressMode||COMPRESS_MODE_SMALL_NUMBERS,backfillLast:backfillLast}},set:function set(type,value,bucket){void 0===bucket&&(bucket=getTimeBucket());data[type]&&(data[type][bucket]=value)},log:function log(type,bucket,val){void 0===bucket&&(bucket=getTimeBucket());dataLog.push({type:type,time:bucket,val:val});dataLog.length>impl.logMaxEntries&&Array.prototype.splice.call(dataLog,0,dataLog.length-impl.logMaxEntries)},increment:function increment(type,value,bucket){void 0===bucket&&(bucket=getTimeBucket());void 0===value&&(value=1);if(data[type]){data[type][bucket]||(data[type][bucket]=0);data[type][bucket]+=value}},getTimeBucket:getTimeBucket,getStats:function getStats(type,since){var val,count=0,total=0,min=Infinity,max=0,sinceBucket=Math.floor((since-startTime)/100);if(!data[type])return 0;for(var bucket in data[type])if(sinceBucket<=(bucket=parseInt(bucket,10))&&data[type].hasOwnProperty(bucket)){count++;total+=val=data[type][bucket];min=Math.min(min,val);max=Math.max(max,val)}return{total:total,count:count,min:min,max:max}},analyze:function analyze(timeOfLastBeacon){var endBucket=getTimeBucket(),j=0;impl.sendLog&&void 0!==timeOfLastBeacon&&function addCompressedLogToBeacon(){for(var val="",i=0;i<dataLog.length;i++){var evt=dataLog[i];0!==i&&(val+="|");val+=evt.type;val+=Math.round(evt.time-epoch).toString(36);for(var param in evt.val)if(evt.val.hasOwnProperty(param)){val+=","+param;"number"==typeof evt.val[param]?val+=evt.val[param].toString(36):val+=evt.val[param]}}""!==val&&impl.addToBeacon("c.l",val)}();impl.sendTimeline&&void 0!==timeOfLastBeacon&&function addCompressedTimelineToBeacon(since){var type,compressedLog;for(type in data)data.hasOwnProperty(type)&&""!==(compressedLog=getCompressedBucketLogFor(type,since))&&impl.addToBeacon("c.t."+type,compressedLog)}(timeOfLastBeacon);if(!tti&&(visuallyReady=visuallyReady||determineVisuallyReady())){impl.addToBeacon("c.tti.vr",externalMetrics.timeToVisuallyReady());impl.addToBeacon("c.tti.fr",externalMetrics.timeToFrameworkReady());impl.addToBeacon("c.tti.hi",externalMetrics.timeToHeroImagesReady());if(data.longtask||data.fps||data.busy){for(var startBucket=void 0===bucketsVisited?Math.floor((visuallyReady-startTime)/100):bucketsVisited+1,j=startBucket;j<=endBucket;j++)if(data.longtask&&data.longtask[j])idleIntervals=0;else if(data.fps&&(!data.fps[j]||data.fps[j]<2))idleIntervals=0;else if(data.busy&&50<data.busy[j])idleIntervals=0;else if(data.interdly&&data.interdly[j])idleIntervals=0;else if(5<=++idleIntervals){tti=startTime+100*(j-5);tti=Math.max(tti,visuallyReady);break}bucketsVisited=endBucket;0<tti&&impl.addToBeacon("c.tti",externalMetrics.timeToInteractive())}}},stop:function stop(){data={};dataLog=[]},onBeacon:function onBeacon(){for(var type in data)if(data.hasOwnProperty(type))if(!tti&&0<bucketsVisited){var oldData=data[type],newData=new Array(bucketsVisited+1);data[type]=newData.concat(oldData.slice(bucketsVisited+1))}else data[type]=[];dataLog=[]}}},LayoutShiftMonitor=function(w){if(w.PerformanceObserver&&w.LayoutShift){var enabled=!0,clsScore=0,perfObserver=new w.PerformanceObserver(function onLayoutShiftObserver(list){var entries,i;if(!enabled)return;entries=list.getEntries();for(i=0;i<entries.length;i++)entries[i].hadRecentInput||(clsScore+=entries[i].value)});try{perfObserver.observe({type:"layout-shift",buffered:!0})}catch(e){return}externalMetrics.clsScore=function(){return clsScore};return{clearClsScore:clearClsScore,analyze:function analyze(startTime){impl.addToBeacon("c.cls",externalMetrics.clsScore())},stop:function stop(){enabled=!1;perfObserver.disconnect();clearClsScore()},onBeacon:function onBeacon(){clearClsScore()}}}function clearClsScore(){clsScore=0}},LongTaskMonitor=function(w,t){if(w.PerformanceObserver&&w.PerformanceLongTaskTiming){var ATTRIBUTION_TYPES={unknown:0,self:1,"same-origin-ancestor":2,"same-origin-descendant":3,"same-origin":4,"cross-origin-ancestor":5,"cross-origin-descendant":6,"cross-origin-unreachable":7,"multiple-contexts":8},CULPRIT_ATTRIBUTION_NAMES={unknown:0,script:1,layout:2},CULPRIT_TYPES={unknown:0,iframe:1,embed:2,object:3},perfObserver=new w.PerformanceObserver(function onPerformanceObserver(list){var entries,i;if(!enabled)return;entries=list.getEntries();Array.prototype.push.apply(longTasks,entries);for(i=0;i<entries.length;i++)longTasksTime+=entries[i].duration;t.increment("longtask",entries.length)});try{perfObserver.observe({entryTypes:["longtask"]})}catch(e){return}t.register("longtask",COMPRESS_MODE_SMALL_NUMBERS);var longTasks=[],enabled=!0,longTasksTime=0;externalMetrics.longTasksTime=function(){return longTasksTime};externalMetrics.longTasksCount=function(){return longTasks.length};return{getTasks:function getTasks(){return longTasks},clearTasks:clearTasks,analyze:function analyze(startTime){var i,j,task,obj,attr,objs=[],attrs=[];if(0!==longTasks.length){for(i=0;i<longTasks.length;i++){task=longTasks[i];obj={s:Math.round(task.startTime).toString(36),d:Math.round(task.duration).toString(36),n:ATTRIBUTION_TYPES[task.name]?ATTRIBUTION_TYPES[task.name]:0};attrs=[];for(j=0;j<task.attribution.length;j++)if("script"!==(attr=task.attribution[j]).name||"iframe"!==attr.containerType||attr.containerName||attr.containerId||attr.containerSrc){var containerName=attr.containerName?attr.containerName:undefined,containerId=attr.containerId?attr.containerId:undefined;containerName===containerId&&(containerName=undefined);var containerSrc=containerId===undefined?attr.containerSrc:undefined;attrs.push({a:CULPRIT_ATTRIBUTION_NAMES[attr.name]?CULPRIT_ATTRIBUTION_NAMES[attr.name]:0,t:CULPRIT_TYPES[attr.containerType]?CULPRIT_TYPES[attr.containerType]:0,n:containerName,i:containerId,s:containerSrc})}0<attrs.length&&(obj.a=attrs);objs.push(obj)}impl.addToBeacon("c.lt.n",externalMetrics.longTasksCount(),!0);impl.addToBeacon("c.lt.tt",externalMetrics.longTasksTime());impl.addToBeacon("c.lt",function compressJson(data){var utc=window.UserTimingCompression||BOOMR.window.UserTimingCompression;return utc?utc.jsUrl(data):window.JSON?JSON.stringify(data):""}(objs))}},stop:function stop(){enabled=!1;perfObserver.disconnect();clearTasks()},onBeacon:function onBeacon(){clearTasks()}}}function clearTasks(){longTasks=[];longTasksTime=0}},PageBusyMonitor=function(w,t){t.register("busy",COMPRESS_MODE_PERCENT);var POLLS_PER_REPORT=Math.floor(3.125),last=BOOMR.now(),total=0,late=0,overallTotal=0,overallLate=0,pollInterval=!1,reportInterval=!1;externalMetrics.pageBusy=function(){return 0===overallTotal?0:Math.round(overallLate/overallTotal*100)};pollInterval=setInterval(function onPoll(){var now=BOOMR.now(),delta=now-last;last=now;if(68<delta){var missedPolls=Math.floor((delta-32)/32);total+=missedPolls;late+=missedPolls;delta-=32*missedPolls}total++;36<delta&&late++},32);reportInterval=setInterval(function onReport(){var reportTime=t.getTimeBucket(),curTime=reportTime,missedReports=0;if(0!==total){for(;POLLS_PER_REPORT+1<total&&missedReports<=100;){t.set("busy",100,--curTime);total-=POLLS_PER_REPORT;late=Math.max(late-POLLS_PER_REPORT,0);overallTotal+=POLLS_PER_REPORT;overallLate+=POLLS_PER_REPORT;missedReports++}overallTotal+=total;overallLate+=late;t.set("busy",Math.round(late/total*100),reportTime);late=total=0}},100);return{analyze:function analyze(startTime){impl.addToBeacon("c.b",externalMetrics.pageBusy())},stop:function stop(){0;if(pollInterval){clearInterval(pollInterval);pollInterval=!1}if(reportInterval){clearInterval(reportInterval);reportInterval=!1}},onBeacon:function onBeacon(){overallLate=overallTotal=0}}},FrameRateMonitor=function(w,t){t.register("fps",COMPRESS_MODE_SMALL_NUMBERS);var frameStartTime,lastFrame,LONG_FRAME_MAX=50,totalFrames=0,longFrames=0,enabled=!0;if(BOOMR.fpsLog&&BOOMR.fpsLog.length){lastFrame=frameStartTime=BOOMR.fpsLog[0]+epoch;for(var i=0;i<BOOMR.fpsLog.length;i++){var ts=epoch+BOOMR.fpsLog[i];t.increment("fps",1,Math.floor((ts-frameStartTime)/100));LONG_FRAME_MAX<=ts-lastFrame&&longFrames++;lastFrame=ts}totalFrames=BOOMR.fpsLog.length;delete window.BOOMR.fpsLog}else frameStartTime=BOOMR.now();w.requestAnimationFrame(function frame(now){if(enabled){LONG_FRAME_MAX<=now-lastFrame&&longFrames++;lastFrame=now;totalFrames++;t.increment("fps");w.requestAnimationFrame(frame)}});externalMetrics.fps=function(){var dur=externalMetrics.fpsDuration();if(dur)return Math.floor(totalFrames/(dur/1e3))};externalMetrics.fpsDuration=function(){if(frameStartTime)return BOOMR.now()-frameStartTime};externalMetrics.fpsMinimum=function(){if(externalMetrics.fpsDuration()){var min=t.getStats("fps",frameStartTime).min;return min!==Infinity?min:undefined}};externalMetrics.fpsLongFrames=function(){return longFrames};externalMetrics.fpsStart=function(){return frameStartTime?frameStartTime.toString(36):0};return{analyze:function analyze(startTime){impl.addToBeacon("c.f",externalMetrics.fps());impl.addToBeacon("c.f.d",externalMetrics.fpsDuration());impl.addToBeacon("c.f.m",externalMetrics.fpsMinimum());impl.addToBeacon("c.f.l",externalMetrics.fpsLongFrames());impl.addToBeacon("c.f.s",externalMetrics.fpsStart())},stop:function stop(){enabled=!1;frameStartTime=0},onBeacon:function onBeacon(){enabled&&(frameStartTime=BOOMR.now());longFrames=totalFrames=0}}},ScrollMonitor=function(w,t,i){if(w&&w.document&&w.document.body&&w.document.documentElement){var DISTINCT_SCROLL_SECONDS=2e3,MIN_SCROLL_Y_CHANGE_FOR_LOG=20,lastY=0,lastYLogged=0,intervalScrollPct=0,totalScrollPct=0,scrollCount=0,scrollPixels=0,distinctScrollCount=0,lastScroll=0,collectionInterval=!1,body=w.document.body,html=w.document.documentElement;t.register("scroll",COMPRESS_MODE_SMALL_NUMBERS);t.register("scrollpct",COMPRESS_MODE_PERCENT);var documentHeight=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight)-BOOMR.utils.windowHeight();externalMetrics.scrollPct=function(){return totalScrollPct};externalMetrics.scrollCount=function(){return scrollCount};externalMetrics.scrollDistinct=function(){return distinctScrollCount};externalMetrics.scrollPixels=function(){return scrollPixels};BOOMR.utils.addListener(w,"scroll",onScroll,listenerOpts);collectionInterval=setInterval(function reportScroll(){var pct=Math.min(intervalScrollPct,100);0!==pct&&t.set("scrollpct",pct);intervalScrollPct=0},100);return{analyze:function analyze(startTime){impl.addToBeacon("c.s",externalMetrics.scrollCount());impl.addToBeacon("c.s.p",externalMetrics.scrollPct());impl.addToBeacon("c.s.y",externalMetrics.scrollPixels());impl.addToBeacon("c.s.d",externalMetrics.scrollDistinct())},stop:function stop(){if(collectionInterval){clearInterval(collectionInterval);collectionInterval=!1}BOOMR.utils.removeListener(w,"scroll",onScroll)},onBeacon:function onBeacon(){distinctScrollCount=scrollPixels=scrollCount=totalScrollPct=0}}}function onScroll(e){var now=BOOMR.now();scrollCount++;DISTINCT_SCROLL_SECONDS<now-lastScroll&&distinctScrollCount++;lastScroll=now;var curY=BOOMR.utils.scroll().y,diffY=Math.abs(lastY-curY);scrollPixels+=diffY;t.increment("scroll",diffY);if(0===lastYLogged||Math.abs(lastYLogged-curY)>MIN_SCROLL_Y_CHANGE_FOR_LOG){t.log(0,now,{y:curY});lastYLogged=curY}intervalScrollPct+=Math.round(diffY/documentHeight*100);totalScrollPct+=Math.round(diffY/documentHeight*100);lastY=curY}},ClickMonitor=function(w,t,i){t.register("click",COMPRESS_MODE_SMALL_NUMBERS);var PIXEL_AREA=10,RAGE_CLICK_THRESHOLD=3,clickCount=0,sameClicks=0,rageClicks=0,x=0,y=0,lastTarget=null;function onClick(e){var now=BOOMR.now(),newX=e.clientX,newY=e.clientY;clickCount++;var pixels=Math.round(Math.sqrt(Math.pow(y-newY,2)+Math.pow(x-newX,2)));if(lastTarget===e.target||pixels<=PIXEL_AREA){if(RAGE_CLICK_THRESHOLD<=++sameClicks+1){rageClicks++;BOOMR.fireEvent("rage_click",e)}}else sameClicks=0;x=newX;y=newY;lastTarget=e.target;t.increment("click");t.log(1,now,{x:newX,y:newY});e.cancelable&&i.interact("click",now,e)}externalMetrics.clicksCount=function(){return clickCount};externalMetrics.clicksRage=function(){return rageClicks};BOOMR.utils.addListener(w.document,"click",onClick,listenerOpts);return{analyze:function analyze(startTime){impl.addToBeacon("c.c",externalMetrics.clicksCount());impl.addToBeacon("c.c.r",externalMetrics.clicksRage())},stop:function stop(){BOOMR.utils.removeListener(w.document,"click",onClick)},onBeacon:function onBeacon(){rageClicks=sameClicks=clickCount=0}}},KeyMonitor=function(w,t,i){t.register("key",COMPRESS_MODE_SMALL_NUMBERS);var keyCount=0,escKeyCount=0;function onKeyDown(e){var now=BOOMR.now();keyCount++;27===e.keyCode&&escKeyCount++;t.increment("key");t.log(3,now);e.cancelable&&i.interact("key",now,e)}externalMetrics.keyCount=function(){return keyCount};externalMetrics.keyEscapes=function(){return escKeyCount};BOOMR.utils.addListener(w.document,"keydown",onKeyDown,listenerOpts);return{analyze:function analyze(startTime){impl.addToBeacon("c.k",externalMetrics.keyCount());impl.addToBeacon("c.k.e",externalMetrics.keyEscapes())},stop:function stop(){BOOMR.utils.removeListener(w.document,"keydown",onKeyDown)},onBeacon:function onBeacon(){escKeyCount=keyCount=0}}},MouseMonitor=function(w,t,i){t.register("mouse",COMPRESS_MODE_SMALL_NUMBERS);t.register("mousepct",COMPRESS_MODE_PERCENT);var lastX=0,lastY=0,lastLogX=0,lastLogY=0,intervalMousePct=0,totalMousePct=0,totalMousePixels=0,reportMousePctInterval=!1,reportMouseLogInterval=!1,screenPixels=Math.round(Math.sqrt(Math.pow(BOOMR.utils.windowHeight(),2)+Math.pow(BOOMR.utils.windowWidth(),2)));function onMouseMove(e){BOOMR.now();var newX=e.clientX,newY=e.clientY,pixels=Math.round(Math.sqrt(Math.pow(lastY-newY,2)+Math.pow(lastX-newX,2))),newPct=Math.round(pixels/screenPixels*100);intervalMousePct+=newPct;totalMousePct+=newPct;totalMousePixels+=pixels;lastX=newX;lastY=newY;t.increment("mouse",pixels)}externalMetrics.mousePct=function(){return totalMousePct};externalMetrics.mousePixels=function(){return totalMousePixels};reportMousePctInterval=setInterval(function reportMousePct(){var pct=Math.min(intervalMousePct,100);0!==pct&&t.set("mousepct",pct);intervalMousePct=0},100);reportMouseLogInterval=setInterval(function reportMouseLog(){if(lastLogX!==lastX||lastLogY!==lastY){if(10<=Math.round(Math.sqrt(Math.pow(lastLogY-lastY,2)+Math.pow(lastLogX-lastX,2)))){t.log(2,BOOMR.now(),{x:lastX,y:lastY});lastLogX=lastX;lastLogY=lastY}}},250);BOOMR.utils.addListener(w.document,"mousemove",onMouseMove,listenerOpts);return{analyze:function analyze(startTime){impl.addToBeacon("c.m.p",externalMetrics.mousePct());impl.addToBeacon("c.m.n",externalMetrics.mousePixels())},stop:function stop(){if(reportMousePctInterval){clearInterval(reportMousePctInterval);reportMousePctInterval=!1}if(reportMouseLogInterval){clearInterval(reportMouseLogInterval);reportMouseLogInterval=!1}BOOMR.utils.removeListener(w.document,"mousemove",onMouseMove)},onBeacon:function onBeacon(){totalMousePixels=totalMousePct=0}}},InteractionMonitor=function(w,t,afterOnloadMinWait){t.register("inter",COMPRESS_MODE_SMALL_NUMBERS);t.register("interdly",COMPRESS_MODE_SMALL_NUMBERS);var INTERACTION_MIN_WAIT_FOR_BEACON=afterOnloadMinWait,timeToFirstInteraction=0,firstInputDelay=null,interactions=0,interactionsDelay=0,delayedInteractions=0,delayedInteractionTime=0,enabled=!0,beaconStartTime=0,beaconEndTime=0,beaconMinTimeout=!1,beaconMaxTimeout=!1,isSpaNav=!1,sentTimers=!1;function clearBeaconTimers(){if(beaconMinTimeout){clearTimeout(beaconMinTimeout);beaconMinTimeout=!1}if(beaconMaxTimeout){clearTimeout(beaconMaxTimeout);beaconMaxTimeout=!1}}function sendInteractionBeacon(){BOOMR.sendBeaconWhenReady({"rt.start":"manual","http.initiator":"interaction","rt.tstart":beaconStartTime,"rt.end":beaconEndTime},function(){clearBeaconTimers();BOOMR.fireEvent("interaction")},impl)}externalMetrics.interactionDelayed=function(){return delayedInteractions};externalMetrics.interactionDelayedTime=function(){return Math.round(delayedInteractionTime)};externalMetrics.interactionAvgDelay=function(){if(0<interactions)return Math.round(interactionsDelay/interactions)};externalMetrics.timeToFirstInteraction=function(){if(timeToFirstInteraction)return timeToFirstInteraction-epoch};externalMetrics.firstInputDelay=function(){if(null!==firstInputDelay)return firstInputDelay};BOOMR.subscribe("spa_init",function onSpaInit(){isSpaNav=!0;clearBeaconTimers()},null,impl);return{interact:function interact(type,now,e){var delay=0;BOOMR.hrNow();now=now||BOOMR.now();if(enabled){interactions++;timeToFirstInteraction=timeToFirstInteraction||(e&&e.timeStamp?e.timeStamp+epoch:now);if(e&&e.timeStamp){delay=14e11<e.timeStamp?now-e.timeStamp:BOOMR.hrNow()-e.timeStamp;interactionsDelay+=delay;null===firstInputDelay&&(firstInputDelay=Math.ceil(delay));if(50<delay){t.increment("interdly");delayedInteractions++;delayedInteractionTime+=delay}}t.increment("inter");if(!isSpaNav&&impl.afterOnloadMonitoring){beaconEndTime=BOOMR.now();if(!beaconStartTime){beaconStartTime=beaconEndTime;beaconMaxTimeout=setTimeout(sendInteractionBeacon,3e4)}if(beaconMinTimeout){clearTimeout(beaconMinTimeout);beaconMinTimeout=!1}beaconMinTimeout=setTimeout(sendInteractionBeacon,INTERACTION_MIN_WAIT_FOR_BEACON)}}},analyze:function analyze(startTime){var fid;impl.addToBeacon("c.i.dc",externalMetrics.interactionDelayed());impl.addToBeacon("c.i.dt",externalMetrics.interactionDelayedTime());impl.addToBeacon("c.i.a",externalMetrics.interactionAvgDelay());if(!sentTimers){BOOMR.plugins.EventTiming&&BOOMR.plugins.EventTiming.is_enabled()&&(fid=BOOMR.plugins.EventTiming.metrics.firstInputDelay());fid||null===firstInputDelay||(fid=externalMetrics.firstInputDelay());if(fid){impl.addToBeacon("c.fid",Math.ceil(fid),!0);impl.addToBeacon("c.ttfi",BOOMR.plugins.EventTiming.metrics.timeToFirstInteraction()||externalMetrics.timeToFirstInteraction());sentTimers=!0}}},stop:function stop(){enabled=!1},onBeacon:function onBeacon(){beaconEndTime=beaconStartTime=interactionsDelay=interactions=delayedInteractions=delayedInteractionTime=0;isSpaNav=!1;clearBeaconTimers()}}},PointerDownMonitor=function(w,t,i){var now,originalEvent,enabled=!0;function onPointerUp(){if(enabled){i.interact("pd",now,originalEvent);originalEvent=now=null;BOOMR.utils.removeListener(window,"pointerup",onPointerUp)}}function onPointerDown(e){if(enabled&&e.cancelable){now=BOOMR.now();originalEvent=e;BOOMR.utils.addListener(window,"pointerup",onPointerUp,listenerOpts)}}function stop(){enabled=!1;BOOMR.utils.removeListener(window,"pointerdown",onPointerDown);BOOMR.utils.removeListener(window,"pointerup",onPointerUp);BOOMR.utils.removeListener(window,"pointercancel",stop)}BOOMR.utils.addListener(window,"pointerdown",onPointerDown,listenerOpts);BOOMR.utils.addListener(window,"pointercancel",stop,listenerOpts);return{stop:stop}},MouseDownMonitor=function(w,t,i){var enabled=!0;function onMouseDown(e){if(enabled&&e.cancelable){var now=BOOMR.now();i.interact("md",now,e)}}BOOMR.utils.addListener(window,"mousedown",onMouseDown,listenerOpts);return{stop:function stop(){enabled=!1;BOOMR.utils.removeListener(window,"mousedown",onMouseDown)}}},TouchStartMonitor=function(w,t,i){var enabled=!0;function onTouchStart(e){if(enabled&&e.cancelable){var now=BOOMR.now();i.interact("ts",now,e)}}BOOMR.utils.addListener(window,"touchstart",onTouchStart,listenerOpts);return{stop:function stop(){enabled=!1;BOOMR.utils.removeListener(window,"touchstart",onTouchStart)}}},VisibilityMonitor=function(w,t,i){t.register("vis",COMPRESS_MODE_SMALL_NUMBERS);var VIS_MAP={visible:0,hidden:1,prerender:2,unloaded:3},enabled=!0;BOOMR.subscribe("visibility_changed",function(e){var now=BOOMR.now();if(enabled){t.increment("vis");t.log(4,now,{s:VIS_MAP[BOOMR.visibilityState()]})}});return{stop:function stop(){enabled=!1}}},OrientationMonitor=function(w,t,i){t.register("orn",COMPRESS_MODE_SMALL_NUMBERS);var enabled=!0;function onOrientationChange(e){var now=BOOMR.now(),angle=window.orientation;if(enabled){t.increment("orn");var orientation=window.screen&&(screen.orientation||screen.msOrientation||screen.mozOrientation||{});orientation&&"number"==typeof orientation.angle&&(angle=screen.orientation.angle);"number"==typeof angle&&t.log(5,now,{a:angle})}}BOOMR.utils.addListener(w,"orientationchange",onOrientationChange,listenerOpts);return{stop:function stop(){enabled=!1;BOOMR.utils.removeListener(w,"orientationchange",onOrientationChange)}}},StatsMonitor=function(w,t){t.register("mem",COMPRESS_MODE_LARGE_NUMBERS,!0);t.register("bat",COMPRESS_MODE_PERCENT,!0);t.register("domsz",COMPRESS_MODE_LARGE_NUMBERS,!0);t.register("domln",COMPRESS_MODE_LARGE_NUMBERS,!0);t.register("mut",COMPRESS_MODE_SMALL_NUMBERS);var observer,d=w.document,enabled=!0,reportInterval=!1,battery=null,mutationCount=0,domLength=0,domAllNodes=d.getElementsByTagName("*");function onBatteryLevelChange(){enabled&&battery&&t.set("bat",battery.level)}reportInterval=setInterval(function reportStats(){var mem=p&&p.memory&&p.memory.usedJSHeapSize;mem&&t.set("mem",mem);domLength=domAllNodes.length;t.set("domsz",d.documentElement.innerHTML.length);t.set("domln",domLength);if(0<mutationCount){var deltaPct=Math.min(Math.round(mutationCount/domLength*100),100);t.set("mut",deltaPct);mutationCount=0}},1e3);w.navigator&&"function"==typeof w.navigator.getBattery&&w.navigator.getBattery().then(function(b){(battery=b).onlevelchange&&(battery.onlevelchange=onBatteryLevelChange)});BOOMR.utils.isMutationObserverSupported()&&(observer=BOOMR.utils.addObserver(d,{childList:!0,subtree:!0},null,function onMutationObserver(mutations){mutations.forEach(function(mutation){if("childList"!==mutation.type)return!0;for(var i=0;i<mutation.addedNodes.length;i++){var node=mutation.addedNodes[i];mutationCount++;mutationCount+=node.getElementsByTagName?node.getElementsByTagName("*").length:0}});return!0},null,this));return{stop:function stop(){enabled=!1;if(reportInterval){clearInterval(reportInterval);reportInterval=!1}if(observer&&observer.observer){observer.observer.disconnect();observer=null}battery&&battery.onlevelchange&&(battery.onlevelchange=null);domAllNodes=null}}},impl={monitorLongTasks:!0,monitorPageBusy:!0,monitorFrameRate:!0,monitorInteractions:!0,monitorStats:!0,monitorLayoutShifts:!0,afterOnload:!1,afterOnloadMaxLength:6e4,afterOnloadMinWait:5e3,waitAfterOnload:!1,ttiWaitForFrameworkReady:!1,ttiWaitForHeroImages:!1,sendLog:!0,sendTimeline:!0,logMaxEntries:100,initialized:!1,complete:!1,isSpa:!1,firedPageReady:!1,afterOnloadMonitoring:!1,frameworkReady:null,timeline:null,ttiMethod:null,longTaskMonitor:null,pageBusyMonitor:null,frameRateMonitor:null,interactionMonitor:null,scrollMonitor:null,clickMonitor:null,keyMonitor:null,mouseMonitor:null,visibilityMonitor:null,orientationMonitor:null,touchStartMonitor:null,mouseDownMonitor:null,pointerDownMonitor:null,statsMonitor:null,layoutShiftMonitor:null,addedVars:[],monitors:["timeline","longTaskMonitor","pageBusyMonitor","frameRateMonitor","scrollMonitor","keyMonitor","clickMonitor","mouseMonitor","interactionMonitor","visibilityMonitor","orientationMonitor","statsMonitor","layoutShiftMonitor","touchStartMonitor","mouseDownMonitor","pointerDownMonitor"],timeOfLastBeacon:0,hasAddedDataToBeacon:!1,onBeforeBeacon:function(){impl.runAllAnalyzers()},runAllAnalyzers:function(){var i,mon;if(!impl.hasAddedDataToBeacon){for(i=0;i<impl.monitors.length;i++)(mon=impl[impl.monitors[i]])&&"function"==typeof mon.analyze&&mon.analyze(impl.timeOfLastBeacon);impl.addToBeacon("c.lb",impl.timeOfLastBeacon?impl.timeOfLastBeacon.toString(36):0);impl.timeOfLastBeacon=BOOMR.now();impl.hasAddedDataToBeacon=!0}},onBeacon:function(){var i;if(impl.addedVars&&0<impl.addedVars.length){BOOMR.removeVar(impl.addedVars);impl.addedVars=[]}for(i=0;i<impl.monitors.length;i++){var monitor=impl[impl.monitors[i]];if(monitor){impl.afterOnload||"function"==typeof monitor.stop&&monitor.stop();"function"==typeof monitor.onBeacon&&monitor.onBeacon()}}impl.hasAddedDataToBeacon=!1},onXhrLoad:function(data){data&&BOOMR.utils.inArray(data.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&(impl.isSpa=!0);data&&"spa_hard"===data.initiator&&impl.onPageReady()},onPageReady:function(){impl.firedPageReady=!0;if(impl.afterOnload&&impl.monitorInteractions){impl.afterOnloadMonitoring=!0;impl.isSpa||"number"!=typeof impl.afterOnloadMaxLength||setTimeout(function(){impl.afterOnloadMonitoring=!1},impl.afterOnloadMaxLength)}if(impl.waitAfterOnload){var start=BOOMR.now();setTimeout(function checkTti(){var readyWait=BOOMR.now()-start;if(readyWait>impl.waitAfterOnload){BOOMR.addVar("c.tti.readywait",readyWait);impl.complete=!0;BOOMR.sendBeacon()}else{impl.timeline.analyze();if(externalMetrics.timeToInteractive()){BOOMR.addVar("c.tti.readywait",readyWait);impl.complete=!0;BOOMR.sendBeacon()}else setTimeout(checkTti,500)}},500)}else impl.complete=!0},addToBeacon:function(name,val,force){if(0!==val&&void 0!==val||force){BOOMR.addVar(name,val);impl.addedVars.push(name)}else BOOMR.removeVar(name)}};BOOMR.plugins.Continuity={init:function(config){BOOMR.utils.pluginConfig(impl,config,"Continuity",["monitorLongTasks","monitorPageBusy","monitorFrameRate","monitorInteractions","monitorStats","afterOnload","afterOnloadMaxLength","afterOnloadMinWait","waitAfterOnload","ttiWaitForFrameworkReady","ttiWaitForHeroImages","sendLog","logMaxEntries","sendTimeline","monitorLayoutShifts"]);if(impl.initialized)return this;impl.initialized=!0;impl.timeline=new Timeline(BOOMR.now());if(BOOMR.window){if(impl.monitorLongTasks&&BOOMR.window.PerformanceObserver&&BOOMR.window.PerformanceLongTaskTiming){impl.longTaskMonitor=new LongTaskMonitor(BOOMR.window,impl.timeline);impl.ttiMethod="lt"}if(impl.monitorFrameRate&&"function"==typeof BOOMR.window.requestAnimationFrame){impl.frameRateMonitor=new FrameRateMonitor(BOOMR.window,impl.timeline);impl.ttiMethod||(impl.ttiMethod="raf")}if(impl.monitorPageBusy&&(!BOOMR.window.PerformanceObserver||!BOOMR.window.PerformanceLongTaskTiming||!impl.monitorLongTasks)){impl.pageBusyMonitor=new PageBusyMonitor(BOOMR.window,impl.timeline);impl.ttiMethod||(impl.ttiMethod="b")}if(impl.monitorInteractions){impl.interactionMonitor=new InteractionMonitor(BOOMR.window,impl.timeline,impl.afterOnloadMinWait);impl.scrollMonitor=new ScrollMonitor(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.keyMonitor=new KeyMonitor(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.clickMonitor=new ClickMonitor(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.mouseMonitor=new MouseMonitor(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.visibilityMonitor=new VisibilityMonitor(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.orientationMonitor=new OrientationMonitor(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.touchStartMonitor=new TouchStartMonitor(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.mouseDownMonitor=new MouseDownMonitor(BOOMR.window,impl.timeline,impl.interactionMonitor);impl.pointerDownMonitor=new PointerDownMonitor(BOOMR.window,impl.timeline,impl.interactionMonitor)}impl.monitorStats&&(impl.statsMonitor=new StatsMonitor(BOOMR.window,impl.timeline,impl.interactionMonitor));impl.monitorLayoutShifts&&BOOMR.window.PerformanceObserver&&(impl.layoutShiftMonitor=new LayoutShiftMonitor(BOOMR.window))}BOOMR.addVar("c.e",epoch.toString(36));BOOMR.addVar("c.tti.m",impl.ttiMethod);BOOMR.subscribe("before_beacon",impl.onBeforeBeacon,null,impl);BOOMR.subscribe("beacon",impl.onBeacon,null,impl);BOOMR.subscribe("page_ready",impl.onPageReady,null,impl);BOOMR.subscribe("xhr_load",impl.onXhrLoad,null,impl);return this},is_complete:function(vars){return impl.complete||vars&&"error"===vars["http.initiator"]},frameworkReady:function(){impl.frameworkReady=BOOMR.now()},metrics:externalMetrics}}}();!function(){if(!BOOMR.plugins.NavigationTiming){var impl={complete:!1,fullySent:!1,sendBeacon:function(){this.complete=!0;BOOMR.sendBeacon()},xhr_done:function(edata){var p;if(edata&&"spa_hard"===edata.initiator)impl.done(edata);else if(edata&&"spa"===edata.initiator)impl.sendBeacon();else{BOOMR.window;var res,k,data={};if(edata){edata.data&&(edata=edata.data);if((p=BOOMR.getPerformance())&&edata.restiming){data={nt_red_st:edata.restiming.redirectStart,nt_red_end:edata.restiming.redirectEnd,nt_fet_st:edata.restiming.fetchStart,nt_dns_st:edata.restiming.domainLookupStart,nt_dns_end:edata.restiming.domainLookupEnd,nt_con_st:edata.restiming.connectStart,nt_con_end:edata.restiming.connectEnd,nt_req_st:edata.restiming.requestStart,nt_res_st:edata.restiming.responseStart,nt_res_end:edata.restiming.responseEnd};edata.restiming.secureConnectionStart&&(data.nt_ssl_st=edata.restiming.secureConnectionStart);for(k in data)if(data.hasOwnProperty(k)&&data[k]){data[k]+=p.timing.navigationStart;data[k]=Math.floor(data[k])}}if(edata.timing){res=edata.timing;data.nt_req_st||(data.nt_req_st=res.requestStart);data.nt_res_st||(data.nt_res_st=res.responseStart);data.nt_res_end||(data.nt_res_end=res.responseEnd);data.nt_domint=res.domInteractive;data.nt_domcomp=res.domComplete;data.nt_load_st=res.loadEventEnd;data.nt_load_end=res.loadEventEnd}for(k in data)data.hasOwnProperty(k)&&!data[k]&&delete data[k];BOOMR.addVar(data);try{impl.addedVars.push.apply(impl.addedVars,Object.keys(data))}catch(ignore){}impl.sendBeacon()}}},done:function(){var p,pn,chromeTimes,pt,paintTiming,k,w=BOOMR.window,data={},offset=0,paintTimingSupported=!1;if(this.complete)return this;impl.addedVars=[];if(p=BOOMR.getPerformance()){if("function"==typeof p.getEntriesByType)if((pt=p.getEntriesByType("navigation"))&&pt.length){BOOMR.info("This user agent supports NavigationTiming2","nt");pt=pt[0];offset=p.timing?p.timing.navigationStart:0}else pt=undefined;if(!pt&&p.timing){BOOMR.info("This user agent supports NavigationTiming","nt");pt=p.timing}if(pt){!(data={nt_nav_st:p.timing?p.timing.navigationStart:0,nt_red_st:calcNavTimingTimestamp(offset,pt.redirectStart),nt_red_end:calcNavTimingTimestamp(offset,pt.redirectEnd),nt_fet_st:calcNavTimingTimestamp(offset,pt.fetchStart),nt_dns_st:calcNavTimingTimestamp(offset,pt.domainLookupStart),nt_dns_end:calcNavTimingTimestamp(offset,pt.domainLookupEnd),nt_con_st:calcNavTimingTimestamp(offset,pt.connectStart),nt_con_end:calcNavTimingTimestamp(offset,pt.connectEnd),nt_req_st:calcNavTimingTimestamp(offset,pt.requestStart),nt_res_st:calcNavTimingTimestamp(offset,pt.responseStart),nt_res_end:calcNavTimingTimestamp(offset,pt.responseEnd),nt_domloading:calcNavTimingTimestamp(offset,pt.domLoading),nt_domint:calcNavTimingTimestamp(offset,pt.domInteractive),nt_domcontloaded_st:calcNavTimingTimestamp(offset,pt.domContentLoadedEventStart),nt_domcontloaded_end:calcNavTimingTimestamp(offset,pt.domContentLoadedEventEnd),nt_domcomp:calcNavTimingTimestamp(offset,pt.domComplete),nt_load_st:calcNavTimingTimestamp(offset,pt.loadEventStart),nt_load_end:calcNavTimingTimestamp(offset,pt.loadEventEnd),nt_unload_st:calcNavTimingTimestamp(offset,pt.unloadEventStart),nt_unload_end:calcNavTimingTimestamp(offset,pt.unloadEventEnd)}).nt_domloading&&p&&p.timing&&p.timing.domLoading&&(data.nt_domloading=p.timing.domLoading);pt.secureConnectionStart&&(data.nt_ssl_st=calcNavTimingTimestamp(offset,pt.secureConnectionStart));p.timing&&p.timing.msFirstPaint&&(data.nt_first_paint=p.timing.msFirstPaint);pt.workerStart&&(data.nt_worker_start=calcNavTimingTimestamp(offset,pt.workerStart));if(pt.decodedBodySize||pt.transferSize){data.nt_enc_size=pt.encodedBodySize;data.nt_dec_size=pt.decodedBodySize;data.nt_trn_size=pt.transferSize}pt.nextHopProtocol&&(data.nt_protocol=pt.nextHopProtocol)}if(!data.nt_first_paint&&BOOMR.plugins.PaintTiming){paintTimingSupported=BOOMR.plugins.PaintTiming.is_supported();(paintTiming=BOOMR.plugins.PaintTiming.getTimingFor("first-paint"))&&(data.nt_first_paint=calcNavTimingTimestamp(offset,paintTiming))}if((!data.nt_protocol||!data.nt_first_paint)&&(!pt||""!==pt.nextHopProtocol)&&!paintTimingSupported&&w.chrome&&"function"==typeof w.chrome.loadTimes&&(chromeTimes=w.chrome.loadTimes())){data.nt_spdy=chromeTimes.wasFetchedViaSpdy?1:0;data.nt_cinf=chromeTimes.connectionInfo;"number"==typeof chromeTimes.firstPaintTime&&0!==chromeTimes.firstPaintTime&&(data.nt_first_paint=Math.round(1e3*chromeTimes.firstPaintTime))}if(p.navigation){pn=p.navigation;data.nt_red_cnt=pn.redirectCount;data.nt_nav_type=pn.type}for(k in data)data.hasOwnProperty(k)&&data[k]===undefined&&delete data[k];BOOMR.addVar(data);if(pt&&(pt.requestStart&&pt.navigationStart&&pt.requestStart<pt.navigationStart||pt.responseStart&&pt.navigationStart&&pt.responseStart<pt.navigationStart||pt.responseStart&&pt.fetchStart&&pt.responseStart<pt.fetchStart||pt.navigationStart&&pt.fetchStart<pt.navigationStart||pt.responseEnd&&pt.responseEnd>BOOMR.now()+864e5)){BOOMR.addVar("nt_bad",1);impl.addedVars.push("nt_bad")}try{impl.addedVars.push.apply(impl.addedVars,Object.keys(data))}catch(ignore){}0<data.nt_load_end&&(this.fullySent=!0)}impl.sendBeacon()},clear:function(){if(impl.addedVars&&0<impl.addedVars.length){BOOMR.removeVar(impl.addedVars);impl.addedVars=[]}this.complete=this.fullySent},prerenderToVisible:function(){this.complete=!1;this.done()}};BOOMR.plugins.NavigationTiming={init:function(){if(!impl.initialized){BOOMR.subscribe("page_ready",impl.done,null,impl);BOOMR.subscribe("prerender_to_visible",impl.prerenderToVisible,null,impl);BOOMR.subscribe("xhr_load",impl.xhr_done,null,impl);BOOMR.subscribe("before_unload",impl.done,null,impl);BOOMR.subscribe("beacon",impl.clear,null,impl);impl.initialized=!0}return this},is_complete:function(){return!0}}}function calcNavTimingTimestamp(offset,val){return"number"!=typeof val||0===val?undefined:Math.floor((offset||0)+val)}}();!function(){if(!BOOMR.plugins.PaintTiming){var PAINT_TIMING_MAP={"first-paint":"fp","first-contentful-paint":"fcp","largest-contentful-paint":"lcp"},impl={initialized:!1,complete:!1,supported:null,timingCache:{},observer:null,externalMetrics:{},done:function(edata,ename){var p,paintTimings,i;if(this.complete)return this;if("load"!==ename&&(!edata||"spa_hard"!==edata.initiator)){this.complete=!0;return this}if((p=BOOMR.getPerformance())&&"function"==typeof p.getEntriesByType){if((paintTimings=p.getEntriesByType("paint"))&&paintTimings.length){BOOMR.info("This user agent supports PaintTiming","pt");for(i=0;i<paintTimings.length;i++){impl.timingCache[paintTimings[i].name]=paintTimings[i].startTime;PAINT_TIMING_MAP[paintTimings[i].name]&&BOOMR.addVar("pt."+PAINT_TIMING_MAP[paintTimings[i].name],Math.floor(paintTimings[i].startTime),!0)}this.complete=!0;BOOMR.sendBeacon()}}else this.complete=!0},onObserver:function(list){var entries=list.getEntries();if(0!==entries.length){var lcp=entries[entries.length-1],lcpTime=lcp.renderTime||lcp.loadTime;impl.timingCache[lcp.entryType]=lcpTime;BOOMR.addVar("pt.lcp",Math.floor(lcpTime),!0);impl.externalMetrics.lcp=function(){return Math.floor(lcpTime)}}}};BOOMR.plugins.PaintTiming={init:function(){if(!this.is_supported()){impl.complete=!0;impl.initialized=!0}if(!impl.complete&&"hidden"===BOOMR.visibilityState()){BOOMR.addVar("pt.hid",1,!0);impl.complete=!0}if(!impl.initialized){BOOMR.subscribe("page_ready",impl.done,"load",impl);BOOMR.subscribe("xhr_load",impl.done,"xhr",impl);BOOMR.subscribe("before_unload",impl.done,null,impl);if("function"==typeof BOOMR.window.PerformanceObserver&&"function"==typeof window.LargestContentfulPaint){impl.observer=new BOOMR.window.PerformanceObserver(impl.onObserver);impl.observer.observe({type:"largest-contentful-paint",buffered:!0})}impl.initialized=!0}return this},is_complete:function(){return!0},is_enabled:function(){return impl.initialized&&this.is_supported()},is_supported:function(){if(null!==impl.supported)return impl.supported;var p=BOOMR.getPerformance();impl.supported=p&&"undefined"!=typeof window.PerformancePaintTiming&&"function"==typeof p.getEntriesByType;return impl.supported},getTimingFor:function(timingName){var paintTimings,i,p;if(impl.timingCache[timingName])return impl.timingCache[timingName];if(this.is_supported()){if((p=BOOMR.getPerformance())&&"function"==typeof p.getEntriesByType&&(paintTimings=p.getEntriesByType("paint"))&&paintTimings.length)for(i=0;i<paintTimings.length;i++)if(paintTimings[i].name===timingName){impl.timingCache[timingName]=paintTimings[i].startTime;return impl.timingCache[timingName]}}},metrics:impl.externalMetrics}}}();!function(){if(!BOOMR.plugins.ResourceTiming){var INITIATOR_TYPES={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7,beacon:8,fetch:9,iframe:"a",subdocument:"a"},REL_TYPES={prefetch:1,preload:2,prerender:3,stylesheet:4},RT_FIELDS_TIMESTAMPS=["startTime","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","secureConnectionStart","connectEnd","requestStart","responseStart","responseEnd","workerStart"],XSS_BREAK_DELIM="\n",SPECIAL_DATA_PREFIX="*",SPECIAL_DATA_DIMENSION_TYPE="0",SPECIAL_DATA_SIZE_TYPE="1",SPECIAL_DATA_SCRIPT_ATTR_TYPE="2",ASYNC_ATTR=1,DEFER_ATTR=2,LOCAT_ATTR=4,SPECIAL_DATA_SERVERTIMING_TYPE="3",SPECIAL_DATA_LINK_ATTR_TYPE="4",SPECIAL_DATA_NAMESPACED_TYPE="5",impl={complete:!1,sentNavBeacon:!1,initialized:!1,supported:null,xhr_load:function(){if(!this.complete){this.complete=!0;BOOMR.sendBeacon()}},xssBreakWords:[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi],urlLimit:500,clearOnBeacon:!1,trimUrls:[],serverTiming:!0,monitorClearResourceTimings:!1,splitAtPath:!1,inspectSubFrames:!0,collectVisibleDimensions:!0,trackedResourceTypes:"*",done:function(){if(!this.sentNavBeacon){addResourceTimingToBeacon();this.complete=!0;this.sentNavBeacon=!0;BOOMR.sendBeacon()}},onBeacon:function(vars){var p=BOOMR.getPerformance();vars.hasOwnProperty("restiming")&&BOOMR.removeVar("restiming");vars.hasOwnProperty("servertiming")&&BOOMR.removeVar("servertiming");if(impl.clearOnBeacon&&p){var clearResourceTimings=p.clearResourceTimings||p.webkitClearResourceTimings;clearResourceTimings&&"function"==typeof clearResourceTimings&&clearResourceTimings.call(p)}},prerenderToVisible:function(){this.sentNavBeacon=!1;this.done()}};BOOMR.plugins.ResourceTiming={init:function(config){BOOMR.utils.pluginConfig(impl,config,"ResourceTiming",["xssBreakWords","clearOnBeacon","urlLimit","trimUrls","trackedResourceTypes","serverTiming","monitorClearResourceTimings","splitAtPath","inspectSubFrames","collectVisibleDimensions"]);if(impl.initialized)return this;if(this.is_supported()){BOOMR.subscribe("page_ready",impl.done,null,impl);BOOMR.subscribe("prerender_to_visible",impl.prerenderToVisible,null,impl);BOOMR.subscribe("xhr_load",impl.xhr_load,null,impl);BOOMR.subscribe("beacon",impl.onBeacon,null,impl);BOOMR.subscribe("before_unload",impl.done,null,impl);if(impl.monitorClearResourceTimings){var self=this;BOOMR.window.performance.clearResourceTimings=(_=BOOMR.window.performance.clearResourceTimings,function(){self.addResources(BOOMR.window.performance.getEntriesByType("resource"));_.apply(BOOMR.window.performance,arguments)})}}else impl.complete=!0;var _;impl.initialized=!0;return this},is_complete:function(){return!0},is_enabled:function(){return impl.initialized&&this.is_supported()},is_supported:function(){if(null!==impl.supported)return impl.supported;var p=BOOMR.getPerformance();impl.supported=p&&"function"==typeof p.getEntriesByType&&"undefined"!=typeof window.PerformanceResourceTiming;return impl.supported},addResources:function(resources,epoch){if(this.is_supported()&&BOOMR.utils.isArray(resources)){impl.collectedEntries=impl.collectedEntries||[];if("number"==typeof epoch){var offset=epoch-(BOOMR.window.performance.timeOrigin||BOOMR.window.performance.timing.navigationStart);resources=BOOMR.utils.arrayFilter(resources,function(entry){for(var field=0;field<RT_FIELDS_TIMESTAMPS.length;field++){var key=RT_FIELDS_TIMESTAMPS[field];entry.hasOwnProperty(key)&&(entry[key]+=offset)}return!0})}Array.prototype.push.apply(impl.collectedEntries,resources)}},getCompressedResourceTiming:getCompressedResourceTiming,getFilteredResourceTiming:getFilteredResourceTiming,calculateResourceTimingUnion:function calculateResourceTimingUnion(resources){if(!resources||!resources.length)return 0;resources.sort(function(a,b){return a.fetchStart!==b.fetchStart?a.fetchStart-b.fetchStart:(a.responseStart||a.responseEnd)-(b.responseStart||b.responseEnd)});for(var times=reduceFetchStarts(resources),times2=[],furthestEnd=0,i=0;i<times.length;i++){var res=times[i];res.fetchStart<furthestEnd&&(res.fetchStart=furthestEnd);if(res.fetchStart<res.responseEnd){times2.push(res);furthestEnd=res.responseEnd}}var times3=reduceFetchStarts(times2),totalTime=0;for(i=0;i<times3.length;i++)totalTime+=times3[i].responseEnd-times3[i].fetchStart;return totalTime},addResourceTimingToBeacon:addResourceTimingToBeacon,addToBeacon:addToBeacon}}function convertToTrie(entries,splitAtPath){var url,urlFixed,i,value,letters,letter,cur,node,trie={};for(url in entries){urlFixed=url;for(i=0;i<impl.xssBreakWords.length;i++)urlFixed=urlFixed.replace(impl.xssBreakWords[i],"$1"+XSS_BREAK_DELIM+"$2");if(entries.hasOwnProperty(url)){value=entries[url];letters=splitAtPath?[(letters=urlFixed.split("/"))[0]+"//",letters[2]+(3<letters.length?"/":"")].concat(letters.slice(3).reduce(function splitUrlPaths(addSlashUntil){return function(accumulator,currentValue,currentIndex){var parts,j;if(-1!==currentValue.indexOf(XSS_BREAK_DELIM)){parts=currentValue.split(XSS_BREAK_DELIM);for(j=0;j<parts.length-1;j++){accumulator.push(parts[j]);accumulator.push(XSS_BREAK_DELIM)}currentValue=parts.slice(-1)}"number"==typeof addSlashUntil&&currentIndex<addSlashUntil&&(currentValue+="/");return accumulator.concat(currentValue)}}(letters.length-4),[])):urlFixed.split("");cur=trie;for(i=0;i<letters.length;i++)void 0===(node=cur[letter=letters[i]])?cur=cur[letter]=i===letters.length-1?value:{}:"string"==typeof node?cur=cur[letter]={"|":node}:i===letters.length-1?cur[letter]["|"]=value:cur=cur[letter]}}return trie}function trimTiming(time,startTime){"number"!=typeof time&&(time=0);"number"!=typeof startTime&&(startTime=0);var timeMs=Math.round(time||0),startTimeMs=Math.round(startTime||0);return 0===timeMs?0:timeMs-startTimeMs}function isFrameAccessible(frame){try{frame.location&&frame.location.href;frame.document;if("performance"in frame&&frame.performance)return 1}catch(e){}}function getNavStartTime(frame){var navStart=0;isFrameAccessible(frame)&&frame.performance.timing&&frame.performance.timing.navigationStart&&(navStart=frame.performance.timing.navigationStart);return navStart}function findPerformanceEntriesForFrame(frame,isTopWindow,offset,depth,frameDims){var i,navEntries,navStart,frameNavStart,frameOffset,subFrames,navEntry,t,rtEntry,visibleEntries,a,entries=[],scripts={},links={};void 0===isTopWindow&&(isTopWindow=!0);void 0===offset&&(offset=0);void 0===depth&&(depth=0);if(10<depth)return entries;try{if(!isFrameAccessible(frame))return entries;navStart=getNavStartTime(frame);visibleEntries=impl.collectVisibleDimensions?function getVisibleEntries(win,winDims){var x,y,entries={},doc=win.document,a=doc.createElement("A");x=(winDims=winDims||[0,0,0,0])[3]+(win.pageXOffset!==undefined)?win.pageXOffset:(doc.documentElement||doc.body.parentNode||doc.body).scrollLeft;y=winDims[2]+(win.pageYOffset!==undefined)?win.pageYOffset:(doc.documentElement||doc.body.parentNode||doc.body).scrollTop;["img","iframe","image"].forEach(function(elname){for(var el,rect,src,realImg,nH,nW,elements=doc.getElementsByTagName(elname),i=0;i<elements.length;i++)if(el=elements[i]){src=el.currentSrc||el.src||"function"==typeof el.getAttribute&&el.getAttribute("src")||el.getAttribute("xlink:href");a.href=src;if((src=a.href)&&!entries[src]&&((rect=el.getBoundingClientRect()).height||el.offsetHeight)&&(rect.width||el.offsetWidth)){entries[src]=[rect.height||el.offsetHeight,rect.width||el.offsetWidth,Math.round(rect.top+y),Math.round(rect.left+x)];if(!el.naturalHeight&&!el.naturalWidth)continue;el.currentSrc&&(el.srcset||el.parentNode&&el.parentNode.nodeName&&"PICTURE"===el.parentNode.nodeName.toUpperCase())?(realImg=el.isConnected?el.ownerDocument.createElement("IMG"):new BOOMR.window.Image).src=src:realImg=el;nH=realImg.naturalHeight||el.naturalHeight;nW=realImg.naturalWidth||el.naturalWidth;!nH&&!nW||entries[src][0]===nH&&entries[src][1]===nW||entries[src].push(nH,nW)}}});return entries}(frame,frameDims):{};collectResources(a=frame.document.createElement("a"),scripts,"script");collectResources(a,links,"link");if((subFrames=impl.inspectSubFrames&&frame.document.getElementsByTagName("iframe"))&&subFrames.length)for(i=0;i<subFrames.length;i++){frameNavStart=getNavStartTime(subFrames[i].contentWindow);frameOffset=0;navStart<frameNavStart&&(frameOffset=offset+(frameNavStart-navStart));a.href=subFrames[i].src;entries=entries.concat(findPerformanceEntriesForFrame(subFrames[i].contentWindow,!1,frameOffset,depth+1,visibleEntries[a.href]))}if("function"!=typeof frame.performance.getEntriesByType)return entries;var readServerTiming=function(entry){return impl.serverTiming&&entry.serverTiming||[]};if(isTopWindow)if((navEntries=frame.performance.getEntriesByType("navigation"))&&1===navEntries.length){navEntry=navEntries[0];entries.push({name:frame.location.href,startTime:0,initiatorType:"html",redirectStart:navEntry.redirectStart,redirectEnd:navEntry.redirectEnd,fetchStart:navEntry.fetchStart,domainLookupStart:navEntry.domainLookupStart,domainLookupEnd:navEntry.domainLookupEnd,connectStart:navEntry.connectStart,secureConnectionStart:navEntry.secureConnectionStart,connectEnd:navEntry.connectEnd,requestStart:navEntry.requestStart,responseStart:navEntry.responseStart,responseEnd:navEntry.responseEnd,workerStart:navEntry.workerStart,encodedBodySize:navEntry.encodedBodySize,decodedBodySize:navEntry.decodedBodySize,transferSize:navEntry.transferSize,serverTiming:readServerTiming(navEntry)})}else frame.performance.timing&&0!==(t=frame.performance.timing).navigationStart&&t.responseEnd<=t.navigationStart+36e5&&entries.push({name:frame.location.href,startTime:0,initiatorType:"html",redirectStart:t.redirectStart?t.redirectStart-t.navigationStart:0,redirectEnd:t.redirectEnd?t.redirectEnd-t.navigationStart:0,fetchStart:t.fetchStart?t.fetchStart-t.navigationStart:0,domainLookupStart:t.domainLookupStart?t.domainLookupStart-t.navigationStart:0,domainLookupEnd:t.domainLookupEnd?t.domainLookupEnd-t.navigationStart:0,connectStart:t.connectStart?t.connectStart-t.navigationStart:0,secureConnectionStart:t.secureConnectionStart?t.secureConnectionStart-t.navigationStart:0,connectEnd:t.connectEnd?t.connectEnd-t.navigationStart:0,requestStart:t.requestStart?t.requestStart-t.navigationStart:0,responseStart:t.responseStart?t.responseStart-t.navigationStart:0,responseEnd:t.responseEnd?t.responseEnd-t.navigationStart:0});var frameEntries=frame.performance.getEntriesByType("resource"),frameFixedEntries=[];if(frame===BOOMR.window&&impl.collectedEntries){Array.prototype.push.apply(frameEntries,impl.collectedEntries);impl.collectedEntries=[]}for(i=0;frameEntries&&i<frameEntries.length;i++){t=frameEntries[i];rtEntry={name:t.name,initiatorType:t.initiatorType,encodedBodySize:t.encodedBodySize,decodedBodySize:t.decodedBodySize,transferSize:t.transferSize,serverTiming:readServerTiming(t),visibleDimensions:visibleEntries[t.name],latestTime:function getResourceLatestTime(res){if(res.responseEnd)return res.responseEnd;if(res.responseStart&&res.startTime)return res.responseStart+.2*(res.responseStart-res.startTime);return Infinity}(t)};for(var field=0;field<RT_FIELDS_TIMESTAMPS.length;field++){var key=RT_FIELDS_TIMESTAMPS[field];rtEntry[key]="startTime"===key||t[key]?t[key]+offset:0}t.hasOwnProperty("_data")&&(rtEntry._data=t._data);if(("script"===t.initiatorType||"link"===t.initiatorType)&&scripts[t.name]){var s=scripts[t.name];rtEntry.scriptAttrs=(s.async?ASYNC_ATTR:0)|(s.defer?DEFER_ATTR:0);for(;1===s.nodeType&&"BODY"!==s.nodeName;)s=s.parentNode;rtEntry.scriptAttrs|="BODY"===s.nodeName?LOCAT_ATTR:0}"link"===t.initiatorType&&links[t.name]&&BOOMR.utils.arrayFind(links[t.name].rel.split(/[\u0009\u000A\u000C\u000D\u0020]+/),function(rel){rel=rel.toLowerCase();if(REL_TYPES[rel]){rtEntry.linkAttrs=REL_TYPES[rel];return!0}});frameFixedEntries.push(rtEntry)}entries=entries.concat(frameFixedEntries)}catch(e){return entries}return entries}function collectResources(a,obj,tagName){Array.prototype.forEach.call(a.ownerDocument.getElementsByTagName(tagName),function(r){a.href=r.currentSrc||r.src||"function"==typeof r.getAttribute&&r.getAttribute("xlink:href")||r.href;a.href.match(/^https?:\/\//)&&(obj[a.href]=r)})}function toBase36(n){return"number"==typeof n&&0!==n?n.toString(36):"string"==typeof n?n:""}function getFilteredResourceTiming(from,to,initiatorTypes){var e,entries=findPerformanceEntriesForFrame(BOOMR.window,!0,0,0),navStart=getNavStartTime(BOOMR.window),countCollector={};if(!entries||!entries.length)return{entries:[]};entries.sort(function(a,b){return a.startTime-b.startTime});for(var filteredEntries=[],i=0;i<entries.length;i++)if((0===(e=entries[i]).name.indexOf("http:")||0===e.name.indexOf("https:"))&&!(-1<e.name.indexOf(BOOMR.url)||-1<e.name.indexOf(BOOMR.config_url)||"function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&-1<e.name.indexOf(BOOMR.getBeaconURL())||from&&navStart+e.startTime<from)){if(to&&navStart+e.startTime>to)break;if(void 0===initiatorTypes||"*"===initiatorTypes||!initiatorTypes.length||e.initiatorType&&BOOMR.utils.inArray(e.initiatorType,initiatorTypes)){!function accumulateServerTimingEntries(countCollector,serverTimingEntries){(serverTimingEntries||[]).forEach(function(entry){var name=entry.name||entry.metric;"undefined"==typeof countCollector[name]&&(countCollector[name]={count:0,counts:{}});var metric=countCollector[name];metric.counts[entry.description]=metric.counts[entry.description]||0;metric.counts[entry.description]++;metric.count++})}(countCollector,e.serverTiming);filteredEntries.push(e)}}var lookup=function compressServerTiming(countCollector){return Object.keys(countCollector).sort(function(metric1,metric2){return countCollector[metric2].count-countCollector[metric1].count}).reduce(function(array,name){var sorted=Object.keys(countCollector[name].counts).sort(function(description1,description2){return countCollector[name].counts[description2]-countCollector[name].counts[description1]});array.push(1===sorted.length&&""===sorted[0]?name:[name].concat(sorted));return array},[])}(countCollector);return{entries:filteredEntries,serverTiming:{lookup:lookup,indexed:function indexServerTiming(lookup){return lookup.reduce(function(serverTimingIndex,compressedEntry,entryIndex){var name,descriptions;if(Array.isArray(compressedEntry)){name=compressedEntry[0];descriptions=compressedEntry.slice(1).reduce(function(descriptionCollector,description,descriptionIndex){descriptionCollector[description]=descriptionIndex;return descriptionCollector},{})}else{name=compressedEntry;descriptions={"":0}}serverTimingIndex[name]={index:entryIndex,descriptions:descriptions};return serverTimingIndex},{})}(lookup)}}}function getCompressedResourceTiming(from,to){var i,e,initiatorType,url,data,results={},timePoints={},ret=getFilteredResourceTiming(from,to,impl.trackedResourceTypes),entries=ret.entries,serverTiming=ret.serverTiming;if(!entries||!entries.length)return{restiming:{},servertiming:[]};for(i=0;i<entries.length;i++){e=entries[i];void 0===(initiatorType=INITIATOR_TYPES[e.initiatorType])&&(initiatorType=0);data=initiatorType+[trimTiming(e.startTime,0),trimTiming(e.responseEnd,e.startTime),trimTiming(e.responseStart,e.startTime),trimTiming(e.requestStart,e.startTime),trimTiming(e.connectEnd,e.startTime),trimTiming(e.secureConnectionStart,e.startTime),trimTiming(e.connectStart,e.startTime),trimTiming(e.domainLookupEnd,e.startTime),trimTiming(e.domainLookupStart,e.startTime),trimTiming(e.redirectEnd,e.startTime),trimTiming(e.redirectStart,e.startTime)].map(toBase36).join(",").replace(/,+$/,"");var compSize=function compressSize(resource){var sTrans,sEnc,sDec;if(resource.encodedBodySize||resource.decodedBodySize||resource.transferSize){sTrans=resource.transferSize;return[sEnc=resource.encodedBodySize,sTrans?sTrans-sEnc:"_",(sDec=resource.decodedBodySize)?sDec-sEnc:0].map(toBase36).join(",").replace(/,+$/,"")}return""}(e);""!==compSize&&(data+=SPECIAL_DATA_PREFIX+SPECIAL_DATA_SIZE_TYPE+compSize);e.hasOwnProperty("scriptAttrs")&&(data+=SPECIAL_DATA_PREFIX+SPECIAL_DATA_SCRIPT_ATTR_TYPE+e.scriptAttrs);e.serverTiming&&e.serverTiming.length&&(data+=SPECIAL_DATA_PREFIX+SPECIAL_DATA_SERVERTIMING_TYPE+e.serverTiming.reduce(function(stData,entry,entryIndex){var duration=String("undefined"!=typeof entry.duration?entry.duration:entry.value);"0."===duration.substring(0,2)&&(duration=duration.substring(1));var name=entry.name||entry.metric;return stData+=(0<entryIndex?",":"")+duration+function identifyServerTimingEntry(entryIndex,descriptionIndex){var s="";entryIndex&&(s+=entryIndex);descriptionIndex&&(s+="."+descriptionIndex);s.length&&(s=":"+s);return s}(serverTiming.indexed[name].index,serverTiming.indexed[name].descriptions[entry.description])},""));e.hasOwnProperty("linkAttrs")&&(data+=SPECIAL_DATA_PREFIX+SPECIAL_DATA_LINK_ATTR_TYPE+e.linkAttrs);url=function trimUrl(url,urlsToTrim){var i,urlIdx,trim;if(url&&urlsToTrim)for(i=0;i<urlsToTrim.length;i++)if("string"==typeof(trim=urlsToTrim[i])){if(-1!==(urlIdx=url.indexOf(trim))){url=url.substr(0,urlIdx+trim.length)+"...";break}}else trim instanceof RegExp&&trim.test(url)&&(url=url.replace(trim,"$1")+"...");return BOOMR.utils.cleanupURL(url,impl.urlLimit)}(e.name,impl.trimUrls);if(e.hasOwnProperty("_data")){var namespacedData="";for(var key in e._data)e._data.hasOwnProperty(key)&&(namespacedData+=SPECIAL_DATA_PREFIX+SPECIAL_DATA_NAMESPACED_TYPE+key+":"+e._data[key]);"undefined"==typeof results[url]?results[url]=data+namespacedData:results[url]+=namespacedData}else results[url]!==undefined?results[url]+="|"+data:e.visibleDimensions?results[url]=SPECIAL_DATA_PREFIX+SPECIAL_DATA_DIMENSION_TYPE+e.visibleDimensions.map(Math.round).map(toBase36).join(",").replace(/,+$/,"")+"|"+data:results[url]=data;if(e.visibleDimensions){timePoints[e.latestTime]||(timePoints[e.latestTime]=[]);timePoints[e.latestTime].push(e.visibleDimensions)}}return{restiming:function optimizeTrie(cur,top){var node,ret,topNode,num=0,keys=[];for(node in cur)cur.hasOwnProperty(node)&&keys.push(node);for(var i=0;i<keys.length;i++){if("object"==typeof cur[node=keys[i]]&&(ret=optimizeTrie(cur[node],!1))){delete cur[node];if(node===XSS_BREAK_DELIM){node=ret.name;num++}else node+=ret.name;cur[node]=ret.value}num++}if(1!==num)return!!top&&cur;if(top){(topNode={})[node]=cur[node];return topNode}return{name:node,value:cur[node]}}(convertToTrie(results,impl.splitAtPath),!0),servertiming:serverTiming.lookup}}function reduceFetchStarts(resources){var times=[];if(!resources||!resources.length)return times;for(var i=0;i<resources.length;i++){var res=resources[i];i!==resources.length-1&&res.fetchStart===resources[i+1].fetchStart||times.push({fetchStart:res.fetchStart,responseEnd:res.responseStart||res.responseEnd})}return times}function addResourceTimingToBeacon(from,to){var r;if("undefined"!=typeof JSON){BOOMR.removeVar("restiming");BOOMR.removeVar("servertiming");if(r=getCompressedResourceTiming(from,to)){BOOMR.info("Client supports Resource Timing API","restiming");addToBeacon(r)}}}function addToBeacon(r){BOOMR.addVar("restiming",JSON.stringify(r.restiming));r.servertiming.length&&BOOMR.addVar("servertiming",BOOMR.utils.serializeForUrl(r.servertiming))}}();!function(){if(!BOOMR.plugins.EventTiming){var EVENT_TYPES={click:0,dblclick:1,mousedown:2,mouseup:3,mousemove:4,touchstart:5,touchend:6,touchmove:7,keydown:8,keyup:9,keypress:10,wheel:11,pointerdown:12,pointerup:13,pointermove:14,compositionstart:17,compositionupdate:18,compositionend:19,contextmenu:20},impl={initialized:!1,supported:null,observerEvent:null,observerFirstInput:null,entries:[],firstInputDelay:null,timeToFirstInteraction:null,sendEntries:!0,onBeforeBeacon:function(){if(impl.sendEntries&&impl.entries&&impl.entries.length){for(var compressed=[],i=0;i<impl.entries.length;i++)compressed.push({n:EVENT_TYPES[impl.entries[i].name]?EVENT_TYPES[impl.entries[i].name]:impl.entries[i].name,s:Math.round(impl.entries[i].startTime).toString(36),d:Math.round(impl.entries[i].duration).toString(36),p:Math.round(impl.entries[i].processingEnd-impl.entries[i].processingStart).toString(36),c:impl.entries[i].cancelable?1:0,fi:"first-input"===impl.entries[i].entryType?1:undefined});BOOMR.addVar("et.e",BOOMR.utils.serializeForUrl(compressed),!0)}impl.entries=[];if(null!==impl.firstInputDelay){BOOMR.addVar("et.fid",Math.ceil(impl.firstInputDelay),!0);impl.firstInputDelay=null}if(null!==impl.timeToFirstInteraction){BOOMR.addVar("et.ttfi",Math.ceil(impl.timeToFirstInteraction),!0);impl.timeToFirstInteraction=null}},onEventTiming:function(list){impl.entries=impl.entries.concat(list.getEntries())},onFirstInput:function(list){var newEntries=list.getEntries();impl.entries=impl.entries.concat(newEntries);impl.firstInputDelay=newEntries[0].processingStart-newEntries[0].startTime;impl.timeToFirstInteraction=newEntries[0].startTime}};BOOMR.plugins.EventTiming={init:function(config){this.is_supported()||(impl.initialized=!0);if(!impl.initialized){BOOMR.utils.pluginConfig(impl,config,"EventTiming",["sendEntries"]);BOOMR.subscribe("before_beacon",impl.onBeforeBeacon,null,impl);try{impl.observerEvent=new PerformanceObserver(impl.onEventTiming);impl.observerEvent.observe({type:["event"],buffered:!0});impl.observerFirstInput=new PerformanceObserver(impl.onFirstInput);impl.observerFirstInput.observe({type:["first-input"],buffered:!0})}catch(e){impl.supported=!1}impl.initialized=!0}return this},is_complete:function(){return!0},is_enabled:function(){return impl.initialized&&this.is_supported()},is_supported:function(){if(null!==impl.supported)return impl.supported;var p=BOOMR.getPerformance();impl.supported=p&&"undefined"!=typeof window.PerformanceEventTiming&&"function"==typeof window.PerformanceObserver;impl.supported&&BOOMR.info("This user agent supports EventTiming","et");return impl.supported},stop:function(){if(impl.observerEvent){impl.observerEvent.disconnect();impl.observerEvent=null}if(impl.observerFirstInput){impl.observerFirstInput.disconnect();impl.observerFirstInput=null}},metrics:{count:function(){return impl.entries.length},averageDuration:function(){if(0===impl.entries.length)return 0;for(var sum=0,i=0;i<impl.entries.length;i++)sum+=impl.entries[i].duration;return sum/impl.entries.length},firstInputDelay:function(){return impl.firstInputDelay},timeToFirstInteraction:function(){return impl.timeToFirstInteraction}}}}}();!function(){"use strict";BOOMR.utils=BOOMR.utils||{};BOOMR.utils&&BOOMR.utils.md5||(BOOMR.utils.MD5=function md5(string,key,raw){return key?(raw?raw_hmac_md5:function hex_hmac_md5(k,d){return rstr2hex(raw_hmac_md5(k,d))})(key,string):(raw?raw_md5:function hex_md5(s){return rstr2hex(raw_md5(s))})(string)});function safe_add(x,y){var lsw=(65535&x)+(65535&y);return(x>>16)+(y>>16)+(lsw>>16)<<16|65535&lsw}function md5_cmn(q,a,b,x,s,t){return safe_add(function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function binl_md5(x,len){x[len>>5]|=128<<len%32;x[14+(len+64>>>9<<4)]=len;for(var olda,oldb,oldc,oldd,a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<x.length;i+=16){a=md5_ff(olda=a,oldb=b,oldc=c,oldd=d,x[i],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);a=md5_gg(a,b=md5_ff(b,c,d,a,x[i+15],22,1236535329),c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);a=md5_hh(a,b=md5_gg(b,c,d,a,x[i+12],20,-1926607734),c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);a=md5_ii(a,b=md5_hh(b,c,d,a,x[i+2],23,-995338651),c,d,x[i],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd)}return[a,b,c,d]}function binl2rstr(input){for(var output="",i=0;i<32*input.length;i+=8)output+=String.fromCharCode(input[i>>5]>>>i%32&255);return output}function rstr2binl(input){var i,output=[];output[(input.length>>2)-1]=undefined;for(i=0;i<output.length;i+=1)output[i]=0;for(i=0;i<8*input.length;i+=8)output[i>>5]|=(255&input.charCodeAt(i/8))<<i%32;return output}function rstr2hex(input){for(var x,output="",i=0;i<input.length;i+=1){x=input.charCodeAt(i);output+="0123456789abcdef".charAt(x>>>4&15)+"0123456789abcdef".charAt(15&x)}return output}function str2rstr_utf8(input){return unescape(encodeURIComponent(input))}function raw_md5(s){return function rstr_md5(s){return binl2rstr(binl_md5(rstr2binl(s),8*s.length))}(str2rstr_utf8(s))}function raw_hmac_md5(k,d){return function rstr_hmac_md5(key,data){var i,hash,bkey=rstr2binl(key),ipad=[],opad=[];ipad[15]=opad[15]=undefined;16<bkey.length&&(bkey=binl_md5(bkey,8*key.length));for(i=0;i<16;i+=1){ipad[i]=909522486^bkey[i];opad[i]=1549556828^bkey[i]}hash=binl_md5(ipad.concat(rstr2binl(data)),512+8*data.length);return binl2rstr(binl_md5(opad.concat(hash),640))}(str2rstr_utf8(k),str2rstr_utf8(d))}}();!function(w){var d,impl;if(!BOOMR.plugins.RT){impl={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,autorun:!0,timers:{},cookie:"RT",cookie_exp:604800,session_exp:1800,strict_referrer:!0,navigationType:0,navigationStart:undefined,responseStart:undefined,loadTime:0,oboError:0,t_start:undefined,cached_t_start:undefined,cached_xhr_start:undefined,t_fb_approx:undefined,r:undefined,beacon_url:undefined,next_beacon_url:undefined,basic_timers:{t_done:1,t_resp:1,t_page:1},crossdomain_sending:!1,addedVars:[],updateCookie:function(params,timer){var t_end,t_start,subcookies,k;if(!this.cookie)return!1;subcookies=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{};for(k in subcookies)subcookies.hasOwnProperty(k)&&(isNaN(parseInt(k,10))||delete subcookies[k]);if("object"==typeof params)for(k in params)params.hasOwnProperty(k)&&(params[k]===undefined?subcookies.hasOwnProperty(k)&&delete subcookies[k]:subcookies[k]=params[k]);subcookies.z=1;subcookies.dm=BOOMR.session.domain;subcookies.si=BOOMR.session.ID;subcookies.ss=BOOMR.session.start.toString(36);subcookies.sl=BOOMR.session.length.toString(36);1800!==impl.session_exp&&(subcookies.se=impl.session_exp.toString(36));BOOMR.session.rate_limited&&(subcookies.rl=1);subcookies.tt=this.loadTime.toString(36);0<this.oboError?subcookies.obo=this.oboError.toString(36):delete subcookies.obo;t_start=BOOMR.now();if(timer){subcookies[timer]=(t_start-BOOMR.session.start).toString(36);impl.lastActionTime=t_start}if(!BOOMR.utils.setCookie(this.cookie,subcookies,this.cookie_exp)){BOOMR.error("cannot set start cookie","rt");return!1}if(50<(t_end=BOOMR.now())-t_start){BOOMR.utils.removeCookie(this.cookie);BOOMR.error("took more than 50ms to set cookie... aborting: "+t_start+" -> "+t_end,"rt")}return!0},refreshSession:function(subcookies){if(subcookies=subcookies||BOOMR.plugins.RT.getCookie()){subcookies.ss?BOOMR.session.start=subcookies.ss:BOOMR.session.start=BOOMR.t_lstart||BOOMR.t_start;subcookies.si&&subcookies.si.match(/-/)&&(BOOMR.session.ID=subcookies.si);subcookies.sl&&(BOOMR.session.length=subcookies.sl);subcookies.tt&&(this.loadTime=subcookies.tt);subcookies.obo&&(this.oboError=subcookies.obo);subcookies.dm&&!BOOMR.session.domain&&(BOOMR.session.domain=subcookies.dm);subcookies.se&&(impl.session_exp=subcookies.se);subcookies.rl&&"1"===subcookies.rl&&(BOOMR.session.rate_limited=!0)}},maybeResetSession:function(t_done,t_start){var avgSessionLength=0;BOOMR.session.start&&BOOMR.session.length&&(avgSessionLength=(BOOMR.now()-BOOMR.session.start)/BOOMR.session.length);var sessionExp=1e3*impl.session_exp;if(!BOOMR.session.start||t_start&&BOOMR.session.start>t_start||t_done-(impl.lastActionTime||BOOMR.t_start)>sessionExp||sessionExp<avgSessionLength){BOOMR.session.start=t_start||BOOMR.t_lstart||BOOMR.t_start;BOOMR.session.length=0;BOOMR.session.rate_limited=!1;impl.loadTime=0;impl.oboError=0;impl.beacon_url=impl.next_beacon_url;impl.lastActionTime=t_done;impl.updateCookie({rl:undefined,sl:BOOMR.session.length,ss:BOOMR.session.start,tt:impl.loadTime,obo:undefined})}},initFromCookie:function(){var urlHash,docReferrerHash,subcookies=BOOMR.plugins.RT.getCookie();this.cookie||(BOOMR.session.enabled=!1);if(subcookies){subcookies.s=Math.max(+subcookies.ld||0,Math.max(+subcookies.ul||0,+subcookies.cl||0));if(subcookies.s&&(subcookies.r||subcookies.nu)){this.r=subcookies.r;urlHash=BOOMR.utils.MD5(d.URL);docReferrerHash=BOOMR.utils.MD5(d&&d.referrer||"");subcookies.cl;subcookies.nu;if(!this.strict_referrer||subcookies.cl&&subcookies.nu&&subcookies.nu===urlHash&&subcookies.s<+subcookies.cl+15||subcookies.s===+subcookies.ul&&this.r===docReferrerHash){this.t_start=subcookies.s;+subcookies.hd>subcookies.s&&(this.t_fb_approx=subcookies.hd)}else this.t_start=this.t_fb_approx=undefined}subcookies.s&&(this.lastActionTime=subcookies.s);this.refreshSession(subcookies);this.updateCookie({s:undefined,ul:undefined,cl:undefined,hd:undefined,ld:undefined,rl:undefined,r:undefined,nu:undefined,sh:undefined});this.maybeResetSession(BOOMR.now())}},incrementSessionDetails:function(){BOOMR.session.length++;isNaN(impl.timers.t_done.delta)?impl.oboError++:impl.loadTime+=impl.timers.t_done.delta},getBoomerangTimings:function(){var res,urls,url,startTime,data;function trimTiming(time,st){var timeMs=Math.round(time||0),startTimeMs=Math.round(st||0);return(timeMs=0===timeMs?0:timeMs-startTimeMs)||""}if(BOOMR.t_start){BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start);BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end);BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start);if(BOOMR.t_lstart){BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart);BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)}}try{if(window&&"performance"in window&&window.performance&&"function"==typeof window.performance.getEntriesByName){urls={"rt.bmr":BOOMR.url};BOOMR.config_url&&(urls["rt.cnf"]=BOOMR.config_url);for(url in urls)if(urls.hasOwnProperty(url)&&urls[url]){if(!(res=window.performance.getEntriesByName(urls[url]))||0===res.length||!res[0])continue;data=[startTime=trimTiming((res=res[0]).startTime,0),trimTiming(res.responseEnd,startTime),trimTiming(res.responseStart,startTime),trimTiming(res.requestStart,startTime),trimTiming(res.connectEnd,startTime),trimTiming(res.secureConnectionStart,startTime),trimTiming(res.connectStart,startTime),trimTiming(res.domainLookupEnd,startTime),trimTiming(res.domainLookupStart,startTime),trimTiming(res.redirectEnd,startTime),trimTiming(res.redirectStart,startTime)].join(",").replace(/,+$/,"");BOOMR.addVar(url,data);impl.addedVars.push(url)}}}catch(e){BOOMR.addError(e,"rt.getBoomerangTimings")}},checkPreRender:function(){if("prerender"!==BOOMR.visibilityState())return!1;BOOMR.plugins.RT.startTimer("t_load",this.navigationStart);BOOMR.plugins.RT.endTimer("t_load");BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart);BOOMR.plugins.RT.startTimer("t_postrender");return!0},initFromNavTiming:function(){var ti,p,source;if(!this.navigationStart){(p=BOOMR.getPerformance())&&p.navigation&&(this.navigationType=p.navigation.type);if(p&&p.timing)ti=p.timing;else if(w.chrome&&w.chrome.csi&&w.chrome.csi().startE){ti={navigationStart:w.chrome.csi().startE};source="csi"}else if(w.gtbExternal&&w.gtbExternal.startE()){ti={navigationStart:w.gtbExternal.startE()};source="gtb"}if(ti){BOOMR.addVar("rt.start",source||"navigation");this.navigationStart=ti.navigationStart||ti.fetchStart||undefined;this.fetchStart=ti.fetchStart||undefined;this.responseStart=ti.responseStart||undefined;navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=ti.unloadEventStart||ti.fetchStart||undefined)}else BOOMR.warn("This browser doesn't support the WebTiming API","rt")}},validateLoadTimestamp:function(t_now,data,ename){var p;return data&&data.timing&&data.timing.loadEventEnd?data.timing.loadEventEnd:"xhr"!==ename||data&&BOOMR.utils.inArray(data.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?(p=BOOMR.getPerformance())&&p.timing?p.timing.loadEventEnd?p.timing.loadEventEnd:t_now:BOOMR.t_onload||BOOMR.t_lstart||BOOMR.t_start||t_now:t_now},setPageLoadTimers:function(ename,t_done,data){var t_resp_start,t_fetch_start;if("xhr"!==ename){impl.initFromCookie();impl.initFromNavTiming();if(impl.checkPreRender())return!1}if("xhr"===ename)if(data.timers)for(var timerName in data.timers)data.timers.hasOwnProperty(timerName)&&BOOMR.plugins.RT.setTimer(timerName,data.timers[timerName]);else data&&data.timing&&(void 0===(t_fetch_start=data.timing.fetchStart)||data.timing.responseEnd>=t_fetch_start)&&(t_resp_start=data.timing.responseEnd);else impl.responseStart?impl.responseStart>=impl.navigationStart&&impl.responseStart>=impl.fetchStart&&(t_resp_start=impl.responseStart):impl.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):impl.t_fb_approx&&(t_resp_start=impl.t_fb_approx);if(t_resp_start){t_fetch_start?BOOMR.plugins.RT.setTimer("t_resp",t_fetch_start,t_resp_start):BOOMR.plugins.RT.endTimer("t_resp",t_resp_start);"load"===ename&&impl.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",impl.timers.t_load.end-t_resp_start):t_done<t_resp_start?BOOMR.addVar("t_page.inv",1):BOOMR.plugins.RT.setTimer("t_page",t_done-t_resp_start)}if("load"===ename&&impl.timers.hasOwnProperty("t_postrender")){BOOMR.plugins.RT.endTimer("t_postrender");BOOMR.plugins.RT.endTimer("t_prerender")}return!0},setSupportingTimestamps:function(t_start){t_start&&BOOMR.addVar("rt.tstart",t_start);"number"==typeof impl.navigationStart&&impl.navigationStart!==t_start&&BOOMR.addVar("rt.nstart",impl.navigationStart);"number"==typeof impl.t_start&&impl.t_start!==t_start&&BOOMR.addVar("rt.cstart",impl.t_start);BOOMR.addVar("rt.bstart",BOOMR.t_start);BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart);BOOMR.addVar("rt.end",impl.timers.t_done.end)},determineTStart:function(ename,data){var t_start;if("xhr"===ename){data&&data.name&&impl.timers[data.name]?t_start=impl.timers[data.name].start:data&&data.timing&&data.timing.requestStart&&(t_start=data.timing.requestStart);void 0===t_start&&data&&BOOMR.utils.inArray(data.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?BOOMR.addVar("rt.start","none"):BOOMR.addVar("rt.start","manual");impl.cached_xhr_start=t_start}else{if(impl.navigationStart)t_start=impl.navigationStart;else if(impl.t_start&&2!==impl.navigationType){t_start=impl.t_start;BOOMR.addVar("rt.start","cookie")}else if(impl.cached_t_start)t_start=impl.cached_t_start;else{BOOMR.addVar("rt.start","none");t_start=undefined}impl.cached_t_start=t_start}return t_start},page_ready:function(){this.onloadfired=!0},check_visibility:function(){"visible"===BOOMR.visibilityState()&&(impl.visiblefired=!0)},prerenderToVisible:function(){if(impl.onloadfired&&impl.autorun){BOOMR.addVar("vis.pre","1");BOOMR.plugins.RT.done(null,"visible")}},page_unload:function(edata){this.unloadfired||BOOMR.plugins.RT.done(edata,"unload");this.updateCookie(!impl.navigationStart&&impl.strict_referrer?{r:BOOMR.utils.MD5(d.URL)}:null,"beforeunload"===edata.type?"ul":"hd");this.unloadfired=!0},_iterable_click:function(name,element,etarget,value_cb){var value;if(etarget){for(;etarget&&etarget.nodeName&&etarget.nodeName.toUpperCase()!==element;)etarget=etarget.parentNode;if(etarget&&etarget.nodeName&&etarget.nodeName.toUpperCase()===element){this.refreshSession();this.maybeResetSession(BOOMR.now());value=value_cb(etarget);this.updateCookie({nu:BOOMR.utils.MD5(value)},"cl");BOOMR.addVar("nu",BOOMR.utils.cleanupURL(value));impl.addedVars.push("nu")}}},onclick:function(etarget){impl._iterable_click("Click","A",etarget,function(t){return t.href})},markComplete:function(){this.onloadfired&&(impl.complete=!0)},onsubmit:function(etarget){impl._iterable_click("Submit","FORM",etarget,function(t){var v="function"==typeof t.getAttribute&&t.getAttribute("action")||d.URL||"";return v.match(/\?/)?v:v+"?"})},onconfig:function(config){config.beacon_url&&(impl.beacon_url=config.beacon_url);if(config.RT){config.RT.oboError&&!isNaN(config.RT.oboError)&&config.RT.oboError>impl.oboError&&(impl.oboError=config.RT.oboError);if(config.RT.loadTime&&!isNaN(config.RT.loadTime)&&config.RT.loadTime>impl.loadTime){impl.loadTime=config.RT.loadTime;impl.timers.t_done&&!isNaN(impl.timers.t_done.delta)&&(impl.loadTime+=impl.timers.t_done.delta)}}},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(){BOOMR.removeVar("rt.start");if(impl.addedVars&&0<impl.addedVars.length){BOOMR.removeVar(impl.addedVars);impl.addedVars=[]}},spaNavigation:function(){impl.onloadfired=!0}};BOOMR.plugins.RT={init:function(config){w!==BOOMR.window&&(w=BOOMR.window);config&&config.CrossDomain&&config.CrossDomain.sending&&(impl.crossdomain_sending=!0);if(w&&w.document){d=w.document;BOOMR.utils.pluginConfig(impl,config,"RT",["cookie","cookie_exp","session_exp","strict_referrer"]);config&&"undefined"!=typeof config.autorun&&(impl.autorun=config.autorun);if(config&&config.beacon_url){impl.beacon_url&&!config.force_beacon_url||(impl.beacon_url=config.beacon_url);impl.next_beacon_url=config.beacon_url}void 0!==d&&(impl.r=BOOMR.utils.hashQueryString(d.referrer,!0));impl.initFromCookie();if(impl.initialized)return this;impl.complete=!1;impl.timers={};impl.check_visibility();BOOMR.subscribe("page_ready",impl.page_ready,null,impl);BOOMR.subscribe("visibility_changed",impl.check_visibility,null,impl);BOOMR.subscribe("prerender_to_visible",impl.prerenderToVisible,null,impl);BOOMR.subscribe("page_ready",this.done,"load",this);BOOMR.subscribe("xhr_load",this.done,"xhr",this);BOOMR.subscribe("dom_loaded",impl.domloaded,null,impl);BOOMR.subscribe("page_unload",impl.page_unload,null,impl);BOOMR.subscribe("click",impl.onclick,null,impl);BOOMR.subscribe("form_submit",impl.onsubmit,null,impl);BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this);BOOMR.subscribe("beacon",impl.clear,null,impl);BOOMR.subscribe("error",impl.markComplete,null,impl);BOOMR.subscribe("config",impl.onconfig,null,impl);BOOMR.subscribe("spa_navigation",impl.spaNavigation,null,impl);BOOMR.subscribe("interaction",impl.markComplete,null,impl);BOOMR.getBeaconURL=function(){return impl.beacon_url};impl.initialized=!0;return this}},startTimer:function(timer_name,time_value){if(timer_name){"t_page"===timer_name&&this.endTimer("t_resp",time_value);impl.timers[timer_name]={start:"number"==typeof time_value?time_value:BOOMR.now()}}return this},endTimer:function(timer_name,time_value){if(timer_name){impl.timers[timer_name]=impl.timers[timer_name]||{};impl.timers[timer_name].end===undefined&&(impl.timers[timer_name].end="number"==typeof time_value?time_value:BOOMR.now())}return this},clearTimer:function(timer_name){timer_name&&delete impl.timers[timer_name];return this},setTimer:function(timer_name,time_delta_or_start,timer_end){timer_name&&(impl.timers[timer_name]=void 0!==timer_end?{start:time_delta_or_start,end:timer_end,delta:timer_end-time_delta_or_start}:{delta:time_delta_or_start});return this},addTimersToBeacon:function(vars,source){var t_name,timer,t_other=[];for(t_name in impl.timers)if(impl.timers.hasOwnProperty(t_name)){if("number"!=typeof(timer=impl.timers[t_name]).delta){"number"!=typeof timer.start&&(timer.start="xhr"===source?impl.cached_xhr_start:impl.cached_t_start);timer.delta=timer.end-timer.start}if(isNaN(timer.delta))continue;if(impl.basic_timers.hasOwnProperty(t_name)){BOOMR.addVar(t_name,timer.delta);impl.addedVars.push(t_name)}else t_other.push(t_name+"|"+timer.delta)}if(t_other.length){BOOMR.addVar("t_other",t_other.join(","));impl.addedVars.push("t_other")}if("beacon"===source){impl.timers={};impl.complete=!1}},done:function(edata,ename){var t_start,t_done,t_now=BOOMR.now(),subresource=!1;impl.complete=!1;t_done=impl.validateLoadTimestamp(t_now,edata,ename);if(("load"===ename||"visible"===ename||"xhr"===ename)&&!impl.setPageLoadTimers(ename,t_done,edata))return this;("load"===ename||"visible"===ename||"xhr"===ename&&edata&&"spa_hard"===edata.initiator)&&impl.getBoomerangTimings();t_start=impl.determineTStart(ename,edata);impl.refreshSession();impl.maybeResetSession(t_done,t_start);this.endTimer("t_done",t_done);edata&&"xhr"===edata.initiator&&this.setTimer("t_done",edata.timing.requestStart,edata.timing.loadEventEnd);BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","rt.tstart","rt.nstart","rt.cstart","rt.bstart","rt.end","rt.subres","http.errno","http.method","http.type","xhr.sync","fetch.bnu","rt.ss","rt.sl","rt.tt","rt.lt","ru");impl.setSupportingTimestamps(t_start);this.addTimersToBeacon(null,ename);BOOMR.setReferrer(impl.r);"xhr"===ename&&edata&&edata&&edata.data&&(edata=edata.data);if("xhr"===ename&&edata){subresource=edata.subresource;if(edata.url){BOOMR.addVar("u",BOOMR.utils.cleanupURL(edata.url.replace(/#.*/,"")));impl.addedVars.push("u")}edata.status&&(edata.status<-1||400<=edata.status)&&BOOMR.addVar("http.errno",edata.status);edata.method&&"GET"!==edata.method&&BOOMR.addVar("http.method",edata.method);edata.type&&"xhr"!==edata.type&&BOOMR.addVar("http.type",edata.type[0]);edata.headers&&BOOMR.addVar("http.hdr",JSON.stringify(edata.headers));edata.synchronous&&BOOMR.addVar("xhr.sync",1);edata.initiator&&BOOMR.addVar("http.initiator",edata.initiator);edata.responseBodyNotUsed&&BOOMR.addVar("fetch.bnu",1);edata.responseUrl&&BOOMR.addVar("ru",BOOMR.utils.cleanupURL(edata.responseUrl),!0);impl.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator","fetch.bnu","ru")}if(subresource&&"passive"!==subresource){BOOMR.addVar("rt.subres",1);impl.addedVars.push("rt.subres")}if("load"===ename||"visible"===ename||"xhr"===ename&&!subresource||"unload"===ename&&!impl.onloadfired&&impl.autorun&&!impl.crossdomain_sending){impl.incrementSessionDetails();impl.updateCookie(null,"ld")}BOOMR.addVar({"rt.tt":impl.loadTime,"rt.obo":impl.oboError});impl.addedVars.push("rt.tt","rt.obo");impl.updateCookie();if("unload"===ename){BOOMR.addVar("rt.quit","");if(!impl.onloadfired){BOOMR.addVar("rt.abld","");impl.addedVars.push("rt.abld")}impl.visiblefired||BOOMR.addVar("rt.ntvu","")}impl.complete=!0;BOOMR.sendBeacon(impl.beacon_url);return this},is_complete:function(vars){return impl.complete||vars&&"error"===vars["http.initiator"]},updateCookie:function(){impl.updateCookie()},getCookie:function(){var subcookies,base,epoch;if(!impl.cookie)return!1;if(subcookies=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(impl.cookie))||{}){if(1&subcookies.z){base=36;epoch=parseInt(subcookies.ss||0,36)}else{base=10;epoch=0}subcookies.ss=parseInt(subcookies.ss||0,base);subcookies.tt=parseInt(subcookies.tt||0,base);subcookies.obo=parseInt(subcookies.obo||0,base);subcookies.sl=parseInt(subcookies.sl||0,base);subcookies.se&&(subcookies.se=parseInt(subcookies.se,base)||1800);subcookies.ld&&(subcookies.ld=epoch+parseInt(subcookies.ld,base));subcookies.ul&&(subcookies.ul=epoch+parseInt(subcookies.ul,base));subcookies.cl&&(subcookies.cl=epoch+parseInt(subcookies.cl,base));subcookies.hd&&(subcookies.hd=epoch+parseInt(subcookies.hd,base))}return subcookies},incrementSessionDetails:function(){impl.incrementSessionDetails()},navigationStart:function(){impl.navigationStart||impl.initFromNavTiming();return impl.navigationStart}}}}(window);!function(window){"use strict";var root,previousObj;void 0!==window?previousObj=(root=window).UserTimingCompression:root={};var self,UserTimingCompression=self={};UserTimingCompression.noConflict=function(){root.UserTimingCompression=previousObj;return UserTimingCompression};UserTimingCompression.trimTiming=function(time,startTime){"number"!=typeof time&&(time=0);"number"!=typeof startTime&&(startTime=0);var timeMs=Math.round(time),startTimeMs=Math.round(startTime);return 0===timeMs?0:timeMs-startTimeMs};UserTimingCompression.toBase36=function(n){return"number"==typeof n?n.toString(36):""};UserTimingCompression.findUserTimingForFrame=function(frame){var entries;if(!frame)return[];try{frame.location&&frame.location.href;if(!("performance"in frame&&frame.performance&&frame.performance.getEntriesByType))return entries;entries=(entries=frame.performance.getEntriesByType("mark")).concat(frame.performance.getEntriesByType("measure"))}catch(e){return entries}return entries};UserTimingCompression.compressUserTiming=function(entries,options){var i,e,latestTime=0,entryNames={};options=options||{};if(!entries||!entries.length)return[];for(i=0;i<entries.length;i++){"undefined"==typeof entryNames[(e=entries[i]).name]&&(entryNames[e.name]=[]);"mark"===e.entryType?entryNames[e.name].push({startTime:e.startTime}):"measure"===e.entryType&&entryNames[e.name].push({startTime:e.startTime,duration:e.duration})}for(var name in entryNames)if(entryNames.hasOwnProperty(name)){if(options.map&&"undefined"==typeof options.map[name])continue;var nameValues=entryNames[name];if(options.map&&"undefined"!=typeof options.map[name]){delete entryNames[name];name=options.map[name]}for(i=latestTime=0;i<nameValues.length;i++){var time,value=nameValues[i];"0"===(time=self.toBase36(self.trimTiming(value.startTime,latestTime)))&&(time="");var finalValue=time;if("number"==typeof value.duration){var duration=self.toBase36(Math.round(value.duration));finalValue+="_";"0"!==duration&&(finalValue+=duration)}latestTime=value.startTime;nameValues[i]=finalValue}entryNames[name]=self.compressArray(nameValues)}return entryNames};UserTimingCompression.convertToTrie=function(entries){var name,i,value,letters,letter,cur,node,trie={};if(!entries)return{};for(name in entries)if(entries.hasOwnProperty(name)){value=entries[name];letters=name.split("");cur=trie;for(i=0;i<letters.length;i++)void 0===(node=cur[letter=letters[i]])?cur=cur[letter]=i===letters.length-1?value:{}:"string"==typeof node||"number"==typeof node?cur=cur[letter]={"!":node}:i===letters.length-1?cur[letter]["!"]=value:cur=cur[letter]}return trie};UserTimingCompression.optimizeTrie=function(cur,top){var node,ret,topNode,num=0;if(!cur)return{};for(node in cur){if("object"==typeof cur[node]&&(ret=this.optimizeTrie(cur[node],!1))){delete cur[node];cur[node+=ret.name]=ret.value}num++}if(1!==num)return!!top&&cur;if(top){(topNode={})[node]=cur[node];return topNode}return{name:node,value:cur[node]}};UserTimingCompression.compressArray=function(entries){var dupeCount=0,result="";if(!entries||0===entries.length||entries.constructor!==Array)return"";for(var i=0;i<entries.length;i++){var entry=entries[i];if(i<entries.length-1&&entry===entries[i+1])dupeCount++;else if(0<dupeCount){result+=(""!==result?".":"")+entry+"*";2<=dupeCount&&(result+=dupeCount+1);dupeCount=0}else result+=(""!==result?".":"")+entry}return/^\d+$/.test(result)?parseInt(result,10):result};UserTimingCompression.getCompressedUserTiming=function(options){var frame=(options=options||{}).window||window,entries=this.findUserTimingForFrame(frame);options.from&&(entries=entries.filter(function(e){return e.startTime+e.duration>=options.from}));options.to&&(entries=entries.filter(function(e){return e.startTime<=options.to}));return self.compressUserTiming(entries,options)};UserTimingCompression.compressForUri=function(data){if("object"!=typeof data)return"";var isMap=!1;for(var name in data)if(data.hasOwnProperty(name)){if(isNaN(name)){isMap=!1;break}isMap=!0}if(isMap)return"1"+self.flattenMap(data);var unOptTrie=self.convertToTrie(data),trie=self.optimizeTrie(unOptTrie,!0),trieJsURL=self.jsUrl(trie),ary=self.flattenArray(data);if("string"!=typeof ary||0===ary.length)return"";var trieEnc=encodeURIComponent(trieJsURL),aryEnc=encodeURIComponent(ary);return trieEnc.length<aryEnc.length?trieJsURL:"0"+ary};UserTimingCompression.flattenArray=function(data){var ary=[];if("object"!=typeof data)return"";for(var name in data)if(data.hasOwnProperty(name)){var val=(data[name]+"").replace("~","%7E"),name=name.replace("~","%7E");ary.push(name+"~"+val)}return ary=ary.join("~")};UserTimingCompression.flattenMap=function(data){var ary=[];if("object"!=typeof data)return"";for(var name in data)if(data.hasOwnProperty(name)){var nameInt=parseInt(name,10),nameBase36=self.toBase36(nameInt);if(1331<nameInt)continue;1<nameBase36.length&&(nameBase36="-"+(1===(nameBase36=self.toBase36(nameInt-36)).length?"0":"")+nameBase36);ary.push(nameBase36+data[name])}ary.sort();return ary=ary.join("~")};UserTimingCompression.jsUrl=function(v){function encode(s){return/[^\w-.]/.test(s)?s=s.replace(/[^\w-.]/g,function(ch){return"$"===ch?"!":(ch=ch.charCodeAt(0))<256?"*"+("00"+ch.toString(16)).slice(-2):"**"+("0000"+ch.toString(16)).slice(-4)}):s}switch(typeof v){case"number":return isFinite(v)?"~"+v:"~null";case"string":return"~'"+encode(v);case"boolean":return"~"+v;case"object":return v?Array.isArray(v)?"~("+(v.map(function(elt){return self.jsUrl(elt)||"~null"}).join("")||"~")+")":"~("+Object.keys(v).map(function(key){var val=self.jsUrl(v[key]);return val&&encode(key)+val}).filter(function(str){return str}).sort().join("~")+")":"~null";default:return undefined}};void 0!==root&&(root.UserTimingCompression=UserTimingCompression)}("undefined"!=typeof window?window:undefined);!function(){if(!BOOMR.plugins.UserTiming){var impl={complete:!1,initialized:!1,supported:!1,options:{from:0,window:BOOMR.window},getUserTiming:function(){var entries=this.findUserTimingForFrame(impl.options.window);impl.options.from&&(entries=entries.filter(function(e){return e.startTime+e.duration>=impl.options.from}));var utc=window.UserTimingCompression||BOOMR.window.UserTimingCompression;if(void 0===utc){if(0===entries.length)return null;for(var res={},i=0,l=entries.length;i<l;i++){var entry=entries[i];res[entry.entryType]=res[entry.entryType]||{};"mark"===entry.entryType?res[entry.entryType][entry.name]=entry.startTime:"measure"===entry.entryType&&(res[entry.entryType][entry.name]=entry.duration)}return JSON.stringify(res)}var timings=utc.compressUserTiming(entries);return utc.compressForUri(timings)},addEntriesToBeacon:function(){var r,now=BOOMR.hrNow();if(!this.complete){BOOMR.removeVar("usertiming");(r=this.getUserTiming())&&BOOMR.addVar({usertiming:r});this.options.from=now;this.complete=!0}},findUserTimingForFrame:function(frame){var entries;if(!frame)return[];try{frame.location&&frame.location.href;if(!("performance"in frame&&frame.performance&&frame.performance.getEntriesByType))return entries;entries=(entries=frame.performance.getEntriesByType("mark")).concat(frame.performance.getEntriesByType("measure"))}catch(e){return entries}return entries},clearMetrics:function(vars){vars.hasOwnProperty("usertiming")&&BOOMR.removeVar("usertiming");this.complete=!1},subscribe:function(){BOOMR.subscribe("before_beacon",this.addEntriesToBeacon,null,this);BOOMR.subscribe("beacon",this.clearMetrics,null,this)},pageReady:function(){this.checkSupport()&&this.subscribe()},checkSupport:function(){if(this.supported)return!0;var p=BOOMR.getPerformance();if(p&&"function"==typeof p.getEntriesByType){var marks=p.getEntriesByType("mark"),measures=p.getEntriesByType("measure");if(BOOMR.utils.isArray(marks)&&BOOMR.utils.isArray(measures)){BOOMR.info("Client supports UserTiming API","usertiming");return this.supported=!0}}return!1}};BOOMR.plugins.UserTiming={init:function(config){if(impl.initialized)return this;impl.checkSupport()?impl.subscribe():BOOMR.subscribe("page_ready",impl.pageReady,null,impl);impl.initialized=!0;return this},is_complete:function(){return!0},is_supported:function(){return impl.initialized&&impl.supported}}}}();!function(){"use strict";if(!BOOMR.plugins.TPAnalytics){var impl={complete:!1,clientids:!0,dropParams:[],googleAnalytics:function(){var i,param,value,cid,trackers,data={},w=BOOMR.window,QUERY_PARAMS=["utm_source","utm_medium","utm_term","utm_content","utm_campaign"];if(impl.clientids){if("function"==typeof w.ga)try{w.ga(function(tracker){tracker&&(data.clientid=tracker.get("clientId"))});data.clientid||"function"!=typeof w.ga.getAll||(trackers=w.ga.getAll())&&0<trackers.length&&(data.clientid=trackers[0].get("clientId"))}catch(err){warn("googleAnalytics: "+err)}data.clientid||((cid=BOOMR.utils.getCookie("_ga"))?(cid=cid.split("."))&&4===cid.length&&(data.clientid=cid[2]+"."+cid[3]):(cid=(cid=BOOMR.utils.getCookie("__utma"))&&cid.split("."))&&6===cid.length&&(data.clientid=cid[1]+"."+cid[2]))}for(i=0;i<QUERY_PARAMS.length;i++){param=QUERY_PARAMS[i];(value=BOOMR.utils.getQueryParamValue(param))&&(data[param]=value)}return data},adobeAnalytics:function(){var aid,mid,amcv,visitor,m,data={},w=BOOMR.window;if("undefined"!=typeof w._satellite||"function"==typeof w.mboxCreate||"function"==typeof w.Visitor||"object"==typeof w.s){if(impl.clientids)if("object"==typeof w.s&&"object"==typeof w.s.visitor&&"function"==typeof w.s.visitor.getAnalyticsVisitorID&&"function"==typeof w.s.visitor.getMarketingCloudVisitorID)try{(mid=w.s.visitor.getMarketingCloudVisitorID())&&(data.mid=mid);(aid=w.s.visitor.getAnalyticsVisitorID())&&(data.aid=w.s.visitor.getAnalyticsVisitorID())}catch(err){warn("adobeAnalytics: "+err)}else if((amcv=/AMCV_([A-Z0-9]+)%40AdobeOrg/.exec(w.document.cookie))&&"function"==typeof w.Visitor&&"function"==typeof w.Visitor.getInstance)try{if((visitor=w.Visitor.getInstance(amcv[1]+"@AdobeOrg"))&&"function"==typeof visitor.getAnalyticsVisitorID&&"function"==typeof visitor.getMarketingCloudVisitorID){(mid=visitor.getMarketingCloudVisitorID())&&(data.mid=mid);(aid=visitor.getAnalyticsVisitorID())&&(data.aid=visitor.getAnalyticsVisitorID())}}catch(err){warn("adobeAnalytics: "+err)}else(aid=(aid=BOOMR.utils.getCookie("s_vi"))?(m=/\|([^\[]+)/.exec(aid))&&0<m.length?m[1]:"":BOOMR.utils.getCookie("s_fid"))&&(data.aid=aid);if("object"==typeof w.s){"string"==typeof w.s.campaign&&w.s.campaign&&(data.campaign=w.s.campaign);"string"==typeof w.s.purchaseID&&w.s.purchaseID&&(data.purchaseid=w.s.purchaseID)}}return data},ibmAnalytics:function(){var param,m,i,k,regex,fieldnames,data={},w=BOOMR.window,metrics={cm_mmc:[/([^&#]+?)-_-([^&#]+?)-_-([^&#]+?)-_-([^&#]+)/,["mmc_vendor","mmc_category","mmc_placement","mmc_item"]],cm_sp:[/([^&#]+?)-_-([^&#]+?)-_-([^&#]+)/,["sp_type","sp_promotion","sp_link"]],cm_re:[/([^&#]+?)-_-([^&#]+?)-_-([^&#]+)/,["re_version","re_pagearea","re_link"]]};if(impl.clientids&&"function"==typeof w.cmRetrieveUserID)try{w.cmRetrieveUserID(function(userid){data.coreid=userid})}catch(err){warn("ibmAnalytics: "+err)}for(k in metrics)if(metrics.hasOwnProperty(k)&&(param=BOOMR.utils.getQueryParamValue(k))){regex=metrics[k][0];fieldnames=metrics[k][1];if((m=regex.exec(param))&&m.length>fieldnames.length)for(i=0;i<fieldnames.length;i++)m[i+1]&&(data[fieldnames[i]]=decodeURIComponent(m[i+1]))}return data},done:function(edata,ename){var vendor,data,vendors={ga:this.googleAnalytics,aa:this.adobeAnalytics,ia:this.ibmAnalytics};if(!this.complete&&("load"===ename||edata&&"spa_hard"===edata.initiator)){for(vendor in vendors){data=vendors[vendor]();for(var key in data){var beaconParam="tp."+vendor+"."+key;BOOMR.utils.inArray(beaconParam,this.dropParams)||BOOMR.addVar(beaconParam,data[key])}}this.complete=!0;BOOMR.sendBeacon()}},prerenderToVisible:function(){this.complete=!1;this.done({},"load")}};BOOMR.plugins.TPAnalytics={init:function(config){BOOMR.utils.pluginConfig(impl,config,"TPAnalytics",["clientids","dropParams"]);if(!impl.initialized){BOOMR.utils.isArray(impl.dropParams)||(impl.dropParams=[]);BOOMR.subscribe("page_ready",impl.done,"load",impl);BOOMR.subscribe("xhr_load",impl.done,"xhr",impl);BOOMR.subscribe("prerender_to_visible",impl.prerenderToVisible,"load",impl);impl.initialized=!0}return this},is_complete:function(){return!0}}}function warn(msg){BOOMR.warn(msg,"TPAnalytics")}}();!function(){var w,d,m,s,n,b,ls,ss,impl,p={};if(!BOOMR.plugins.Memory){impl={done:function(){if(w){BOOMR.removeVar("dom.res");errorWrap(!0,function(){var res,a,doms={};if(p&&"function"==typeof p.getEntriesByType&&(res=p.getEntriesByType("resource"))&&res.length){BOOMR.addVar("dom.res",res.length);a=BOOMR.window.document.createElement("a");[].forEach.call(res,function(r){a.href=r.name;doms[a.hostname]=!0});BOOMR.addVar("dom.doms",Object.keys(doms).length)}});m&&BOOMR.addVar({"mem.total":m.totalJSHeapSize,"mem.limit":m.jsHeapSizeLimit,"mem.used":m.usedJSHeapSize});errorWrap(ls&&ss,function(){BOOMR.addVar({"mem.lsln":ls.length,"mem.ssln":ss.length});window.JSON&&"function"==typeof JSON.stringify&&BOOMR.addVar({"mem.lssz":JSON.stringify(ls).length,"mem.sssz":JSON.stringify(ss).length})});errorWrap(s,function(){BOOMR.addVar({"scr.xy":s.width+"x"+s.height,"scr.bpp":s.colorDepth+"/"+(s.pixelDepth||"")});s.orientation&&BOOMR.addVar("scr.orn",s.orientation.angle+"/"+s.orientation.type);1<w.devicePixelRatio&&BOOMR.addVar("scr.dpx",w.devicePixelRatio);var scroll=BOOMR.utils.scroll();(scroll.x||scroll.y)&&BOOMR.addVar("scr.sxy",scroll.x+"x"+scroll.y)});errorWrap(n,function(){n.hardwareConcurrency&&BOOMR.addVar("cpu.cnc",n.hardwareConcurrency);n.maxTouchPoints&&BOOMR.addVar("scr.mtp",n.maxTouchPoints)});errorWrap(b,function(){b&&"number"==typeof b.level&&BOOMR.addVar("bat.lvl",b.level)});errorWrap(!0,function(){var uniqUrls;BOOMR.addVar({"dom.ln":nodeCount("*"),"dom.sz":d.documentElement.innerHTML.length,"dom.ck":d.cookie.length});uniqUrls={};BOOMR.addVar(nodeCount("img",["dom.img","dom.img.ext","dom.img.uniq"],function(el){return el.src&&!el.src.toLowerCase().match(/^(?:about:|javascript:|data:|#)/)},function(el){return!(uniqUrls[el.currentSrc||el.src]=uniqUrls.hasOwnProperty(el.currentSrc||el.src))}));uniqUrls={};BOOMR.addVar(nodeCount("script",["dom.script","dom.script.ext","dom.script.uniq"],function(el){return el.src&&!el.src.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(el){return!(uniqUrls[el.src]=uniqUrls.hasOwnProperty(el.src))}));uniqUrls={};BOOMR.addVar(nodeCount("iframe",["dom.iframe","dom.iframe.ext","dom.iframe.uniq"],function(el){return el.src&&!el.src.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(el){return!(uniqUrls[el.src]=uniqUrls.hasOwnProperty(el.src))}));uniqUrls={};BOOMR.addVar(nodeCount("link",["dom.link","dom.link.css","dom.link.css.uniq"],function(link){return link.rel&&"stylesheet"===link.rel.toLowerCase()&&link.href&&!link.href.toLowerCase().match(/^(?:about:|javascript:|#)/)},function(link){return!(uniqUrls[link.href]=uniqUrls.hasOwnProperty(link.href))}))})}}};BOOMR.plugins.Memory={init:function(){var c;try{w=BOOMR.window;d=w.document;p=BOOMR.getPerformance();c=w.console;s=w.screen;n=w.navigator;try{ls=w.localStorage;ss=w.sessionStorage}catch(e){}if(n&&n.battery)b=n.battery;else if(n&&"function"==typeof n.getBattery){var batPromise=n.getBattery();batPromise&&"function"==typeof batPromise.then?batPromise.then(function(battery){b=battery}):"object"==typeof batPromise&&batPromise.hasOwnProperty("level")&&(b=batPromise)}}catch(err){BOOMR.addError(err,"Memory.init")}m=p&&p.memory?p.memory:c&&c.memory?c.memory:null;if(impl.initialized)return this;impl.initialized=!0;BOOMR.subscribe("before_beacon",impl.done,null,impl);return this},is_complete:function(){return!0}}}function nodeCount(type,keys){var tags,r,o,i,filter;try{r=(tags=d.getElementsByTagName(type)).length;if(keys&&keys.length){(o={})[keys[0]]=r;for(i=2;0<r&&i<arguments.length&&i-1<keys.length;i++)if("function"==typeof(filter=arguments[i]))try{if((tags=BOOMR.utils.arrayFilter(tags,filter)).length!==r){r=tags.length;o[keys[i-1]]=r}}catch(err){BOOMR.addError(err,"Memory.nodeList."+type+".filter["+(i-2)+"]")}}return o||r}catch(err){BOOMR.addError(err,"Memory.nodeList."+type);return 0}}function errorWrap(condition,callback){if(condition)try{callback()}catch(err){}}}();!function(window){"use strict";if(!BOOMR.plugins.CsbPlugin){var Dell=window.Dell||{};Dell.com=Dell.com||{};Dell.com.Boomr=Dell.com.Boomr||{};Dell.Metrics=Dell.Metrics||{};Dell.Metrics.sc=Dell.Metrics.sc||{};var RUMSpeedIndex=window.RUMSpeedIndex,wp=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance,ls=!!window.sessionStorage&&"function"==typeof sessionStorage.getItem&&"function"==typeof sessionStorage.setItem,impl={attachVar:function(){void 0!==RUMSpeedIndex&&BOOMR.addVar("SpeedIndex",RUMSpeedIndex(),!0);BOOMR.addVar("beforeUnload",function getCache(n,d){try{var val=ls?sessionStorage.getItem(n):null;if(null!==val)return JSON.parse(val)}catch(e){}return d||null}("boomr-beforeunload"),!0);if(wp){var paintEvt=wp.getEntriesByType("paint"),hasCLT=window.chrome!==undefined&&window.chrome.loadTimes!==undefined,clt=hasCLT?window.chrome.loadTimes():null;window.firstPaint=0<paintEvt.length&&0<paintEvt[0].startTime?Math.round(paintEvt[0].startTime):hasCLT&&0<clt.firstPaintTime?Math.round(clt.firstPaintTime):wp.timing.msFirstPaint!==undefined?Math.round(wp.timing.msFirstPaint-wp.timing.fetchStart):null;BOOMR.addVar("pt.fp",window.firstPaint,!0)}if(Dell.Metrics.sc.pagename){var ttiStart=wp?wp.getEntriesByName("manualTTI-start"):null,ttiEnd=wp?wp.getEntriesByName("manualTTI-end"):null;if(0<!ttiStart.length&&0<!ttiEnd.length){if(-1<Dell.Metrics.sc.pagename.indexOf("|productdetails|")&&-1===Dell.Metrics.sc.pagename.indexOf("|snp|"))BOOMR.addVar("manualTTI",parseInt(window.performance.getEntriesByName("productDetailsController-init-end")[0].startTime),!0);else if("undefined"!=typeof impl.userObj.breakpoint){var anavInit=window.performance.getEntriesByName("anavController-init-end"),tilesInit=window.performance.getEntriesByName("categoryTilesInit-end"),stacksBind=window.performance.getEntriesByName("ProductStackLinks-binding-end"),offCanvas="mobile"!==impl.userObj.breakpoint?[]:window.performance.getEntriesByName("offcanvas-setupTransition-end");-1<Dell.Metrics.sc.pagename.indexOf("|deals|")?BOOMR.addVar("manualTTI",offCanvas.length?parseInt(offCanvas[0].startTime):anavInit.length?parseInt(anavInit[0].startTime):parseInt(stacksBind[0].startTime),!0):(-1<Dell.Metrics.sc.pagename.indexOf("|productcategory|")||-1<Dell.Metrics.sc.pagename.indexOf("|franchise|"))&&BOOMR.addVar("manualTTI",offCanvas.length?parseInt(offCanvas[0].startTime):anavInit.length?parseInt(anavInit[0].startTime):parseInt(tilesInit[0].startTime),!0)}else if("dell.com responsive homepage"===Dell.Metrics.sc.pagename){var initUx=window.performance.getEntriesByName("UberHomepage-initUX-end");initUx.length&&BOOMR.addVar("manualTTI",parseInt(initUx[0].startTime),!0)}}else BOOMR.addVar("manualTTI",ttiEnd?parseInt(ttiEnd[0].startTime):parseInt(ttiStart[0].startTime),!0)}},attachManualTTI:function(beacon){var initiator=beacon["http.initiator"];void 0!==initiator&&"spa_hard"!==initiator||BOOMR.hasVar("manualTTI")||BOOMR.addVar("manualTTI",BOOMR.plugins.Continuity.metrics.timeToVisuallyReady(),!0)}};BOOMR.plugins.CsbPlugin={init:function(config){BOOMR.utils.pluginConfig(impl,config,"CsbPlugin",["userObj"]);BOOMR.subscribe("before_beacon",impl.attachVar,null,impl,!0);BOOMR.subscribe("before_beacon",impl.attachManualTTI,null,impl)},is_complete:function(){return!0}}}}(window);!function(BOOMR){"use strict";var impl;if(!(BOOMR=BOOMR||{}).plugins.applicationInfo){impl={APPLICATION_ID_BEACON_KEY:"application_id",SERVER_NAME_BEACON_KEY:"server_name",USER_OBJECT_BEACON_KEY:"user_obj",addVars:function(){impl.getAppId&&!BOOMR.hasVar(impl.APPLICATION_ID_BEACON_KEY)&&BOOMR.addVar(impl.APPLICATION_ID_BEACON_KEY,impl.getAppId());impl.getServerName&&!BOOMR.hasVar(impl.SERVER_NAME_BEACON_KEY)&&BOOMR.addVar(impl.SERVER_NAME_BEACON_KEY,impl.getServerName());impl.getUserObj&&BOOMR.addVar(impl.USER_OBJECT_BEACON_KEY,JSON.stringify(impl.getUserObj()))}};BOOMR.plugins.applicationInfo={init:function(config){BOOMR.utils.pluginConfig(impl,config,"applicationInfo",["getAppId","getServerName","getUserObj"]);BOOMR.subscribe("before_beacon",impl.addVars,null,impl);return this},initialize:function(applicationInfo){if(applicationInfo){applicationInfo.appId&&(impl.getAppId=function(){return applicationInfo.appId});applicationInfo.userObject&&(impl.getUserObj=function(){return applicationInfo.userObject});applicationInfo.serverName&&(impl.getServerName=function(){return applicationInfo.serverName})}},is_complete:function(){return!0}}}}(BOOMR);!function(w){"use strict";var impl;if(!BOOMR.plugins.omniture){BOOMR=BOOMR||{};impl={TTI_SPA_TYPES:["spa","spa_hard"],prepareOmnitureData:function prepareOmnitureData(){var httpInitiator=BOOMR.getVar("http.initiator");(BOOMR.utils.inArray(httpInitiator,impl.TTI_SPA_TYPES)||BOOMR.getVar("c.tti"))&&impl.buildOmnitureTti(httpInitiator)},buildOmnitureTti:function buildOmnitureTti(httpInitiator){if(w.Dell&&w.Dell.Metrics&&w.Dell.Metrics.sc){var tti=impl.getValueOrDefault(BOOMR.getVar("c.tti"),BOOMR.getVar("t_done")),timeToInteractVisuallyReady=impl.getValueOrDefault(BOOMR.getVar("c.tti.vr"),BOOMR.getVar("pt.fcp")),t_done=impl.getValueOrDefault(BOOMR.getVar("t_done")),timeToFirstInteraction=impl.getValueOrDefault(BOOMR.getVar("c.ttfi")),firstInputDelay=impl.getValueOrDefault(BOOMR.getVar("c.fid")),averageFrameRate=impl.getValueOrDefault(BOOMR.getVar("c.f")),pageExecution=impl.getValueOrDefault(BOOMR.getVar("t_page")),networkTimeMs=impl.getValueOrDefault(BOOMR.getVar("t_resp")),omnitureStr=tti+"|"+timeToInteractVisuallyReady+"|"+t_done+"|"+timeToFirstInteraction+"|"+firstInputDelay+"|"+averageFrameRate+"|"+pageExecution+"|"+networkTimeMs+"|"+httpInitiator+"|",validationStr=impl.getValidationChar(tti)+"|"+impl.getValidationChar(timeToInteractVisuallyReady)+"|"+impl.getValidationChar(t_done)+"|"+impl.getValidationChar(timeToFirstInteraction)+"|"+impl.getValidationChar(firstInputDelay)+"|"+impl.getValidationChar(averageFrameRate)+"|"+impl.getValidationChar(pageExecution)+"|"+impl.getValidationChar(networkTimeMs);w.Dell.Metrics.sc.boomerangtti=omnitureStr+validationStr}},getValidationChar:function getValidationChar(ttiVar){return isNaN(ttiVar)||ttiVar<0||999999<ttiVar?"N":"Y"},getValueOrDefault:function getValueOrDefault(preferredValue,backUpValue){var value=preferredValue||backUpValue;return!value||isNaN(value)?-1:value}};BOOMR.plugins.omniture={init:function(config){BOOMR.utils.pluginConfig(impl,config,"omniture",[]);BOOMR.subscribe("before_beacon",impl.prepareOmnitureData,null,impl);return this},is_complete:function(){return!0}}}}(window);!function(window,document){"use strict";var Dell=window.Dell||{};Dell.com=Dell.com||{};Dell.com.Boomr=Dell.com.Boomr||{};Dell.Metrics=Dell.Metrics||{};Dell.Metrics.sc=Dell.Metrics.sc||{};var isBoomerangEnabled=window.isBoomerangEnabled,s_dell=window.s_dell,SHOP=window.SHOP,tntTokens=window.tntTokens,jQuery=window.jQuery;(function(){var init=!1,rumCki=function getCookie(n){var match=document.cookie.match(new RegExp("(^| )"+n+"=([^;]+)"));return match?match[2]:null}("rumCki"),appId="Unknown_App",server="",userObj={},enableMetrics=void 0===isBoomerangEnabled||isBoomerangEnabled,bfulst=0,ulst=0,host=window.location.hostname,hostRegx=new RegExp("^(((ea2cn|no2cn).shop)|(www-(ea2cn|no2cn)-p(1|2)-csb)|(.*-web-prod..*.pcf)|www-csb|china|deals|www).dell.com"),prd=!!host&&hostRegx.test(host),domain=prd?"https://boomerang.dell.com":"https://sit-boomerang-api-core.ausmpc01.pcf.dell.com",wp=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance,ls=!!window.sessionStorage&&"function"==typeof sessionStorage.getItem&&"function"==typeof sessionStorage.setItem;if(enableMetrics){if(window.addEventListener){window.addEventListener("beforeunload",function(){if(wp!==undefined){bfulst=wp.now();!function startTmr(n){wp.mark(n+"-start")}("boomr-beforeunload")}});window.addEventListener("unload",function(){if(wp!==undefined&&0<bfulst){ulst=window.performance.now();!function endTmr(n){wp!==undefined&&wp.mark(n+"-end")}("boomr-beforeunload");!function setCache(n,v){try{ls&&null!==v&&sessionStorage.setItem(n,JSON.stringify(v))}catch(e){}}("boomr-beforeunload",Math.round(ulst-bfulst))}})}!function ready(cb){"loading"===document.readyState&&window.addEventListener?window.addEventListener("load",cb,!1):cb()}(function initialize(){if(!init){!function setAppInfo(){if(Dell.Metrics.sc.cms){var cms=Dell.Metrics.sc.cms.toLowerCase();if("undefined"!=typeof Dell.Metrics.sc.module){switch(Dell.Metrics.sc.module){case"configurator":appId="csb_configurator";break;default:appId=Dell.Metrics.sc.module}var smch="";try{smch=$('meta[name="SMch"]').attr("content")}catch(e){}server=Dell.Metrics.sc.smch?Dell.Metrics.sc.smch:smch}else switch(cms){case"stp":appId="ecomm"===Dell.Metrics.sc.waapplicationname?"csb_cart":"csb_browse";server=Dell.Metrics.sc.smch?Dell.Metrics.sc.smch:"";break;case"bf-edge":appId="csb_deals";userObj.pagename=void 0!==s_dell?s_dell.pageName:s_dell;server=Dell.Metrics.sc.smch?Dell.Metrics.sc.smch:"";break;case"nextgen":appId="csb_nextgen";server=jQuery("#sn").text();break;case"storm":appId="csb_storm";server=jQuery(".secretTextNextGen").text();break;case"fuel":appId="csb_support";server=Dell.Metrics.sc.tlservername;break;default:appId="csb_learn";server=jQuery('meta[name="servername"]').attr("content")}if(Dell.Services&&Dell.Services.userContext)userObj=Dell.Services.userContext.get();else{userObj.Country=Dell.Metrics.sc.country;userObj.Segment=Dell.Metrics.sc.segment;userObj.Language=Dell.Metrics.sc.language;userObj.CustomerSet=Dell.Metrics.sc.customerset}Dell.Metrics.sc.application_name&&(userObj.application_name=Dell.Metrics.sc.application_name?Dell.Metrics.sc.application_name+(Dell.Metrics.sc.module?"_"+Dell.Metrics.sc.module:""):Dell.Metrics.sc.applicationname);!userObj.pagename&&Dell.Metrics.sc.pagename&&(userObj.pagename=Dell.Metrics.sc.pagename);Dell.Metrics.sc.multioc&&(userObj.multioc=Dell.Metrics.sc.multioc);void 0!==SHOP&&SHOP.Transactional&&SHOP.Transactional.Breakpoint&&SHOP.Transactional.Breakpoint.getMediaQuery&&(userObj.breakpoint=SHOP.Transactional.Breakpoint.getMediaQuery());!userObj.dc&&Dell.Metrics.sc.dc&&(userObj.dc=Dell.Metrics.sc.dc);wp&&window.performance.getEntriesByType("navigation").length&&(userObj.IsPageCached=window.performance.getEntriesByType("navigation")[0].encodedBodySize>window.performance.getEntriesByType("navigation")[0].transferSize);userObj.TntFlag=!1;if(void 0!==tntTokens)for(var i=0,maxTokens=tntTokens.length;i<maxTokens;i++)if("dell-global-mbox"===tntTokens[i].mbox&&tntTokens[i].responseTokens&&0<tntTokens[i].responseTokens.length){userObj.TntFlag=!0;return}}}();BOOMR.xhr_excludes={"conductor.clicktale.net":!0,"ing-district.clicktale.net":!0,"cdnssl.clicktale.net":!0,"i.dell.com/tlsdata":!0,"TLTarget.aspx":!0,"report.dell.glassboxdigital.io":!0,"gbxgateway.dell.com":!0};BOOMR.init({beacon_url:domain+"/api/beacon",beacon_type:"POST",site_domain:"dell.com",autorun:!0,instrument_xhr:!0,RT:{enabled:!0,clearOnBeacon:!0},NavigationTiming:{enabled:!0,clearOnBeacon:!0},PaintTiming:{enabled:!0},Errors:{enabled:function enableErrorLogging(){var enableClientErrorLogging=!1;if(void 0===isBoomerangEnabled||isBoomerangEnabled)if(null!==rumCki&&""!==rumCki)enableClientErrorLogging="true"===rumCki.toLowerCase();else{var exp=-1!==navigator.userAgent.toLowerCase().indexOf("msie")?null:0;rumCki=enableClientErrorLogging=Math.floor(100*Math.random())<=10;document.cookie="rumCki="+escape(enableClientErrorLogging)+";expires="+exp+";path=/"}return enableClientErrorLogging||!prd}(),sendAfterOnload:!0,monitorEvents:!1,monitorTimeout:!1},mcmIDCapture:{enabled:!0},Omniture:{enabled:!0,clearOnBeacon:!0},Continuity:{enabled:!0,afterOnload:!0,waitAfterOnload:1e3,monitorStats:!1,monitorFrameRate:!1,monitorInteractions:!1,clearOnBeacon:!0},UserTiming:{enabled:!0,clearOnBeacon:!0},ResourceTiming:{enabled:!0,clearOnBeacon:!0,splitAtPath:!0},log:function(){},applicationInfo:{getAppId:function(){return appId},getServerName:function(){return server},getUserObj:function(){return userObj}},CsbPlugin:{userObj:userObj}});if(void 0!==Dell&&"undefined"!=typeof Dell.logger){for(var jsLog=Dell.logger.getLog(),i=0,maxLogs=jsLog.length;i<maxLogs;i++)BOOMR.addError(jsLog[i].consoleInvoked||jsLog[i].logInvoked?jsLog[i].message:jsLog[i]);Dell.logger.disableLogger()}init=!0}})}}).call(Dell.com.Boomr)}(window,document);BOOMR.t_end=(new Date).getTime();
