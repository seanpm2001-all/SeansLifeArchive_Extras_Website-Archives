var bazaarVoice = function (a) { if ("undefined" != typeof rzVars && rzVars.hasOwnProperty("isBazaarVoiceEnabled") && "boolean" == typeof rzVars.isBazaarVoiceEnabled && rzVars.isBazaarVoiceEnabled && rzVars.hasOwnProperty("bazaarVoiceApiUrl") && "string" == typeof rzVars.bazaarVoiceApiUrl) { var r = a("#cfBazaarReviewWrapper").length > 0, t = rzVars.bazaarVoiceApiUrl, e = r ? a("#cfBazaarReviewWrapper").offset().top - 2500 : 0, o = !1; perfMetrics("start", "ajax:" + t), a.ajax({ url: t, dataType: "script", async: !0, cache: !0 }).done(function () { perfMetrics("end", "ajax:" + t), r && (cfVars.body.on("click", ".bv_button_component_container .bv_button_buttonFull", function () { a("html, body").animate({ scrollTop: a("#cfBazaarReviewWrapper").offset().top - a(".cf-tab-nav-row").height() }, 300) }), a("body").hasClass("cf-is-mobile") ? a(".ratings-tab-trigger").on("click touchend", function () { i(), o = !0 }) : window.addEventListener("scroll", cfThrottle(function (r) { !o && a(window).scrollTop() > e && (i(), o = !0) }, 100))), perfMetrics("start", "ajax-callback:" + t), perfMetrics("end", "ajax-callback:" + t) }).fail(function (a, r) { perfMetrics("end", "ajax:" + t), cfLog.log(t + " script failed to load. jqxhr: " + a + ", textStatus: " + r) }), a(".cf-is-mobile").on("click touchend", "[data-bv-show=rating_summary]:not([data-bv-product-id=Dell-Premium-Support-Plus-US-CSMR-PilotV1], [data-bv-product-id=Dell-Premium-Support-US-CSMR-PilotV1], [data-bv-product-id=Pro_Support_v1], [data-bv-product-id=Pro_Support_Plus_v1]) #ratings-summary", function (r) { r.preventDefault(), r.stopPropagation(); var t = a(".ratings-tab-trigger"); 0 !== t.length && (t.trigger("click"), setTimeout(function () { var r = a(".cfm-masthead").outerHeight() + a("#config_menu").outerHeight() || 114; 0 !== a("#cfm_off_screen_pane").length && a("#cfm_off_screen_pane").animate({ scrollTop: a(".cf-ratings-section").offset().top - r }, 300) }, 350)) }) } function i() { var r = [], t = 0, e = rzVars.productCode; !e || a("#cfBazaarReviewWrapper").length < 1 || (r[t++] = '<div data-bv-show="review_highlights" data-bv-product-id="' + e + '"></div>', r[t++] = '<div data-bv-show="reviews" data-bv-product-id="' + e + '"></div>', r[t++] = '<div data-bv-show="questions" data-bv-product-id="' + e + '"></div>', a("#cfBazaarReviewWrapper").html(r.join("\n"))) } return { cfLoadReviews: i } }(jQuery);
